{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Simulaci\u00f3n de circuitos electr\u00f3nicos \u00b6 Veremos como hacer simulaciones a trav\u00e9s de SPICE (Simulation Program Integrated with Circuit Emphasis) que fue desarrollado por la Universidad de California, Berkeley en 1973 por Donald O. Pederson y Laurence W. Nagel. SPICE es sin duda el simulador de circuitos m\u00e1s utilizado a lo largo de d\u00e9cadas. KiCad nos ofrece simulaci\u00f3n integrada a trav\u00e9s del motor interno proporcionado por ngspice . Veremos como configurar correctamente un proyecto KiCad para su simulaci\u00f3n y como exportar la netlist para para simulaci\u00f3n en un simulador externo, en nuestro caso LTspice , que es un programa freeware que nos permite algunas caracter\u00edsticas adicionales. Comenzaremos entonces por dar una introducci\u00f3n al programa LTspice .","title":"Introducci\u00f3n"},{"location":"#simulacion-de-circuitos-electronicos","text":"Veremos como hacer simulaciones a trav\u00e9s de SPICE (Simulation Program Integrated with Circuit Emphasis) que fue desarrollado por la Universidad de California, Berkeley en 1973 por Donald O. Pederson y Laurence W. Nagel. SPICE es sin duda el simulador de circuitos m\u00e1s utilizado a lo largo de d\u00e9cadas. KiCad nos ofrece simulaci\u00f3n integrada a trav\u00e9s del motor interno proporcionado por ngspice . Veremos como configurar correctamente un proyecto KiCad para su simulaci\u00f3n y como exportar la netlist para para simulaci\u00f3n en un simulador externo, en nuestro caso LTspice , que es un programa freeware que nos permite algunas caracter\u00edsticas adicionales. Comenzaremos entonces por dar una introducci\u00f3n al programa LTspice .","title":"Simulaci\u00f3n de circuitos electr\u00f3nicos"},{"location":"Ejemplos/explicacion/","text":"LTSpice XVII a trav\u00e9s de ejemplos \u00b6 Introducci\u00f3n \u00b6 Vamos a explicar los tipos de simulaciones posibles bas\u00e1ndonos en el libro publicado bajo licencia Creative Common Share Alike titulado LTSPICE - An\u00e1lisis de circuitos y dispositivos electr\u00f3nicos de M\u00f3nica Liliana Gonz\u00e1lez de la serie Libros de C\u00e1tedra publicado por la editorial de la Universidad nacional de la Plata. En la bibliografia se encuentra en enlace de descarga desde la fuente. Tambi\u00e9n podemos descargarlo desde esta misma web. Este libro es un manual completo de manejo del programa que recomendamos como guia del mismo. En esta introducci\u00f3n simplemente describiremos los aspectos fundamentales de manejo b\u00e1sico. En la imagen 1 tenemos la descripci\u00f3n breve de los elementos que componen la barra de herramientas. Imagen 1 Descripci\u00f3n de la barra de herramientas Ejemplo 1. Simulaci\u00f3n DC \u00b6 A continuaci\u00f3n vemos una animaci\u00f3n como ejemplo b\u00e1sico de captura de un esquema, colocaci\u00f3n de nombres de nodos y edici\u00f3n del valor de los componentes. En la animaci\u00f3n siguiente vemos las selecciones para crear una simulaci\u00f3n con an\u00e1lisis DC del punto de trabajo. El esquema est\u00e1 disponible para su descarga en el enlace Ejemplo 2. Circuito RLC serie para simulaci\u00f3n en el tiempo \u00b6 Para esta simulaci\u00f3n vamos en primer lugar a realizar la captura del circuito RLC de la imagen 2. Imagen 2 Captura circuito RLC serie La configuraci\u00f3n de la fuente de tensi\u00f3n V1 es un pulso de amplitud 10 V. Configurada como se\u00f1al lineal a trozos o PWL (Piece-Wise Linear) de la forma que vemos en la imagen 3. Imagen 3 Configuraci\u00f3n PWL de la fuente Para mas detalles sobre este, y otros, tipos de fuente se puede consultar este enlace o bien este otro . En esta ocasi\u00f3n la simulaci\u00f3n se realiza en un intervalo de tiempo definido por la sentencia: .tran 0 0.5ms 0 0.01m que aparece en la imagen 2 y que se configura como vemos en la imagen 4. Imagen 4 Configuraci\u00f3n de la simulaci\u00f3n en el tiempo Esta configuraci\u00f3n indica que se va a realizar un an\u00e1lisis el tiempo (.tran), en el rango de 0 a 5 ms y tomando un intervalo de tiempo de simulaci\u00f3n de 0.01ms. El esquema est\u00e1 disponible para su descarga en el enlace En la siguiente animaci\u00f3n vemos el efecto de correr la simulaci\u00f3n y si vamos moviendo el cursor vemos que al apuntar a un nodo aparece una punta de prueba de tensi\u00f3n de color rojo, Al hacer clic con el bot\u00f3n izquierdo se obtiene la forma de onda del nodo seleccionado respecto de la referencia de 0V. Observamos tambi\u00e9n que si se coloca el cursor sobre un componente aparece el icono de una sonda de corriente que nos permite obtener la forma de onda de la corriente por el componente seleccionado. Tambi\u00e9n podemos medir la tensi\u00f3n entre dos nodos y para ello debemos hacer clic en un nodo y manteniendo pulsado el bot\u00f3n del rat\u00f3n, arrastramos hacia el otro nodo respecto del cual se pretende medir. Si queremos medir la corriente que circula por un conductor hacemos clic sobre el cable mientras se mantiene presionada la tecla \"Alt\". Si con la tecla \"Alt\" pulsada hacemos clic en un componente lo que obtendremos es la forma de onda de la potencia instant\u00e1nea en ese componente. En la imagen 5 vemos distintas gr\u00e1ficas correspondientes a esto. Imagen 5 Gr\u00e1ficas de corrientes, tensiones y potencias Estas situaciones las vemos reflejadas en la animaci\u00f3n siguiente. Si estamos trabajando con el circuito anterior y queremos recuperar estas gr\u00e1ficas las tenemos disponibles en el enlace para descargar . Ejemplo 3. Recortador de dos niveles con diodos zener \u00b6 Comenzamos por situar en nuestro esquema una fuente de tensi\u00f3n de la que editamos sus propiedades de forma que en avanzadas tengamos lo que observamos en la imagen 6. Imagen 6 Opciones avanzadas de configuraci\u00f3n de la fuente de tensi\u00f3n Cuando cerramos la ventana de la imagen 6 pulsando el bot\u00f3n Ok la situaci\u00f3n en la zona de trabajo es la que vemos en la imagen 7. Imagen 7 Fuente de tensi\u00f3n configurada Ahora situamos una resistencia en nuestro esquema posicionandola de forma horizontal (Ctrl+r) y le ponemos como valor 2k2. Opcionalmente podemos establecer su tolerancia y su potencia. Si ahora nos situamos sobre la referencia de la resistencia y hacemos clic con el bot\u00f3n derecho accedemos a las opciones de dicha referencia y, en este caso, le cambiamos el nombre a la resistencia, quedando el resultado que vemos en las im\u00e1genes 8a y 8b, durante la edici\u00f3n y una vez confirmada esta. Imagen 8a Imagen 8b Configuraci\u00f3n de la referencia de una resistencia Resistencia con referencia modificada Ahora procedemos a colocar un diodo en nuestro esquema y situ\u00e1ndonos sobre el mismo editamos sus propiedades accediendo a la ventana que observamos en la imagen 9. Imagen 9 Acceso a configuraciones del diodo Hacemos clic en el bot\u00f3n Pick new diode y en la lista vamos a escoger el diodo zener de 4.7 V 1N750, tal y como se observa en la imagen 10. Imagen 10 Escogemos el zener 1N750 Hacemos una copia del diodo zener, colocamos un simbolo de referencia GND y conectamos los elementos para obtener el esquema que observamos en la imagen 11. Imagen 11 Esquema final Vamos a configurar los datos de simulaci\u00f3n, para ello nos dirigimos al men\u00fa Simulate y escogemos Edit Simulation Cmd . En la ventana que se nos abre (imagen 12) establecemos un an\u00e1lisis temporal con un tiempo de simulaci\u00f3n de 1 ms y con un tiempo de paso o intervalo para cada muestra de 0.01ms. Imagen 12 Configuraci\u00f3n de los par\u00e1metros de simulaci\u00f3n Corremos la simulaci\u00f3n y configuramos las trazas para obtener en un gr\u00e1fico la comparativa entre la entrada y la salida y en otro gr\u00e1fico para ver la tensi\u00f3n en extremos de la resistencia. Debemos obtener algo similar a lo que vemos en la imagen 13. Imagen 13 Resultado de la simulaci\u00f3n El esquema est\u00e1 disponible para su descarga en el enlace , las gr\u00e1ficas las tenemos aqui .","title":"Ejemplos iniciales de simulaci\u00f3n"},{"location":"Ejemplos/explicacion/#ltspice-xvii-a-traves-de-ejemplos","text":"","title":"LTSpice XVII a trav\u00e9s de ejemplos"},{"location":"Ejemplos/explicacion/#introduccion","text":"Vamos a explicar los tipos de simulaciones posibles bas\u00e1ndonos en el libro publicado bajo licencia Creative Common Share Alike titulado LTSPICE - An\u00e1lisis de circuitos y dispositivos electr\u00f3nicos de M\u00f3nica Liliana Gonz\u00e1lez de la serie Libros de C\u00e1tedra publicado por la editorial de la Universidad nacional de la Plata. En la bibliografia se encuentra en enlace de descarga desde la fuente. Tambi\u00e9n podemos descargarlo desde esta misma web. Este libro es un manual completo de manejo del programa que recomendamos como guia del mismo. En esta introducci\u00f3n simplemente describiremos los aspectos fundamentales de manejo b\u00e1sico. En la imagen 1 tenemos la descripci\u00f3n breve de los elementos que componen la barra de herramientas. Imagen 1 Descripci\u00f3n de la barra de herramientas","title":"Introducci\u00f3n"},{"location":"Ejemplos/explicacion/#ejemplo-1-simulacion-dc","text":"A continuaci\u00f3n vemos una animaci\u00f3n como ejemplo b\u00e1sico de captura de un esquema, colocaci\u00f3n de nombres de nodos y edici\u00f3n del valor de los componentes. En la animaci\u00f3n siguiente vemos las selecciones para crear una simulaci\u00f3n con an\u00e1lisis DC del punto de trabajo. El esquema est\u00e1 disponible para su descarga en el enlace","title":"Ejemplo 1. Simulaci\u00f3n DC"},{"location":"Ejemplos/explicacion/#ejemplo-2-circuito-rlc-serie-para-simulacion-en-el-tiempo","text":"Para esta simulaci\u00f3n vamos en primer lugar a realizar la captura del circuito RLC de la imagen 2. Imagen 2 Captura circuito RLC serie La configuraci\u00f3n de la fuente de tensi\u00f3n V1 es un pulso de amplitud 10 V. Configurada como se\u00f1al lineal a trozos o PWL (Piece-Wise Linear) de la forma que vemos en la imagen 3. Imagen 3 Configuraci\u00f3n PWL de la fuente Para mas detalles sobre este, y otros, tipos de fuente se puede consultar este enlace o bien este otro . En esta ocasi\u00f3n la simulaci\u00f3n se realiza en un intervalo de tiempo definido por la sentencia: .tran 0 0.5ms 0 0.01m que aparece en la imagen 2 y que se configura como vemos en la imagen 4. Imagen 4 Configuraci\u00f3n de la simulaci\u00f3n en el tiempo Esta configuraci\u00f3n indica que se va a realizar un an\u00e1lisis el tiempo (.tran), en el rango de 0 a 5 ms y tomando un intervalo de tiempo de simulaci\u00f3n de 0.01ms. El esquema est\u00e1 disponible para su descarga en el enlace En la siguiente animaci\u00f3n vemos el efecto de correr la simulaci\u00f3n y si vamos moviendo el cursor vemos que al apuntar a un nodo aparece una punta de prueba de tensi\u00f3n de color rojo, Al hacer clic con el bot\u00f3n izquierdo se obtiene la forma de onda del nodo seleccionado respecto de la referencia de 0V. Observamos tambi\u00e9n que si se coloca el cursor sobre un componente aparece el icono de una sonda de corriente que nos permite obtener la forma de onda de la corriente por el componente seleccionado. Tambi\u00e9n podemos medir la tensi\u00f3n entre dos nodos y para ello debemos hacer clic en un nodo y manteniendo pulsado el bot\u00f3n del rat\u00f3n, arrastramos hacia el otro nodo respecto del cual se pretende medir. Si queremos medir la corriente que circula por un conductor hacemos clic sobre el cable mientras se mantiene presionada la tecla \"Alt\". Si con la tecla \"Alt\" pulsada hacemos clic en un componente lo que obtendremos es la forma de onda de la potencia instant\u00e1nea en ese componente. En la imagen 5 vemos distintas gr\u00e1ficas correspondientes a esto. Imagen 5 Gr\u00e1ficas de corrientes, tensiones y potencias Estas situaciones las vemos reflejadas en la animaci\u00f3n siguiente. Si estamos trabajando con el circuito anterior y queremos recuperar estas gr\u00e1ficas las tenemos disponibles en el enlace para descargar .","title":"Ejemplo 2. Circuito RLC serie para simulaci\u00f3n en el tiempo"},{"location":"Ejemplos/explicacion/#ejemplo-3-recortador-de-dos-niveles-con-diodos-zener","text":"Comenzamos por situar en nuestro esquema una fuente de tensi\u00f3n de la que editamos sus propiedades de forma que en avanzadas tengamos lo que observamos en la imagen 6. Imagen 6 Opciones avanzadas de configuraci\u00f3n de la fuente de tensi\u00f3n Cuando cerramos la ventana de la imagen 6 pulsando el bot\u00f3n Ok la situaci\u00f3n en la zona de trabajo es la que vemos en la imagen 7. Imagen 7 Fuente de tensi\u00f3n configurada Ahora situamos una resistencia en nuestro esquema posicionandola de forma horizontal (Ctrl+r) y le ponemos como valor 2k2. Opcionalmente podemos establecer su tolerancia y su potencia. Si ahora nos situamos sobre la referencia de la resistencia y hacemos clic con el bot\u00f3n derecho accedemos a las opciones de dicha referencia y, en este caso, le cambiamos el nombre a la resistencia, quedando el resultado que vemos en las im\u00e1genes 8a y 8b, durante la edici\u00f3n y una vez confirmada esta. Imagen 8a Imagen 8b Configuraci\u00f3n de la referencia de una resistencia Resistencia con referencia modificada Ahora procedemos a colocar un diodo en nuestro esquema y situ\u00e1ndonos sobre el mismo editamos sus propiedades accediendo a la ventana que observamos en la imagen 9. Imagen 9 Acceso a configuraciones del diodo Hacemos clic en el bot\u00f3n Pick new diode y en la lista vamos a escoger el diodo zener de 4.7 V 1N750, tal y como se observa en la imagen 10. Imagen 10 Escogemos el zener 1N750 Hacemos una copia del diodo zener, colocamos un simbolo de referencia GND y conectamos los elementos para obtener el esquema que observamos en la imagen 11. Imagen 11 Esquema final Vamos a configurar los datos de simulaci\u00f3n, para ello nos dirigimos al men\u00fa Simulate y escogemos Edit Simulation Cmd . En la ventana que se nos abre (imagen 12) establecemos un an\u00e1lisis temporal con un tiempo de simulaci\u00f3n de 1 ms y con un tiempo de paso o intervalo para cada muestra de 0.01ms. Imagen 12 Configuraci\u00f3n de los par\u00e1metros de simulaci\u00f3n Corremos la simulaci\u00f3n y configuramos las trazas para obtener en un gr\u00e1fico la comparativa entre la entrada y la salida y en otro gr\u00e1fico para ver la tensi\u00f3n en extremos de la resistencia. Debemos obtener algo similar a lo que vemos en la imagen 13. Imagen 13 Resultado de la simulaci\u00f3n El esquema est\u00e1 disponible para su descarga en el enlace , las gr\u00e1ficas las tenemos aqui .","title":"Ejemplo 3. Recortador de dos niveles con diodos zener"},{"location":"Instalaciones/wine/","text":"Como instalar wine en ubuntu 20.04 \u00b6 Introducci\u00f3n \u00b6 A veces, como ocurre en esta ocasi\u00f3n, el software que necesitamos no est\u00e1 disponible para distribuciones Linux. En muchos casos es suficiente con instalar Wine (Wine Is Not an Emulator) para poder ejecutar estas aplicaciones. Wine es una implementaci\u00f3n de una interfaz de aplicaciones de Windows para sistemas operativos basados en Unix. Soporte para arquitectura de 32 bits \u00b6 Lo primero que vamos a hacer es agregar soporte para arquitectura de 32 bits. Abrimos una terminal de comandos y ejecutamos: $ sudo dpkg --add-architecture i386 Si el comando anterior ha tenido \u00e9xito, el que vemos a continuaci\u00f3n deber\u00e1 devolvernos i386 . $ sudo dpkg --print-foreign-architectures En la imagen 1 observamos lo anterior. Imagen 1 Terminal con comandos para a\u00f1adir arquitectura de 32 bits A\u00f1adir repositorio e instalar Wine \u00b6 Es un poco complicado saber que versi\u00f3n de Wine es la mejor para nuestro software, incluso es posible tener instaladas varias versiones al mismo tiempo, aunque hay que tener mucho cuidado con los conflictos entre dependencias entre versiones m\u00faltiples. En el enlace tenemos la base de datos oficial de aplicaciones wine por si queremos investigar el tema de forma mas profunda. Vamos a descargar y a\u00f1adir el repositorio WineHQ tecleando los siguientes comandos: Descargamos y agregamos la clave (key) del repositorio: $ wget -O - https://dl.winehq.org/wine-builds/winehq.key | sudo apt-key add - Agregamos el repositorio, en nuestro caso Ubuntu 20.04 Focal Fosa: $ sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/ Ahora actualizamos los paquetes: $ sudo apt update Procedemos a instalar la versi\u00f3n de Wine de entre las disponibles: Estable: sudo apt install --install-recomienda winehq-stable En desarrollo: $ sudo apt install --install-recomienda winehq-devel En preparaci\u00f3n: $ sudo apt install --install-recomienda winehq-staging Una vez finalizada la instalaci\u00f3n podemos ver si todo ha funcionado solicitando la versi\u00f3n instalada con el comando $ wine --version , tal y como observamos en la imagen 2. Imagen 2 Versi\u00f3n de Wine instalada Configuraci\u00f3n de Wine \u00b6 Ahora podemos entrar en la configuraci\u00f3n de Wine tecleando en una terminal $ winecfg y se nos abrir\u00e1 una ventana como la que vemos en la imagen 3. Imagen 3 Ventana de configuraci\u00f3n de Wine Si se solicita instalar .NET framework, Wine Gecko o Mono framework procedemos con la instalaci\u00f3n. Desde la ventana de la imagen 3 podemos, por ejemplo, seleccionar la versi\u00f3n de sistema operativo Windows con la que deseamos trabajar. En la animaci\u00f3n siguiente observamos este punto. Desinstalar Wine \u00b6 Si necesitamos eliminar Wine de nuestro sistema ejecutamos los comandos siguientes: $ sudo apt-get purge wine wine-* $ sudo apt-get autoremove --purge Para tener una desinstalaci\u00f3n limpia eliminamos el directorio que contiene todos los datos generados durante el tiempo de ejecuci\u00f3n de wine. $ rm -rf ~/.wine/ $ rm -rf ~/.local/share/applications/wine*","title":"Wine"},{"location":"Instalaciones/wine/#como-instalar-wine-en-ubuntu-2004","text":"","title":"Como instalar wine en ubuntu 20.04"},{"location":"Instalaciones/wine/#introduccion","text":"A veces, como ocurre en esta ocasi\u00f3n, el software que necesitamos no est\u00e1 disponible para distribuciones Linux. En muchos casos es suficiente con instalar Wine (Wine Is Not an Emulator) para poder ejecutar estas aplicaciones. Wine es una implementaci\u00f3n de una interfaz de aplicaciones de Windows para sistemas operativos basados en Unix.","title":"Introducci\u00f3n"},{"location":"Instalaciones/wine/#soporte-para-arquitectura-de-32-bits","text":"Lo primero que vamos a hacer es agregar soporte para arquitectura de 32 bits. Abrimos una terminal de comandos y ejecutamos: $ sudo dpkg --add-architecture i386 Si el comando anterior ha tenido \u00e9xito, el que vemos a continuaci\u00f3n deber\u00e1 devolvernos i386 . $ sudo dpkg --print-foreign-architectures En la imagen 1 observamos lo anterior. Imagen 1 Terminal con comandos para a\u00f1adir arquitectura de 32 bits","title":"Soporte para arquitectura de 32 bits"},{"location":"Instalaciones/wine/#anadir-repositorio-e-instalar-wine","text":"Es un poco complicado saber que versi\u00f3n de Wine es la mejor para nuestro software, incluso es posible tener instaladas varias versiones al mismo tiempo, aunque hay que tener mucho cuidado con los conflictos entre dependencias entre versiones m\u00faltiples. En el enlace tenemos la base de datos oficial de aplicaciones wine por si queremos investigar el tema de forma mas profunda. Vamos a descargar y a\u00f1adir el repositorio WineHQ tecleando los siguientes comandos: Descargamos y agregamos la clave (key) del repositorio: $ wget -O - https://dl.winehq.org/wine-builds/winehq.key | sudo apt-key add - Agregamos el repositorio, en nuestro caso Ubuntu 20.04 Focal Fosa: $ sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/ Ahora actualizamos los paquetes: $ sudo apt update Procedemos a instalar la versi\u00f3n de Wine de entre las disponibles: Estable: sudo apt install --install-recomienda winehq-stable En desarrollo: $ sudo apt install --install-recomienda winehq-devel En preparaci\u00f3n: $ sudo apt install --install-recomienda winehq-staging Una vez finalizada la instalaci\u00f3n podemos ver si todo ha funcionado solicitando la versi\u00f3n instalada con el comando $ wine --version , tal y como observamos en la imagen 2. Imagen 2 Versi\u00f3n de Wine instalada","title":"A\u00f1adir repositorio e instalar Wine"},{"location":"Instalaciones/wine/#configuracion-de-wine","text":"Ahora podemos entrar en la configuraci\u00f3n de Wine tecleando en una terminal $ winecfg y se nos abrir\u00e1 una ventana como la que vemos en la imagen 3. Imagen 3 Ventana de configuraci\u00f3n de Wine Si se solicita instalar .NET framework, Wine Gecko o Mono framework procedemos con la instalaci\u00f3n. Desde la ventana de la imagen 3 podemos, por ejemplo, seleccionar la versi\u00f3n de sistema operativo Windows con la que deseamos trabajar. En la animaci\u00f3n siguiente observamos este punto.","title":"Configuraci\u00f3n de Wine"},{"location":"Instalaciones/wine/#desinstalar-wine","text":"Si necesitamos eliminar Wine de nuestro sistema ejecutamos los comandos siguientes: $ sudo apt-get purge wine wine-* $ sudo apt-get autoremove --purge Para tener una desinstalaci\u00f3n limpia eliminamos el directorio que contiene todos los datos generados durante el tiempo de ejecuci\u00f3n de wine. $ rm -rf ~/.wine/ $ rm -rf ~/.local/share/applications/wine*","title":"Desinstalar Wine"},{"location":"Instalaciones/LTSpice/Elementos/","text":"Elementos mas usuales en los circuitos electr\u00f3nicos \u00b6 Antes de comenzar con las descripciones de los distintos elementos b\u00e1sicos vamos a ver como se ponen las unidades y que sufijos multiplicadores son v\u00e1lidos. En la tabla siguiente vemos las unidades que se puede usar. Sufijo Valor (nombre) F = f 10 -15 (femto) P = p 10 -12 (pico) N = n 10 -9 (nano) U = u 10 -6 (micro) M = m 10 -3 (mili) K = k 10 3 (kilo) MEG = meg 10 6 (mega) G = g 10 9 (giga T = t 10 12 (tera) Unidad Nnombre V Voltios A Amperios OHM Ohmios Hz Hercios H Henrios F Faradios Resistencia \u00b6 Se trata sin duda del componente mas utilizado en circutos electr\u00f3nicos. En LTSpice disponemos de dos modelos que solamente difieren en el s\u00edmbolo. En la imagen 1 vemos el s\u00edmbolo para ambos casos y la edici\u00f3n de las propiedades (id\u00e9nticas para ambos) de uno de ellos, Imagen 1 S\u00edmbolo y propiedades de res y res2 Desde el men\u00fa Wiev podemos acceder a SPICE netlist que nos mostrar\u00e1 una descripci\u00f3n como la que se observa en la imagen 2. Imagen 2 Netlist de los dos modelos de resistencia La netlist es un archivo de texto con la descripci\u00f3n del circuito y es una forma que usan otras versiones del simulador Spice. La forma R1 NC_01 NC_02 R se lee como que la resistencia R1 se conecta entre los nodos 01 y 02 (NC indica que es el pin de un componente no conectado) y que tiene como valor R que podemos suministrar directamente o seleccionar de la base de datos con Select Resistor . En la imagen 3 vemos el efecto en la netlist al realizar una conexi\u00f3n entre ambas resistencias y como quedan renombrados los nodos que describen la conexi\u00f3n. Imagen 3 Cambios en la netlist por cambios en el circuito Condensador \u00b6 En este caso disponemos de dos posibilidades, condensador no polarizado (cap) y condensador polarizado o electrol\u00edtico (polcap). En la imagen 4 vemos un condensador no polarizado y sus propiedades con un modelo escogido de la base de datos. Imagen 4 Condensador no polarizado y sus propiedades Los valores destacados corresponden a los valores nominales de capacidad, tensi\u00f3n m\u00e1xima soportada y corriente. En la imagen 5 tenemos la misma situaci\u00f3n pero en este caso para un condensador polarizado. Imagen 5 Condensador polarizado y sus propiedades Los valores destacados permiten establecer los valores para un modelo equivalente como el que vemos en la imagen 6. Imagen 6 Modelo equivalente de un condensador Las descripciones en modo texto de ambos componentes son las siguientes: C1 NC_01 NC_02 100\u00b5 V=8 Irms=4.74342 Rser=0.01 Lser=0 mfg=\"KEMET\" pn=\"A700X107M008ATE010\" type=\"Al electrolytic\" C2 NC_03 NC_04 0.01\u00b5 V=16 Irms=647m Rser=0.0322889 Lser=0 mfg=\"KEMET\" pn=\"C0201C103K4PAC\" type=\"X5R\" Bobina o inductor \u00b6 Est\u00e1n disponibles dos modelos de componente, ind para una bobina normal e ind2 que incluye en el s\u00edmbolo un punto para indicar la fase del componente. En la imagen 7 vemos una bobina y sus propiedades con un modelo escogido de la base de datos. Imagen 7 Bobina y sus propiedades Los valores destacados corresponden a los valores nominales de inductancia y corriente de pico. En la imagen 8 tenemos la misma situaci\u00f3n pero en este caso para una bobina con punto indicador de fase. Imagen 8 Bobina con indicador de fase y sus propiedades Los valores destacados permiten establecer los valores para un modelo equivalente como el que vemos en la imagen 9. Imagen 9 Modelo equivalente de una bobina Las descripciones en modo texto de ambos componentes son las siguientes: L1 N001 N002 68\u00b5 Ipk=0.55 Rser=0.822 Rpar=112000 Cpar=2.186p mfg=\"Bourns, Inc.\" pn=\"SDE0403A-680K\" L2 N002 N003 2.2\u00b5 Ipk=3.3 Rser=0.032 Rpar=8999 Cpar=2.181p mfg=\"Bourns, Inc.\" pn=\"SDE0403A-2R2M\" Fuente de excitaci\u00f3n de tensi\u00f3n o corriente continua \u00b6 En la imagen 10 observamos una fuente de tensi\u00f3n que podemos localizar como voltage y observamos que le podemos incluir una impedancia en serie. Imagen 10 Fuente de tensi\u00f3n constante y su configuraci\u00f3n b\u00e1sica En la imagen 11 observamos una fuente de tensi\u00f3n que podemos localizar como current y observamos que le podemos incluir una impedancia en serie. Imagen 11 Fuente de tensi\u00f3n constante y su configuraci\u00f3n b\u00e1sica Para los dos tipos tenemos el bot\u00f3n Advanced que nos abre la ventana que vemos en la imagen 12, donde se observan los principales tipos de fuentes. Imagen 12 Opciones avanzadas de configuraci\u00f3n de fuente DC Fuente sinusoidal \u00b6 Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n SINE la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 13. Imagen 13 Opciones para fuente DC sinusoidal En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades DC offset Tensi\u00f3n de offset V o A Amplitude Amplitud V o A Freq Frecuencia Hz Tdelay Tiempo de retardo s Theta Factor de amortiguamiento 1/s Phi Angulo de fase inicial grados Ncycles N\u00famero de ciclos ciclos En la imagen 14 tenemos un sencillo ejemplo de simulacci\u00f3n con una fuente sinusoidal configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 15 ms a intervalos de 1 ms y comienza en 0. Imagen 14 Simulaci\u00f3n fuente sinusoidal configurada con par\u00e1metros Vamos a explicar la se\u00f1al que entrega la fuente V1. Para ello vamos a partir de las ecuaciones que describen su funcionamiento. Desde el instante t = 0s hasta el tiempo de retardo td: vfuente = voff + vampl sen(2 PI fase/360 PI) Desde el tiempo td hasta el tiempo final de an\u00e1lisis: vfuente = voff + vampl . sen(2 PI (frec (tiempo \u2013 td) + fase/360PI)) e \u2013(tiempo \u2013td).df A continuaci\u00f3n se analizan los resultados obtenidos: Un offset de -2V para una amplitud de 10 V (Vpp = 20V) va a tener como consecuencia que la excursi\u00f3n de la se\u00f1al est\u00e9 entre los -12V y los 8V acusando ese desplazamiento de 2V negativos en ambos semiciclos. Se establecen 10 ciclos a una frecuencia de 1kHz que tendr\u00e1 una duraci\u00f3n menor que laestablecida en las condiciones de simulaci\u00f3n de forma que aparezcan los 10 ciclos completos en la gr\u00e1fica. Se observa claramente en la gr\u00e1fica el retardo de 2ms antes de iniciar el ciclo con un desfase de 90 grados. Finalmente observamos como la se\u00f1al se va amortiguando seg\u00fan la constante establecida. Una vez transcurridos los 10 ciclos previstos la fuente entrega de forma constante el valor de tensi\u00f3n que se obtiene tras la amortiguaci\u00f3n. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto. Fuente exponencial \u00b6 Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n EXP la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 15. Imagen 15 Opciones para fuente DC exponencial En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades Vinitial Valor de la tensi\u00f3n inicial V o A Vpulsed Valor del pulso V o A Rise Delay Tiempo de retardo de subida s Rise Tau Constante de tiempo de subida s Fall Delay Tiempo de retardo de caida s Fall Tau Constante de tiempo de caida s En la imagen 16 tenemos un sencillo ejemplo de simulacci\u00f3n con una fuente exponencial configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 5 s a intervalos de 0.2 s y comienza en 0. Imagen 16 Simulaci\u00f3n fuente exponencial configurada con par\u00e1metros Vamos a explicar la se\u00f1al que entrega la fuente V1. Para ello vamos a partir de las ecuaciones que describen su funcionamiento. [0 <= t <= Rise Delay] intervalo de tiempo que va desde 0 hasta el tiempo de retardo de subida: vfuente = Vinitial [Rise Delay <= t <= Fall Delay] intervalo entre el tiempo de retardo de subida y el tiempo de retardo de bajada o caida: vfuente = Vinitial + (Vpulsed - Vinitial)(1 - e - (t - Rise Delay)/Rise Tau) [t > Fall Delay] intervalo cuando el tiempo se hace mayor que el establecido para el de caida. vfuente = Vinitial + (Vpulsed - Vinitial)(1 - e -(t - Fall Delay)/Fall Tau ) A continuaci\u00f3n se analizan los resultados obtenidos: Partimos de un valor de 0V que se mantiene hasta el momento que transcurre el tiempo establecido como retardo de subida (en nuestro caso dos segundos). Transcurridos dos segundo comienza la subida exponencial con la constante de tiempo establecida de 0.3 segundo tratando de alcanzar los 6V establecidos como m\u00e1ximo. La tendencia de la exponencial trata de ser asint\u00f3tica con el valor l\u00edmite pero en cualquier caso durar\u00e1 hasta el tiempo que se ha establecido para iniciar la caida, que en nuestro caso es los 3 segundos. Se observa claramente en la gr\u00e1fica que con esa constante de subida no da tiempo a alcanzar los 6V antes de que se inicie la caida. Una vez alcanzado el instante de tiempo establecido para iniciar la caida esta se produce de forma abrupta dado que la constante de tiempo establecida en este caso en peque\u00f1a. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto. Fuente de tensi\u00f3n a pulsos \u00b6 Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n PULSE la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 17. Imagen 17 Opciones para fuente DC a pulsos En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades Vinitial Valor de la tensi\u00f3n inicial V o A Von Valor del pulso V o A Tdelay Retardo s Trise Tiempo de subida s Tfall Tiempo de caida s Ton Tiempo de duraci\u00f3n del pulso s Tperiod Periodo s Ncycles N\u00famero de ciclos En la imagen 18 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente pulsante configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 100 ms a intervalos de 0.1 ms y comienza en 0. Imagen 18 Simulaci\u00f3n fuente a pulsos configurada con par\u00e1metros En este caso la explicaci\u00f3n del funcionamiento es bastante simple ya que los datos sirven para configurar una fuente que genera un tren de pulsos con las caracter\u00edsticas especificadas. A continuaci\u00f3n se analizan los resultados obtenidos: Partimos de un valor de 0V que cambia a 5V en un tiempo establecido en 5 us- El nivel de 5V se mantiene durante los 10 ms estsblecidos, instante en que pasa de nuevo a valer 0 con un retardo de 5 us y se mantiene en 0V hasta completar el peeriodo de 20 ms configurado. Finalizado el primer ciclo la secuencia se repite hasta completar los 5 ciclos establecidos. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto. Fuente lineal a tramos \u00b6 Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n PWL la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 19. PWL es acr\u00f3nimo del ingl\u00e9s PieceWise Linear que se traduce como lineal a trozos o tramos. Imagen 19 Opciones para fuente DC PWL En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades time_n Instante de tiempo del para el valor n s value_n Valor de tensi\u00f3n para el valor n V o A La se\u00f1al que entrega la fuente se construye con cada par de valores (time_n,value_n) y se pueden a\u00f1adir mas puntos de los mostrados en la imagen 19 haciendo clic en el bot\u00f3n Additional PWL Points . En la imagen 20 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente PWL configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 10s a intervalos de 1s y comienza en 0. En la imagen tambi\u00e9n podemos ver todos los pares de puntos (time,value) establecidos. Imagen 20 Simulaci\u00f3n fuente PWL En este caso la explicaci\u00f3n del funcionamiento es muy simple y tan solo indicaremos como rese\u00f1able que, a partir del \u00faltimo punto establecido la salida de la fuente mantiene constante su valor en el tiempo. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto. Los datos de los puntos se pueden especificar a trav\u00e9s de un fichero de texto plano como .txt o .csv separando las parejas de datos en dos columnas, tal y como observamos en la imagen 21, donde hemos seleccionado la opci\u00f3n PWL FILE y el fichero E4.csv (tambien podemos cargar el fichero E4.txt que nos dar\u00e1 id\u00e9ntico resultado. Imagen 21 Fichero de texto plano La simulaci\u00f3n a partir de archivo nos origina los resultados que vemos en la imagen 22. Imagen 22 Simulaci\u00f3n fuente PWL a partir de archivo Fuente de frecuencia simple FM \u00b6 Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n SFFM la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 23. Imagen 23 Opciones para fuente de frecuencia simple FM En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro S\u00edmbolo Descripci\u00f3n Unidades DC offset DC Tensi\u00f3n continua de offset V o A Amplitude A Amplitud de la se\u00f1al V o A Carrier Freq CF Frecuencia de la portadora Hz Modulation Index MI Indice o coeficiente de modulaci\u00f3n Signal Freq SF Frecuencia de la se\u00f1al Hz En la imagen 24 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente SFFM configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 2 ms a intervalos de 0.5 ms y comienza en 0. Imagen 24 Simulaci\u00f3n fuente SFFM La explicaci\u00f3n del funcionamiento es bastante simple si se tienen claros los conceptos de se\u00f1al portadora e \u00edndice de modulaci\u00f3n. La se\u00f1al se describe por la siguiente ecuaci\u00f3n: V_{tuente}=DC+A\\cdot sen\\left( 2\\pi \\cdot CF\\cdot t\\right) +MI\\cdot sen\\left( 2\\pi \\cdot SF\\cdot t\\right) V_{tuente}=DC+A\\cdot sen\\left( 2\\pi \\cdot CF\\cdot t\\right) +MI\\cdot sen\\left( 2\\pi \\cdot SF\\cdot t\\right) Otros componentes \u00b6 Existen infinidad de componente y elementos que no vamos a describir uno por uno pues con las bases explicadas hasta el momento tenemos claras las ideas del significado de los par\u00e1metros de los componentes principales. Simplemente nombramos algunos a t\u00edtulo de ejemplo. Inductancia mutua Fuente de tensi\u00f3n controlada por tensi\u00f3n Fuente de corriente controlada por corriente Fuente de corriente controlada por tensi\u00f3n Fuente de tensi\u00f3n controlada por corriente Componentes electr\u00f3nicos diversos Usar un componente que no est\u00e1 en las librer\u00edas \u00b6 Cuando necesitamos utilizar un componente concreto del que no disponemos modelo en las librerias disponibles, ya sea las que se instalan por defecto o simplemente no existe aunque tengamos una base de datos de componentes mas amplia que la original, podemos importar un modelo desde alguna librer\u00eda de las disponibles en la web. Por ejemplo, en el enlace tenemos modelos compatibles con LTSpice XVII. Supongamos por ejemplo que necesitamos obtener la curva caracter\u00edstica del diodo 1N4007 que es un diodo rectificador de la serie 1N4001 - 1N4007 en la que todos son muy similares cambiando solamente el valor de la tensi\u00f3n eficaz inversa entre ellos. Si buscamos en el enlace encontramos justamente el 1N4007 del que nos suministran los siguientes datos: .model 1N4007 D(IS=7.02767n RS=0.0341512 N=1.80803 EG=1.05743 XTI=5 BV=1000 IBV=5e-08 CJO=1e-11 VJ=0.7 M=0.5 FC=0.5 TT=1e-07 mfg=OnSemi type=silicon) En la imagen 25 tenemos el circuito que vamos a construir y el proceso para renombrar al diodo por el valor que necesitamos. Imagen 25 Circuito con diodo 1N4007 El siguiente paso es indicar el modelo del diodo con todos sus par\u00e1metros. Para ello abrimos la ventana de SPICE Directive (\u00faltimo icono de la barra de herramientas) y copiamos los datos del modelo del diodo obtenidos en Internet, imagen 26. Imagen 26 Modelo para el diodo 1N4007 Cuando cerramos la ventana los datos del modelo aparecen sobre la hoja de trabajo, imagen 27. Imagen 27 Modelo de diodo 1N4007 establecido Procedemos a establecer unas condiciones de simulaci\u00f3n por barrido DC como las que vemos en la imagen 28 sin preocuparnos de ello puesto que ser\u00e1n explicadas mas adelante. Imagen 28 Condiciones de simulaci\u00f3n por barrido DC En la imagen 29 tenemos el resultado de obtener la corriente que circula por el diodo. Imagen 29 Curva caracter\u00edstica del diodo 1N4007 Podemos descargar este ejemplo para su estudio. Par\u00e1metros de modelos SPICE \u00b6 Diodo \u00b6 Par\u00e1metro Valor por defecto Significado IS Corriente inversa de saturaci\u00f3n 0.01 pA N Coeficiente de emisi\u00f3n 1 ISR Corriente de saturaci\u00f3n de recombinaci\u00f3n 0 NR Coeficiente de emisi\u00f3n para ISR 2 IKF Corriente codo \\infty \\infty BV Tensi\u00f3n de ruptura \\infty \\infty IBV Corriente para la tensi\u00f3n de ruptura 1 nA NBV Factor de la tensi\u00f3n de ruptura 1 RS Resistencia par\u00e1sita 0 TT Tiempo de respuesta 0 CJO Capacidad de la uni\u00f3n PN sin polarizar 0 VJ Tensi\u00f3n de uni\u00f3n 1 M Coeficiente de uni\u00f3n 0.5 EG Energia del gap 1.11 eV XTI Exponente de la temperatura de IS 3 KF Coeficiente de ruido Flicker 0 AF Exponente de ruido Flicker 1 FC Coeficiente en polarizaci\u00f3n directa para CJ 0.5 Transistor \u00b6 Par\u00e1metro Valor por defecto Significado Valor t\u00edpico IS Corriente inversa de saturaci\u00f3n 1 fA 1 fA BF Valor de Beta 100 100 NF Coeficiente de emisi\u00f3n de la corriente directa 1 1 VAF o VA Tensi\u00f3n de Early directa \\infty \\infty 100 V IKF o IK Corriente de codo \\infty \\infty 10 mA ISE Corriente de saturaci\u00f3n de p\u00e9rdida B-E 1000 A 1000 A NE Coeficiente de emisi\u00f3n de p\u00e9rdida B-E 1.5 2 BR Valor de Beta inversa 1 0.1 NR Coeficiente de emisi\u00f3n para corriente inversa 1 - VAR o VB Tensi\u00f3n de Early inversa \\infty \\infty 100 V IKR Corriente de codo inversa \\infty \\infty 100 mA ISC Corriente de saturaci\u00f3n C-B 0 1 A NC Coeficiente de emisi\u00f3n de p\u00e9rdida B-C 2 2 NK Coeficiente de alta corriente 0.5 - RE Resistencia de emisor 0 1 R RB Resistencia de base 0 100 R RC Resistencia de colector 0 10 R CJE Capacidad uni\u00f3n B-E 0 2 pF VJE Tensi\u00f3n de uni\u00f3n B-E 0.75 0.7 V MJE Factor de graduaci\u00f3n de la uni\u00f3n B-E 0.33 - CJC Capacidad uni\u00f3n C-B 0 1 pF VJC Tensi\u00f3n uni\u00f3n B-C 0.75 V 0.5 V MJC Factor de graduaci\u00f3n de la uni\u00f3n B-C 0.33 - FC Coeficiente capacidad de barrera 0.5 - TF Tiempo de transici\u00f3n directo 0 0.1 ns TR Tiempo de transici\u00f3n inverso 0 10 ns EG Energia del gap 1.11 eV 1.11 eV XTI Exponente de temperatura para IS 3 - Subcircuitos \u00b6 Un subcircuito es un modelo de un componente o circuito que vamos a poder utilizar siempre que lo necesitemos y que estar\u00e1 representado por un s\u00edmbolo. Es decir, va a funcionar de manera similar a un componente que vamos a crear nosotros mismos a partir de un circuito determinado. Para ilustrar el tema vamos a crear un sumador anal\u00f3gico basado en el amplificador operacional AD711. Realizamos las conexiones necesarias para obtener el esquema de la imagen 30. Imagen 30 Esquema del sumador anal\u00f3gico En la imagen 31 tenemos la Netlist del circuito. Imagen 31 Netlist del sumador anal\u00f3gico Una vez decidido el circuito pasamos a crear un s\u00edmbolo para representarlo. Para ello accedemos a la orden Create a New Symbol del men\u00fa Hierarchy , tal y como se observa en la imagen 32. Imagen 32 Acceso a Create a New Symbol Aparecer\u00e1 una hoja de trabajo en la cual vamos a dibujar nuestro s\u00edmbolo y lo vamos a dotar de patillas de conexi\u00f3n. Para realizar el dibujo disponemos de herramientas b\u00e1sicas de dibujo en el men\u00fa Draw (imagen 33a) y para colocar pines debemos colocar los puertos de conexi\u00f3n de entrada y de salida, que deber\u00e1n ser iguales a los del circuito de la imagen 30 (V1, V2 y S). Esto lo hacemos desde la opci\u00f3n Add Pin/Port del men\u00fa Edit. En la imagen 33b vemos las opciones disponibles para los pines. Cuando el esquema tiene asociado un s\u00edmbolo podemos abrirlo con la opci\u00f3n Open this Sheet's Symbol que vemos en la imagen 32. Imagen 33a Imagen 33b Herramientas de dibujo disponibles Opciones para pines En nuestro caso hemos creados el s\u00edmbolo que se observa en la imagen 34 que trata de indicar la tarea que realiza a la salida con las dos entradas. Imagen 34 S\u00edmbolo creado para el sumador anal\u00f3gico Podemos descargar este ejemplo para el estudio de la creaci\u00f3n de subcircuitos. A partir de este momento tenemos disponible el s\u00edmbolo para su uso en esquemas, pero por conveniencia, lo he trasladado a un directorio propio creado dentro del directorio de librerias de LTSpice XVII y una vez indexado (reiniciando el programa) ya est\u00e1 disponible. Veamos un sencillo ejemplo de uso del s\u00edmbolo creado. Vamos a hacer un sumador anal\u00f3gico para obtener como se\u00f1al de salida la resultante de sumar una se\u00f1al continua procedente de una bateria de 1V con otra sinusoidal de 2V de amplitud. En la imagen 35 vemos el resultado con las tres se\u00f1ales implicadas mostradas. Se observa c\u00f3mo la salida en una se\u00f1al sinusoidal de 2V de amplitud desplazada 1V en ordenadas y en fase con la sinusoide de entrada, es decir, el s\u00edmbolo repreesenta un sumador anal\u00f3gico. Imagen 35 Ejemplo b\u00e1sico de sumador anal\u00f3gico Podemos descargar este ejemplo para su estudio","title":"Elementos de circuito"},{"location":"Instalaciones/LTSpice/Elementos/#elementos-mas-usuales-en-los-circuitos-electronicos","text":"Antes de comenzar con las descripciones de los distintos elementos b\u00e1sicos vamos a ver como se ponen las unidades y que sufijos multiplicadores son v\u00e1lidos. En la tabla siguiente vemos las unidades que se puede usar. Sufijo Valor (nombre) F = f 10 -15 (femto) P = p 10 -12 (pico) N = n 10 -9 (nano) U = u 10 -6 (micro) M = m 10 -3 (mili) K = k 10 3 (kilo) MEG = meg 10 6 (mega) G = g 10 9 (giga T = t 10 12 (tera) Unidad Nnombre V Voltios A Amperios OHM Ohmios Hz Hercios H Henrios F Faradios","title":"Elementos mas usuales en los circuitos electr\u00f3nicos"},{"location":"Instalaciones/LTSpice/Elementos/#resistencia","text":"Se trata sin duda del componente mas utilizado en circutos electr\u00f3nicos. En LTSpice disponemos de dos modelos que solamente difieren en el s\u00edmbolo. En la imagen 1 vemos el s\u00edmbolo para ambos casos y la edici\u00f3n de las propiedades (id\u00e9nticas para ambos) de uno de ellos, Imagen 1 S\u00edmbolo y propiedades de res y res2 Desde el men\u00fa Wiev podemos acceder a SPICE netlist que nos mostrar\u00e1 una descripci\u00f3n como la que se observa en la imagen 2. Imagen 2 Netlist de los dos modelos de resistencia La netlist es un archivo de texto con la descripci\u00f3n del circuito y es una forma que usan otras versiones del simulador Spice. La forma R1 NC_01 NC_02 R se lee como que la resistencia R1 se conecta entre los nodos 01 y 02 (NC indica que es el pin de un componente no conectado) y que tiene como valor R que podemos suministrar directamente o seleccionar de la base de datos con Select Resistor . En la imagen 3 vemos el efecto en la netlist al realizar una conexi\u00f3n entre ambas resistencias y como quedan renombrados los nodos que describen la conexi\u00f3n. Imagen 3 Cambios en la netlist por cambios en el circuito","title":"Resistencia"},{"location":"Instalaciones/LTSpice/Elementos/#condensador","text":"En este caso disponemos de dos posibilidades, condensador no polarizado (cap) y condensador polarizado o electrol\u00edtico (polcap). En la imagen 4 vemos un condensador no polarizado y sus propiedades con un modelo escogido de la base de datos. Imagen 4 Condensador no polarizado y sus propiedades Los valores destacados corresponden a los valores nominales de capacidad, tensi\u00f3n m\u00e1xima soportada y corriente. En la imagen 5 tenemos la misma situaci\u00f3n pero en este caso para un condensador polarizado. Imagen 5 Condensador polarizado y sus propiedades Los valores destacados permiten establecer los valores para un modelo equivalente como el que vemos en la imagen 6. Imagen 6 Modelo equivalente de un condensador Las descripciones en modo texto de ambos componentes son las siguientes: C1 NC_01 NC_02 100\u00b5 V=8 Irms=4.74342 Rser=0.01 Lser=0 mfg=\"KEMET\" pn=\"A700X107M008ATE010\" type=\"Al electrolytic\" C2 NC_03 NC_04 0.01\u00b5 V=16 Irms=647m Rser=0.0322889 Lser=0 mfg=\"KEMET\" pn=\"C0201C103K4PAC\" type=\"X5R\"","title":"Condensador"},{"location":"Instalaciones/LTSpice/Elementos/#bobina-o-inductor","text":"Est\u00e1n disponibles dos modelos de componente, ind para una bobina normal e ind2 que incluye en el s\u00edmbolo un punto para indicar la fase del componente. En la imagen 7 vemos una bobina y sus propiedades con un modelo escogido de la base de datos. Imagen 7 Bobina y sus propiedades Los valores destacados corresponden a los valores nominales de inductancia y corriente de pico. En la imagen 8 tenemos la misma situaci\u00f3n pero en este caso para una bobina con punto indicador de fase. Imagen 8 Bobina con indicador de fase y sus propiedades Los valores destacados permiten establecer los valores para un modelo equivalente como el que vemos en la imagen 9. Imagen 9 Modelo equivalente de una bobina Las descripciones en modo texto de ambos componentes son las siguientes: L1 N001 N002 68\u00b5 Ipk=0.55 Rser=0.822 Rpar=112000 Cpar=2.186p mfg=\"Bourns, Inc.\" pn=\"SDE0403A-680K\" L2 N002 N003 2.2\u00b5 Ipk=3.3 Rser=0.032 Rpar=8999 Cpar=2.181p mfg=\"Bourns, Inc.\" pn=\"SDE0403A-2R2M\"","title":"Bobina o inductor"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-de-excitacion-de-tension-o-corriente-continua","text":"En la imagen 10 observamos una fuente de tensi\u00f3n que podemos localizar como voltage y observamos que le podemos incluir una impedancia en serie. Imagen 10 Fuente de tensi\u00f3n constante y su configuraci\u00f3n b\u00e1sica En la imagen 11 observamos una fuente de tensi\u00f3n que podemos localizar como current y observamos que le podemos incluir una impedancia en serie. Imagen 11 Fuente de tensi\u00f3n constante y su configuraci\u00f3n b\u00e1sica Para los dos tipos tenemos el bot\u00f3n Advanced que nos abre la ventana que vemos en la imagen 12, donde se observan los principales tipos de fuentes. Imagen 12 Opciones avanzadas de configuraci\u00f3n de fuente DC","title":"Fuente de excitaci\u00f3n de tensi\u00f3n o corriente continua"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-sinusoidal","text":"Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n SINE la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 13. Imagen 13 Opciones para fuente DC sinusoidal En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades DC offset Tensi\u00f3n de offset V o A Amplitude Amplitud V o A Freq Frecuencia Hz Tdelay Tiempo de retardo s Theta Factor de amortiguamiento 1/s Phi Angulo de fase inicial grados Ncycles N\u00famero de ciclos ciclos En la imagen 14 tenemos un sencillo ejemplo de simulacci\u00f3n con una fuente sinusoidal configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 15 ms a intervalos de 1 ms y comienza en 0. Imagen 14 Simulaci\u00f3n fuente sinusoidal configurada con par\u00e1metros Vamos a explicar la se\u00f1al que entrega la fuente V1. Para ello vamos a partir de las ecuaciones que describen su funcionamiento. Desde el instante t = 0s hasta el tiempo de retardo td: vfuente = voff + vampl sen(2 PI fase/360 PI) Desde el tiempo td hasta el tiempo final de an\u00e1lisis: vfuente = voff + vampl . sen(2 PI (frec (tiempo \u2013 td) + fase/360PI)) e \u2013(tiempo \u2013td).df A continuaci\u00f3n se analizan los resultados obtenidos: Un offset de -2V para una amplitud de 10 V (Vpp = 20V) va a tener como consecuencia que la excursi\u00f3n de la se\u00f1al est\u00e9 entre los -12V y los 8V acusando ese desplazamiento de 2V negativos en ambos semiciclos. Se establecen 10 ciclos a una frecuencia de 1kHz que tendr\u00e1 una duraci\u00f3n menor que laestablecida en las condiciones de simulaci\u00f3n de forma que aparezcan los 10 ciclos completos en la gr\u00e1fica. Se observa claramente en la gr\u00e1fica el retardo de 2ms antes de iniciar el ciclo con un desfase de 90 grados. Finalmente observamos como la se\u00f1al se va amortiguando seg\u00fan la constante establecida. Una vez transcurridos los 10 ciclos previstos la fuente entrega de forma constante el valor de tensi\u00f3n que se obtiene tras la amortiguaci\u00f3n. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto.","title":"Fuente sinusoidal"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-exponencial","text":"Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n EXP la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 15. Imagen 15 Opciones para fuente DC exponencial En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades Vinitial Valor de la tensi\u00f3n inicial V o A Vpulsed Valor del pulso V o A Rise Delay Tiempo de retardo de subida s Rise Tau Constante de tiempo de subida s Fall Delay Tiempo de retardo de caida s Fall Tau Constante de tiempo de caida s En la imagen 16 tenemos un sencillo ejemplo de simulacci\u00f3n con una fuente exponencial configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 5 s a intervalos de 0.2 s y comienza en 0. Imagen 16 Simulaci\u00f3n fuente exponencial configurada con par\u00e1metros Vamos a explicar la se\u00f1al que entrega la fuente V1. Para ello vamos a partir de las ecuaciones que describen su funcionamiento. [0 <= t <= Rise Delay] intervalo de tiempo que va desde 0 hasta el tiempo de retardo de subida: vfuente = Vinitial [Rise Delay <= t <= Fall Delay] intervalo entre el tiempo de retardo de subida y el tiempo de retardo de bajada o caida: vfuente = Vinitial + (Vpulsed - Vinitial)(1 - e - (t - Rise Delay)/Rise Tau) [t > Fall Delay] intervalo cuando el tiempo se hace mayor que el establecido para el de caida. vfuente = Vinitial + (Vpulsed - Vinitial)(1 - e -(t - Fall Delay)/Fall Tau ) A continuaci\u00f3n se analizan los resultados obtenidos: Partimos de un valor de 0V que se mantiene hasta el momento que transcurre el tiempo establecido como retardo de subida (en nuestro caso dos segundos). Transcurridos dos segundo comienza la subida exponencial con la constante de tiempo establecida de 0.3 segundo tratando de alcanzar los 6V establecidos como m\u00e1ximo. La tendencia de la exponencial trata de ser asint\u00f3tica con el valor l\u00edmite pero en cualquier caso durar\u00e1 hasta el tiempo que se ha establecido para iniciar la caida, que en nuestro caso es los 3 segundos. Se observa claramente en la gr\u00e1fica que con esa constante de subida no da tiempo a alcanzar los 6V antes de que se inicie la caida. Una vez alcanzado el instante de tiempo establecido para iniciar la caida esta se produce de forma abrupta dado que la constante de tiempo establecida en este caso en peque\u00f1a. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto.","title":"Fuente exponencial"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-de-tension-a-pulsos","text":"Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n PULSE la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 17. Imagen 17 Opciones para fuente DC a pulsos En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades Vinitial Valor de la tensi\u00f3n inicial V o A Von Valor del pulso V o A Tdelay Retardo s Trise Tiempo de subida s Tfall Tiempo de caida s Ton Tiempo de duraci\u00f3n del pulso s Tperiod Periodo s Ncycles N\u00famero de ciclos En la imagen 18 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente pulsante configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 100 ms a intervalos de 0.1 ms y comienza en 0. Imagen 18 Simulaci\u00f3n fuente a pulsos configurada con par\u00e1metros En este caso la explicaci\u00f3n del funcionamiento es bastante simple ya que los datos sirven para configurar una fuente que genera un tren de pulsos con las caracter\u00edsticas especificadas. A continuaci\u00f3n se analizan los resultados obtenidos: Partimos de un valor de 0V que cambia a 5V en un tiempo establecido en 5 us- El nivel de 5V se mantiene durante los 10 ms estsblecidos, instante en que pasa de nuevo a valer 0 con un retardo de 5 us y se mantiene en 0V hasta completar el peeriodo de 20 ms configurado. Finalizado el primer ciclo la secuencia se repite hasta completar los 5 ciclos establecidos. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto.","title":"Fuente de tensi\u00f3n a pulsos"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-lineal-a-tramos","text":"Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n PWL la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 19. PWL es acr\u00f3nimo del ingl\u00e9s PieceWise Linear que se traduce como lineal a trozos o tramos. Imagen 19 Opciones para fuente DC PWL En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro Descripci\u00f3n Unidades time_n Instante de tiempo del para el valor n s value_n Valor de tensi\u00f3n para el valor n V o A La se\u00f1al que entrega la fuente se construye con cada par de valores (time_n,value_n) y se pueden a\u00f1adir mas puntos de los mostrados en la imagen 19 haciendo clic en el bot\u00f3n Additional PWL Points . En la imagen 20 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente PWL configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 10s a intervalos de 1s y comienza en 0. En la imagen tambi\u00e9n podemos ver todos los pares de puntos (time,value) establecidos. Imagen 20 Simulaci\u00f3n fuente PWL En este caso la explicaci\u00f3n del funcionamiento es muy simple y tan solo indicaremos como rese\u00f1able que, a partir del \u00faltimo punto establecido la salida de la fuente mantiene constante su valor en el tiempo. Se aconseja al lector descargar el ejemplo y jugar con estos valores para controlar el funcionamiento de este tipo de fuente de excitaci\u00f3n. En la animaci\u00f3n siguiente vemos un ejemplo de esto. Los datos de los puntos se pueden especificar a trav\u00e9s de un fichero de texto plano como .txt o .csv separando las parejas de datos en dos columnas, tal y como observamos en la imagen 21, donde hemos seleccionado la opci\u00f3n PWL FILE y el fichero E4.csv (tambien podemos cargar el fichero E4.txt que nos dar\u00e1 id\u00e9ntico resultado. Imagen 21 Fichero de texto plano La simulaci\u00f3n a partir de archivo nos origina los resultados que vemos en la imagen 22. Imagen 22 Simulaci\u00f3n fuente PWL a partir de archivo","title":"Fuente lineal a tramos"},{"location":"Instalaciones/LTSpice/Elementos/#fuente-de-frecuencia-simple-fm","text":"Si en las opciones avanzadas de configuraci\u00f3n de una fuente DC escogemos la opci\u00f3n SFFM la ventana nos mostrar\u00e1 las opciones que observamos en la imagen 23. Imagen 23 Opciones para fuente de frecuencia simple FM En la tabla siguiente se describen estos par\u00e1metros. Par\u00e1metro S\u00edmbolo Descripci\u00f3n Unidades DC offset DC Tensi\u00f3n continua de offset V o A Amplitude A Amplitud de la se\u00f1al V o A Carrier Freq CF Frecuencia de la portadora Hz Modulation Index MI Indice o coeficiente de modulaci\u00f3n Signal Freq SF Frecuencia de la se\u00f1al Hz En la imagen 24 tenemos un sencillo ejemplo de simulaci\u00f3n con una fuente SFFM configurada seg\u00fan se observa en la propia imagen. Hemos creado una simulaci\u00f3n de tipo Transient que dura 2 ms a intervalos de 0.5 ms y comienza en 0. Imagen 24 Simulaci\u00f3n fuente SFFM La explicaci\u00f3n del funcionamiento es bastante simple si se tienen claros los conceptos de se\u00f1al portadora e \u00edndice de modulaci\u00f3n. La se\u00f1al se describe por la siguiente ecuaci\u00f3n: V_{tuente}=DC+A\\cdot sen\\left( 2\\pi \\cdot CF\\cdot t\\right) +MI\\cdot sen\\left( 2\\pi \\cdot SF\\cdot t\\right) V_{tuente}=DC+A\\cdot sen\\left( 2\\pi \\cdot CF\\cdot t\\right) +MI\\cdot sen\\left( 2\\pi \\cdot SF\\cdot t\\right)","title":"Fuente de frecuencia simple FM"},{"location":"Instalaciones/LTSpice/Elementos/#otros-componentes","text":"Existen infinidad de componente y elementos que no vamos a describir uno por uno pues con las bases explicadas hasta el momento tenemos claras las ideas del significado de los par\u00e1metros de los componentes principales. Simplemente nombramos algunos a t\u00edtulo de ejemplo. Inductancia mutua Fuente de tensi\u00f3n controlada por tensi\u00f3n Fuente de corriente controlada por corriente Fuente de corriente controlada por tensi\u00f3n Fuente de tensi\u00f3n controlada por corriente Componentes electr\u00f3nicos diversos","title":"Otros componentes"},{"location":"Instalaciones/LTSpice/Elementos/#usar-un-componente-que-no-esta-en-las-librerias","text":"Cuando necesitamos utilizar un componente concreto del que no disponemos modelo en las librerias disponibles, ya sea las que se instalan por defecto o simplemente no existe aunque tengamos una base de datos de componentes mas amplia que la original, podemos importar un modelo desde alguna librer\u00eda de las disponibles en la web. Por ejemplo, en el enlace tenemos modelos compatibles con LTSpice XVII. Supongamos por ejemplo que necesitamos obtener la curva caracter\u00edstica del diodo 1N4007 que es un diodo rectificador de la serie 1N4001 - 1N4007 en la que todos son muy similares cambiando solamente el valor de la tensi\u00f3n eficaz inversa entre ellos. Si buscamos en el enlace encontramos justamente el 1N4007 del que nos suministran los siguientes datos: .model 1N4007 D(IS=7.02767n RS=0.0341512 N=1.80803 EG=1.05743 XTI=5 BV=1000 IBV=5e-08 CJO=1e-11 VJ=0.7 M=0.5 FC=0.5 TT=1e-07 mfg=OnSemi type=silicon) En la imagen 25 tenemos el circuito que vamos a construir y el proceso para renombrar al diodo por el valor que necesitamos. Imagen 25 Circuito con diodo 1N4007 El siguiente paso es indicar el modelo del diodo con todos sus par\u00e1metros. Para ello abrimos la ventana de SPICE Directive (\u00faltimo icono de la barra de herramientas) y copiamos los datos del modelo del diodo obtenidos en Internet, imagen 26. Imagen 26 Modelo para el diodo 1N4007 Cuando cerramos la ventana los datos del modelo aparecen sobre la hoja de trabajo, imagen 27. Imagen 27 Modelo de diodo 1N4007 establecido Procedemos a establecer unas condiciones de simulaci\u00f3n por barrido DC como las que vemos en la imagen 28 sin preocuparnos de ello puesto que ser\u00e1n explicadas mas adelante. Imagen 28 Condiciones de simulaci\u00f3n por barrido DC En la imagen 29 tenemos el resultado de obtener la corriente que circula por el diodo. Imagen 29 Curva caracter\u00edstica del diodo 1N4007 Podemos descargar este ejemplo para su estudio.","title":"Usar un componente que no est\u00e1 en las librer\u00edas"},{"location":"Instalaciones/LTSpice/Elementos/#parametros-de-modelos-spice","text":"","title":"Par\u00e1metros de modelos SPICE"},{"location":"Instalaciones/LTSpice/Elementos/#diodo","text":"Par\u00e1metro Valor por defecto Significado IS Corriente inversa de saturaci\u00f3n 0.01 pA N Coeficiente de emisi\u00f3n 1 ISR Corriente de saturaci\u00f3n de recombinaci\u00f3n 0 NR Coeficiente de emisi\u00f3n para ISR 2 IKF Corriente codo \\infty \\infty BV Tensi\u00f3n de ruptura \\infty \\infty IBV Corriente para la tensi\u00f3n de ruptura 1 nA NBV Factor de la tensi\u00f3n de ruptura 1 RS Resistencia par\u00e1sita 0 TT Tiempo de respuesta 0 CJO Capacidad de la uni\u00f3n PN sin polarizar 0 VJ Tensi\u00f3n de uni\u00f3n 1 M Coeficiente de uni\u00f3n 0.5 EG Energia del gap 1.11 eV XTI Exponente de la temperatura de IS 3 KF Coeficiente de ruido Flicker 0 AF Exponente de ruido Flicker 1 FC Coeficiente en polarizaci\u00f3n directa para CJ 0.5","title":"Diodo"},{"location":"Instalaciones/LTSpice/Elementos/#transistor","text":"Par\u00e1metro Valor por defecto Significado Valor t\u00edpico IS Corriente inversa de saturaci\u00f3n 1 fA 1 fA BF Valor de Beta 100 100 NF Coeficiente de emisi\u00f3n de la corriente directa 1 1 VAF o VA Tensi\u00f3n de Early directa \\infty \\infty 100 V IKF o IK Corriente de codo \\infty \\infty 10 mA ISE Corriente de saturaci\u00f3n de p\u00e9rdida B-E 1000 A 1000 A NE Coeficiente de emisi\u00f3n de p\u00e9rdida B-E 1.5 2 BR Valor de Beta inversa 1 0.1 NR Coeficiente de emisi\u00f3n para corriente inversa 1 - VAR o VB Tensi\u00f3n de Early inversa \\infty \\infty 100 V IKR Corriente de codo inversa \\infty \\infty 100 mA ISC Corriente de saturaci\u00f3n C-B 0 1 A NC Coeficiente de emisi\u00f3n de p\u00e9rdida B-C 2 2 NK Coeficiente de alta corriente 0.5 - RE Resistencia de emisor 0 1 R RB Resistencia de base 0 100 R RC Resistencia de colector 0 10 R CJE Capacidad uni\u00f3n B-E 0 2 pF VJE Tensi\u00f3n de uni\u00f3n B-E 0.75 0.7 V MJE Factor de graduaci\u00f3n de la uni\u00f3n B-E 0.33 - CJC Capacidad uni\u00f3n C-B 0 1 pF VJC Tensi\u00f3n uni\u00f3n B-C 0.75 V 0.5 V MJC Factor de graduaci\u00f3n de la uni\u00f3n B-C 0.33 - FC Coeficiente capacidad de barrera 0.5 - TF Tiempo de transici\u00f3n directo 0 0.1 ns TR Tiempo de transici\u00f3n inverso 0 10 ns EG Energia del gap 1.11 eV 1.11 eV XTI Exponente de temperatura para IS 3 -","title":"Transistor"},{"location":"Instalaciones/LTSpice/Elementos/#subcircuitos","text":"Un subcircuito es un modelo de un componente o circuito que vamos a poder utilizar siempre que lo necesitemos y que estar\u00e1 representado por un s\u00edmbolo. Es decir, va a funcionar de manera similar a un componente que vamos a crear nosotros mismos a partir de un circuito determinado. Para ilustrar el tema vamos a crear un sumador anal\u00f3gico basado en el amplificador operacional AD711. Realizamos las conexiones necesarias para obtener el esquema de la imagen 30. Imagen 30 Esquema del sumador anal\u00f3gico En la imagen 31 tenemos la Netlist del circuito. Imagen 31 Netlist del sumador anal\u00f3gico Una vez decidido el circuito pasamos a crear un s\u00edmbolo para representarlo. Para ello accedemos a la orden Create a New Symbol del men\u00fa Hierarchy , tal y como se observa en la imagen 32. Imagen 32 Acceso a Create a New Symbol Aparecer\u00e1 una hoja de trabajo en la cual vamos a dibujar nuestro s\u00edmbolo y lo vamos a dotar de patillas de conexi\u00f3n. Para realizar el dibujo disponemos de herramientas b\u00e1sicas de dibujo en el men\u00fa Draw (imagen 33a) y para colocar pines debemos colocar los puertos de conexi\u00f3n de entrada y de salida, que deber\u00e1n ser iguales a los del circuito de la imagen 30 (V1, V2 y S). Esto lo hacemos desde la opci\u00f3n Add Pin/Port del men\u00fa Edit. En la imagen 33b vemos las opciones disponibles para los pines. Cuando el esquema tiene asociado un s\u00edmbolo podemos abrirlo con la opci\u00f3n Open this Sheet's Symbol que vemos en la imagen 32. Imagen 33a Imagen 33b Herramientas de dibujo disponibles Opciones para pines En nuestro caso hemos creados el s\u00edmbolo que se observa en la imagen 34 que trata de indicar la tarea que realiza a la salida con las dos entradas. Imagen 34 S\u00edmbolo creado para el sumador anal\u00f3gico Podemos descargar este ejemplo para el estudio de la creaci\u00f3n de subcircuitos. A partir de este momento tenemos disponible el s\u00edmbolo para su uso en esquemas, pero por conveniencia, lo he trasladado a un directorio propio creado dentro del directorio de librerias de LTSpice XVII y una vez indexado (reiniciando el programa) ya est\u00e1 disponible. Veamos un sencillo ejemplo de uso del s\u00edmbolo creado. Vamos a hacer un sumador anal\u00f3gico para obtener como se\u00f1al de salida la resultante de sumar una se\u00f1al continua procedente de una bateria de 1V con otra sinusoidal de 2V de amplitud. En la imagen 35 vemos el resultado con las tres se\u00f1ales implicadas mostradas. Se observa c\u00f3mo la salida en una se\u00f1al sinusoidal de 2V de amplitud desplazada 1V en ordenadas y en fase con la sinusoide de entrada, es decir, el s\u00edmbolo repreesenta un sumador anal\u00f3gico. Imagen 35 Ejemplo b\u00e1sico de sumador anal\u00f3gico Podemos descargar este ejemplo para su estudio","title":"Subcircuitos"},{"location":"Instalaciones/LTSpice/Fourier/","text":"An\u00e1lisis de Fourier \u00b6 Este tipo de an\u00e1lisis lo vamos a ver en un apartado espec\u00edfico dada su amplitud y porque describiremos las matem\u00e1ticas necesarias para llevarlo a cabo lo mas claramente posible. Todas las descripciones van a tender a obtener el desarrollo en serie de Fourier de funciones peri\u00f3dicas aunque conceptualmente se nombre otros contenidos. Vamos a ponernos en contexto del significado de an\u00e1lisis de Fourier desde el punto de vista de la electr\u00f3nica. La transformada Fourier fue planteada por el matem\u00e1tico franc\u00e9s Joseph Fourier en el a\u00f1o 1822 en sus teor\u00edas sobre la transmisi\u00f3n del calor. Dominios del tiempo y de la frecuencia \u00b6 El an\u00e1lisis de Fourier b\u00e1sicamente plantea que cualquier se\u00f1al peri\u00f3dica (de la forma que sea) puede descomponerse como la suma de se\u00f1ales sinusoidales de distintas frecuencias . Tal y como hemos destacado en la frase hay que relacionar tiempo y frecuencia para trabajar con estos conceptos. En la imagen 1 tenemos algunas de las se\u00f1ales (funciones) peri\u00f3dicas mas habituales en electr\u00f3nica, l\u00f3gicamente todas ellas funci\u00f3n del tiempo. Imagen 1 Se\u00f1ales peri\u00f3dicas habituales En la imagen 2 tenemos representadas tres se\u00f1ales sinusoidales de distintas frecuencias y amplitudes representadas en ambos dominios. Imagen 2 Se\u00f1ales representadas en los dominios del tiempo y la frecuencia La se\u00f1al representada en negro tiene un periodo de 1 ms, lo que supone que su frecuencia es de 1 kHz y con un valor que podemos expresar como 10 V de pico o 20 V pico a pico o 10 V de amplitud, y esos valores se dan indistintamente del dominio en el que nos situemos, pues bien, en el dominio de la frecuencia el punto con esas coordenadas de amplitud y frecuencia se representa como el extremo de un vector y tiene exactamente el mismo significado. De forma similar la se\u00f1al roja tiene un periodo que es la mitad del de la negra y una amplitud de 5 V y finalmente la verde con un periodo de la mitad que la roja y una amplitud de 2V. Conocimientos previos \u00fatiles \u00b6 Antes de entrar en las series de Fourier vamos a recordar algunas nociones b\u00e1sicas de las funciones seno y coseno que nos van a resultar muy \u00fatiles posteriormente. En la imagen 3 tenemos representada una funci\u00f3n seno con indicaci\u00f3n de los principales puntos de corte con los ejes. Imagen 3 Funci\u00f3n seno Lo primero que observamos es que la funci\u00f3n est\u00e1 acotada entre 1 y -1 por lo que la funci\u00f3n f(t) = sen(t) nunca puede ser mayor que 1 ni menos que -1, o sea: f\\left( t\\right) =sen\\left( t\\right) f\\left( t\\right) =sen\\left( t\\right) siempre que -1\\leq sen\\left( t\\right) \\leq 1 -1\\leq sen\\left( t\\right) \\leq 1 Tambi\u00e9n podemos observar que la funci\u00f3n seno es peri\u00f3dica ya que se repite con un periodo T = 2\\pi T = 2\\pi . Esto se expresa matem\u00e1ticamente de la siguiente forma: sen\\left( t\\right) =sen\\left( t+2\\pi \\right) sen\\left( t\\right) =sen\\left( t+2\\pi \\right) El c\u00e1lculo de los ceros de la funci\u00f3n es bastante sencillo a partir de la ecuaci\u00f3n anterior, tal y como vemos a continuaci\u00f3n: \\begin{aligned}sen\\left( 0\\right) =0\\\\sen\\left( \\pi \\right) =0\\\\ sen\\left( 2\\pi \\right) =0\\\\ sen\\left( 3\\pi \\right) =sen\\left( 2\\pi +\\pi \\right) =0\\end{aligned} \\begin{aligned}sen\\left( 0\\right) =0\\\\sen\\left( \\pi \\right) =0\\\\ sen\\left( 2\\pi \\right) =0\\\\ sen\\left( 3\\pi \\right) =sen\\left( 2\\pi +\\pi \\right) =0\\end{aligned} Es decir: \\begin{aligned}sen\\left( n\\pi \\right)=0\\end{aligned} \\begin{aligned}sen\\left( n\\pi \\right)=0\\end{aligned} siendo: \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} Vamos ahora a aplicar el mismo concepto para el c\u00e1lculo de los valores m\u00e1ximo y m\u00ednimo de la funci\u00f3n seno. sen\\left( \\dfrac{\\pi }{2}\\right) =1;sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{\\pi }{2}\\right) =1;sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{5\\pi }{2}\\right) =sen\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{\\pi }{2}\\right) =1 sen\\left( \\dfrac{5\\pi }{2}\\right) =sen\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{\\pi }{2}\\right) =1 sen\\left( \\dfrac{7\\pi }{2}\\right) =sen\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{7\\pi }{2}\\right) =sen\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 y gen\u00e9ricamente se puede poner que: sen\\left[ \\dfrac{\\left( 2n- 1\\right)\\pi }{2}\\right] =\\left( -1\\right) ^{n+1} sen\\left[ \\dfrac{\\left( 2n- 1\\right)\\pi }{2}\\right] =\\left( -1\\right) ^{n+1} Por ejemplo: \\begin{aligned}n=6\\Rightarrow sen\\left( \\dfrac{11\\times \\pi }{2}\\right) =\\left( -1\\right) ^{7}=-1\\\\\\\\ n=9\\Rightarrow sen\\left( \\dfrac{17\\times \\pi }{2}\\right) =\\left( -1\\right) ^{10}=1\\end{aligned} \\begin{aligned}n=6\\Rightarrow sen\\left( \\dfrac{11\\times \\pi }{2}\\right) =\\left( -1\\right) ^{7}=-1\\\\\\\\ n=9\\Rightarrow sen\\left( \\dfrac{17\\times \\pi }{2}\\right) =\\left( -1\\right) ^{10}=1\\end{aligned} En la imagen 4 tenemos representada una funci\u00f3n coseno con indicaci\u00f3n de los principales puntos de corte con los ejes. Imagen 4 Funci\u00f3n coseno Observamos tambi\u00e9n que la funci\u00f3n est\u00e1 acotada entre 1 y -1 por lo que la funci\u00f3n f(t) = cos(t) nunca puede ser mayor que 1 ni menos que -1, o sea: f\\left( t\\right) =cos\\left( t\\right) f\\left( t\\right) =cos\\left( t\\right) siempre que -1\\leq cos\\left( t\\right) \\leq 1 -1\\leq cos\\left( t\\right) \\leq 1 Vemos que la funci\u00f3n coseno es peri\u00f3dica ya que se repite con un periodo T = 2\\pi T = 2\\pi . Esto se expresa matem\u00e1ticamente de la siguiente forma: cos\\left( t\\right) =cos\\left( t+2\\pi \\right) cos\\left( t\\right) =cos\\left( t+2\\pi \\right) Hacemos el c\u00e1lculo de los ceros de la funci\u00f3n de forma similar a como hicimos en el seno y tenemos que: cos\\left( \\dfrac{\\pi }{2}\\right) =0;cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{\\pi }{2}\\right) =0;cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{5\\pi }{2}\\right) =cos\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{\\pi }{2}\\right) =0 cos\\left( \\dfrac{5\\pi }{2}\\right) =cos\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{\\pi }{2}\\right) =0 cos\\left( \\dfrac{7\\pi }{2}\\right) =cos\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{7\\pi }{2}\\right) =cos\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{3\\pi }{2}\\right) =0 y gen\u00e9ricamente se puede poner que: \\cos \\left( \\dfrac{2n-1}{2}\\right) \\cdot \\pi =0\\hspace{1cm};\\hspace{1cm}\\forall n\\in \\mathbb{N} \\cos \\left( \\dfrac{2n-1}{2}\\right) \\cdot \\pi =0\\hspace{1cm};\\hspace{1cm}\\forall n\\in \\mathbb{N} Vamos ahora a aplicar el mismo concepto para el c\u00e1lculo de los valores m\u00e1ximo y m\u00ednimo de la funci\u00f3n seno. \\begin{aligned}cos\\left( 0\\right) =1\\\\cos\\left( \\pi \\right) =-1\\\\ cos\\left( 2\\pi \\right) =1\\\\ cos\\left( 3\\pi \\right) =cos\\left( 2\\pi +\\pi \\right) =-1\\end{aligned} \\begin{aligned}cos\\left( 0\\right) =1\\\\cos\\left( \\pi \\right) =-1\\\\ cos\\left( 2\\pi \\right) =1\\\\ cos\\left( 3\\pi \\right) =cos\\left( 2\\pi +\\pi \\right) =-1\\end{aligned} Es decir: cos\\left( n\\pi \\right) =\\left( -1\\right) ^{n} cos\\left( n\\pi \\right) =\\left( -1\\right) ^{n} siendo: \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} Tambi\u00e9n nos va a resultar muy \u00fatil recordar que cuando hablamos de se\u00f1ales peri\u00f3dicas y realizamos integraci\u00f3n con limites iguales al periodo de la se\u00f1al, el valor de la integral es cero. A continuaci\u00f3n vemos algunos ejemplos de esto. \\int _{0}^{2\\pi}sen\\left( t\\right) dt = 0 \\int _{0}^{2\\pi}sen\\left( t\\right) dt = 0 \\int _{-\\pi}^{+\\pi}cos\\left( t\\right) dt = 0 \\int _{-\\pi}^{+\\pi}cos\\left( t\\right) dt = 0 \\int _{4\\pi}^{6\\pi}sen\\left( t\\right) dt = 0 \\int _{4\\pi}^{6\\pi}sen\\left( t\\right) dt = 0 Serie de Fourier \u00b6 Una funci\u00f3n f(t) con x\\in \\mathbb{R} x\\in \\mathbb{R} que sea integrable dentro de un intervalo de longitud T se puede definir como una serie de Fourier haciendo: Pues bien, Fourier lo que dijo fue que cualquier se\u00f1al peri\u00f3dica se puede representar como una suma infinita de funciones sinusoidales. Esto se expresa matem\u00e1ticamente de la siguiente forma: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] siendo n: un n\u00famero natural. t\\in \\mathbb{R} t\\in \\mathbb{R} con un periodo o longitud T a 0 , a n , b n : los denominados coeficientes de Fourier. \\omega \\omega = 2\u03c0/T 0 : frecuencia angular fundamental. n \\omega \\omega : frecuencia de la componente arm\u00f3nica de orden n. Para que una funci\u00f3n cualquiera pueda ser expresada como serie de Fourier es condici\u00f3n necesaria que cumpla las condiciones de Dirichlet, que son: f(t) tiene un valor \u00fanico para cualquier valor de t. f(t) tiene un n\u00famero finito de discontinuidades en un periodo. f(t) tiene un n\u00famero finito de m\u00e1ximos y m\u00ednimos en su periodo. Existe la integral del m\u00f3dulo de la funci\u00f3nen ese periodo: \\int ^{T/2}_{-T/2}\\left| f\\left( t\\right) \\right| dt \\int ^{T/2}_{-T/2}\\left| f\\left( t\\right) \\right| dt El problema de expresar una funci\u00f3n por su serie de Fourier consiste en calcular los coeficientes de Fourier, o lo que es lo mismo, en calcular las siguientes integrales definidas: a_{0}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) dt a_{0}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) dt a_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt a_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) sen \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) sen \\left( n\\omega t\\right) dt siendo T el intervalo o periodo de la funci\u00f3n, que, si por ejemplo varia entre 0 y 2\u03c0, nos permite poner: a_{0}=\\dfrac{1}{{2\\pi }/{2}}\\int _{0}^{2\\pi}f\\left( t\\right) dt a_{0}=\\dfrac{1}{{2\\pi }/{2}}\\int _{0}^{2\\pi}f\\left( t\\right) dt a_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt a_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt Convergencia \u00b6 Damos a continuaci\u00f3n una notas aclaratorias. Se cumple que la serie de Fourier de la funci\u00f3n f(t) converge o tiende a f(t) dentro del intervalo de integraci\u00f3n. Si f(t) es peri\u00f3dica con un periodo T igual a la longitud del intervalo la funci\u00f3n f(t) converge a la serie de Fourier siempre con x\\in \\mathbb{R} x\\in \\mathbb{R} , es decir que converge en cualquier punto y no solo dentro del intervalo. Definimos suma parcial para la serie de Fourier de una funci\u00f3n f(t) peri\u00f3dica y definida en un intervalo de longitud T la k-\u00e9sima suma parcial, representada por S k (t) se calcula as\u00ed: S_{k}\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{k}_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] S_{k}\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{k}_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] Esta suma ya no es de infinitos t\u00e9rminos sino de un n\u00famero k de ellos. El caso mas com\u00fan que nos vamos a encontrar es cuando T=2\\pi T=2\\pi lo que se cumple para situaciones como: T=2\\pi \\rightarrow \\left[ -2\\pi ,0 \\right] ; \\left[ 0,2\\pi \\right] ;\\left[ 2\\pi ,4\\pi \\right] ;\\left[ -\\pi ,\\pi \\right ] T=2\\pi \\rightarrow \\left[ -2\\pi ,0 \\right] ; \\left[ 0,2\\pi \\right] ;\\left[ 2\\pi ,4\\pi \\right] ;\\left[ -\\pi ,\\pi \\right ] En estos casos se cumple que: \\omega =\\dfrac{2\\pi }{T}=\\dfrac{2\\pi }{2\\pi }=1 \\omega =\\dfrac{2\\pi }{T}=\\dfrac{2\\pi }{2\\pi }=1 Por lo tanto podemos escribir la serie de Fourier de la siguiente forma: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] Es decir, cuando el intervalo es 2\\pi 2\\pi los coeficientes de Fourier toman la siguiente forma: a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) \\cos \\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) \\cos \\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) sen\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) sen\\left( nt\\right) dt Este tipo de expresiones suelen ser complejas de solucionar dado que implican distintos niveles de integraci\u00f3n, pero al menos con un par de ejemplos vamos a intentar dejar claro como proceder. Funciones pares e impares \u00b6 Una funci\u00f3n par es una funci\u00f3n que satisface la relaci\u00f3n f\\left( x\\right) =f\\left( -x\\right) f\\left( x\\right) =f\\left( -x\\right) . La imagen 5 muestra la gr\u00e1fica de una funci\u00f3n par. Imagen 5 Gr\u00e1fica de una funci\u00f3n par Imagen obtenida de wikipedia La funci\u00f3n es sim\u00e9trica respecto del eje y. Cuando una funci\u00f3n es par se cumple que b n = 0 con lo que podemos poner que: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} a_{n}\\cos \\left( nt\\right) f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} a_{n}\\cos \\left( nt\\right) Una funci\u00f3n impar es cualquier funci\u00f3n que satisface la relaci\u00f3n f\\left( -x\\right) =-f\\left( x\\right) f\\left( -x\\right) =-f\\left( x\\right) . La imagen 6 muestra la gr\u00e1fica de una funci\u00f3n impar. Imagen 6 Gr\u00e1fica de una funci\u00f3n impar Imagen obtenida de wikipedia La funci\u00f3n es sim\u00e9trica de forma rotacional respecto al origen de coordenadas. Cuando una funci\u00f3n es impar se cumple que a n = 0 con lo que podemos poner que: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} b_{n}sen \\left( nt\\right) f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} b_{n}sen \\left( nt\\right) Ejemplos resueltos \u00b6 Vamos a ver como aplicar estos conceptos con dos ejemplos desarrollados de forma completa en cuanto a c\u00e1lculos se refiere. Funci\u00f3n matem\u00e1tica a trozos \u00b6 Obtener el desarrollo en serie de Fourier de una funci\u00f3n definida de la siguiente forma: \\begin{aligned}f\\left( t\\right) =0 \\hspace{1cm} si \\hspace{1cm} -\\pi <t <0\\\\ f\\left( t\\right) =\\pi -t \\hspace{1cm} si \\hspace{1cm}0\\leq t <\\pi \\end{aligned} \\begin{aligned}f\\left( t\\right) =0 \\hspace{1cm} si \\hspace{1cm} -\\pi <t <0\\\\ f\\left( t\\right) =\\pi -t \\hspace{1cm} si \\hspace{1cm}0\\leq t <\\pi \\end{aligned} El intervalo del periodo es \\left[ -\\pi ,\\pi \\right] \\left[ -\\pi ,\\pi \\right] por lo que T=2\\pi T=2\\pi y entonces lor t\u00e9rminos de Fourier vendr\u00e1n dados por: a_{0}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) dt\\\\ a_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt\\\\ b_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot sen\\left( nt\\right) dt a_{0}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) dt\\\\ a_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt\\\\ b_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot sen\\left( nt\\right) dt C\u00e1lculo de a_{0} a_{0} Si descomponemos la ecuaci\u00f3n para los dos valores de f(t) podemos poner: a_{0}=\\dfrac{1}{\\pi }\\int ^{0}_{-\\pi }0\\cdot dt+\\dfrac{1}{\\pi }\\int ^{\\pi }_{0}\\left( \\pi -t\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) dt a_{0}=\\dfrac{1}{\\pi }\\int ^{0}_{-\\pi }0\\cdot dt+\\dfrac{1}{\\pi }\\int ^{\\pi }_{0}\\left( \\pi -t\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) dt Procedemos a evaluar la integral de forma indefinida: \\int \\left( \\pi -t\\right) dt=\\int \\pi dt-\\int tdt=\\pi t-\\dfrac{t^{2}}{2} \\int \\left( \\pi -t\\right) dt=\\int \\pi dt-\\int tdt=\\pi t-\\dfrac{t^{2}}{2} Llevamos el resultado a la integral definida y sustituimos t por los l\u00edmites de integraci\u00f3n y tenemos: \\begin{aligned} a_{0}=\\dfrac{1}{\\pi }\\left( \\pi \\cdot t-\\dfrac{t^{2}}{2}\\right) ] _{0}^{\\pi }=\\dfrac{1}{\\pi }\\left[ \\pi \\cdot \\pi -\\dfrac{\\pi ^{2}}{2}-\\left( \\pi \\cdot 0-\\dfrac{0^{2}}{2}\\right) \\right] = \\dfrac{1}{\\pi }\\cdot \\dfrac{\\pi ^{2}}{2} = \\dfrac{\\pi }{2}\\end{aligned} \\begin{aligned} a_{0}=\\dfrac{1}{\\pi }\\left( \\pi \\cdot t-\\dfrac{t^{2}}{2}\\right) ] _{0}^{\\pi }=\\dfrac{1}{\\pi }\\left[ \\pi \\cdot \\pi -\\dfrac{\\pi ^{2}}{2}-\\left( \\pi \\cdot 0-\\dfrac{0^{2}}{2}\\right) \\right] = \\dfrac{1}{\\pi }\\cdot \\dfrac{\\pi ^{2}}{2} = \\dfrac{\\pi }{2}\\end{aligned} C\u00e1lculo de a_{n} a_{n} De la misma forma que en a{0} a{0} podemos descomponer la integral en dos siendo cero para el periodo entre \\pi \\pi y cero, o sea: a_{n}=\\dfrac{1}{\\pi }\\int ^{\\pi }_{-\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi }\\int ^{\\pi }_{-\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt Vamos a resolver la integral de forma indefinida. Podemos poner que: \\int \\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt=\\int \\pi \\cos \\left( nt\\right) dt-\\int t\\cos \\left( nt\\right) dt \\hspace{2cm} \\left[ 1\\right] \\int \\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt=\\int \\pi \\cos \\left( nt\\right) dt-\\int t\\cos \\left( nt\\right) dt \\hspace{2cm} \\left[ 1\\right] La primera es una integral inmediata que toma como valor \\pi /{n} \\cdot sen\\left( nt\\right) \\pi /{n} \\cdot sen\\left( nt\\right) y la segunda es una integral que debemos resolver por partes, as\u00ed que escribimos: \\begin{aligned}\\int u\\cdot dv=u \\cdot v-\\int v\\cdot du \\hspace{2cm} \\left[ 2\\right] \\end{aligned} \\begin{aligned}\\int u\\cdot dv=u \\cdot v-\\int v\\cdot du \\hspace{2cm} \\left[ 2\\right] \\end{aligned} Hacemos: $u=t\\Rightarrow du=1\\cdot dt =dt\\ dv=\\cos \\left( nt\\right) dt\\Rightarrow \\int dv=\\int \\cos \\left( nt\\right) dt\\Rightarrow v=\\dfrac{1}{n}sen\\left( nt\\right) $ Si sustituimos en [2] los valores obtenidos de u y v tenemos: \\begin{aligned}\\int t\\cos \\left( nt\\right) dt=t\\cdot \\dfrac{1}{\\pi }sen\\left( nt\\right) -\\int \\dfrac{1}{n}sen\\left( nt\\right) dt=\\\\ \\dfrac{t}{\\pi }sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\left[ -\\cos \\left( nt\\right) \\right] =\\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\end{aligned} \\begin{aligned}\\int t\\cos \\left( nt\\right) dt=t\\cdot \\dfrac{1}{\\pi }sen\\left( nt\\right) -\\int \\dfrac{1}{n}sen\\left( nt\\right) dt=\\\\ \\dfrac{t}{\\pi }sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\left[ -\\cos \\left( nt\\right) \\right] =\\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\end{aligned} Si llevamos los resultados obtenidos a la integral indefinida que tenemos en [1] nos queda: \\int \\left( \\pi -t\\right) \\cos \\left( nt\\right) dt=\\dfrac{\\pi }{n}sen\\left( nt\\right) -\\left[ \\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\right] \\int \\left( \\pi -t\\right) \\cos \\left( nt\\right) dt=\\dfrac{\\pi }{n}sen\\left( nt\\right) -\\left[ \\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\right] Llevamos este valor a la integral definida y podemos poner que: a_{n}=\\dfrac{1}{\\pi }\\left[ \\dfrac{\\pi }{n}sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) -\\dfrac{t}{n}sen\\left( nt\\right) \\right] _{0}^{\\pi }\\\\\\\\ a_{n}=\\dfrac{1}{\\pi }\\left\\{ \\left[ \\dfrac{\\pi }{n}scn\\left( n\\pi \\right) -\\dfrac{1}{n^{2}}\\cos \\left( n\\pi \\right) -\\dfrac{\\pi }{n}sen( n\\pi \\right] -\\left[ 0-\\dfrac{1}{n^{2}}\\cos 0-\\right] \\right\\} \\\\\\\\ a_{n}=\\dfrac{1-\\cos }{\\pi n}\\dfrac{\\left( n\\pi \\right) }{2}\\left[ como\\cos \\left( n\\pi \\right) =\\left( -1\\right) ^{n}\\right] \\Rightarrow an=\\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\hspace{1cm}\\forall n\\in N a_{n}=\\dfrac{1}{\\pi }\\left[ \\dfrac{\\pi }{n}sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) -\\dfrac{t}{n}sen\\left( nt\\right) \\right] _{0}^{\\pi }\\\\\\\\ a_{n}=\\dfrac{1}{\\pi }\\left\\{ \\left[ \\dfrac{\\pi }{n}scn\\left( n\\pi \\right) -\\dfrac{1}{n^{2}}\\cos \\left( n\\pi \\right) -\\dfrac{\\pi }{n}sen( n\\pi \\right] -\\left[ 0-\\dfrac{1}{n^{2}}\\cos 0-\\right] \\right\\} \\\\\\\\ a_{n}=\\dfrac{1-\\cos }{\\pi n}\\dfrac{\\left( n\\pi \\right) }{2}\\left[ como\\cos \\left( n\\pi \\right) =\\left( -1\\right) ^{n}\\right] \\Rightarrow an=\\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\hspace{1cm}\\forall n\\in N De forma similar podemos obtener b_{n} b_{n} que vendr\u00e1 dado por: b_{n}=\\dfrac{1}{\\pi }\\left\\{ -\\dfrac{\\pi }{n}\\cos \\left( nt\\right) -\\left[ \\dfrac{1}{n^{2}}sen\\left( nt\\right) -\\dfrac{t}{n}\\cos \\left( nt\\right) \\right] \\right\\} _{0}^{\\pi}\\\\ b_{n}=\\dfrac{\\pi }{n}\\cdot \\dfrac{1}{\\pi }=\\dfrac{1}{n} b_{n}=\\dfrac{1}{\\pi }\\left\\{ -\\dfrac{\\pi }{n}\\cos \\left( nt\\right) -\\left[ \\dfrac{1}{n^{2}}sen\\left( nt\\right) -\\dfrac{t}{n}\\cos \\left( nt\\right) \\right] \\right\\} _{0}^{\\pi}\\\\ b_{n}=\\dfrac{\\pi }{n}\\cdot \\dfrac{1}{\\pi }=\\dfrac{1}{n} Finalmente la funci\u00f3n expresada como serie de Fourier quedar\u00eda de la siguiente forma: f\\left( t\\right) =\\dfrac{\\pi }{4}+\\sum ^{\\infty }_{n=1}\\left[ \\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\cos \\left( nt\\right) +\\dfrac{1}{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{\\pi }{4}+\\sum ^{\\infty }_{n=1}\\left[ \\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\cos \\left( nt\\right) +\\dfrac{1}{n}sen\\left( nt\\right) \\right] Dando valores a n en esta ecuaci\u00f3n podemos obtener todos los arm\u00f3nicos necesarios para aproximarnos a la definici\u00f3n de la funci\u00f3n. Rectificador de media onda \u00b6 En la imagen 7 tenemos representada la se\u00f1al que entrega un rectificador de media onda y a la derecha tenemos la se\u00f1al escrita en t\u00e9rminos matem\u00e1ticos. Imagen 7 \\begin{aligned}\\\\\\\\0 < t < \\pi \\rightarrow f\\left( t\\right) =V_{p}sen\\omega t\\\\\\\\ \\pi\\leq t < {2\\pi} \\rightarrow f\\left( t\\right) =0 \\\\\\\\ T = {2\\pi} \\end{aligned} \\begin{aligned}\\\\\\\\0 < t < \\pi \\rightarrow f\\left( t\\right) =V_{p}sen\\omega t\\\\\\\\ \\pi\\leq t < {2\\pi} \\rightarrow f\\left( t\\right) =0 \\\\\\\\ T = {2\\pi} \\end{aligned} Se\u00f1al de salida de un rectificador de media onda Expresi\u00f3n matem\u00e1tica Observamos que se trata ade una funci\u00f3n a trozos que podemos escribir como: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] Los coeficientes de Fourier vendr\u00e1n dados por: a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt\\hspace{3mm}=\\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) dt a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt\\hspace{3mm}=\\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot\\cos \\left( nt\\right) dt \\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot\\cos\\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot\\cos \\left( nt\\right) dt \\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot\\cos\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot sen \\left( nt\\right) dt\\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot sen\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot sen \\left( nt\\right) dt\\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot sen\\left( nt\\right) dt Sustituimos f(t) por su valor y podemos poner que: a_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) cos\\left( nt\\right)dt\\\\\\\\b_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) sen\\left( nt\\right)dt a_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) cos\\left( nt\\right)dt\\\\\\\\b_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) sen\\left( nt\\right)dt Se trata de integrales trigonom\u00e9trica que se resuelven transformando el producto en suma y recordando las identidades trigonom\u00e9tricas. Si realizamos un an\u00e1lisis en el tiempo (Transient) podemos obtener el espectro de una se\u00f1al utilizando la siguiente sentencia: .FOUR [Numero de arm\u00f3nicos] El n\u00famero de arm\u00f3nicos es opcional y si no se introduce se calculan 9 por defecto. En la imagen 8 tenemos el circuito del rectificador de media onda con el an\u00e1lisis temporal configurado y la ventana de Spice directive con la sentencia que vamos a introducir para su an\u00e1lisis. Imagen 8 Rectificador de media onda y an\u00e1lisis temporal configurado Ventana Spice directive El resultado de la simulaci\u00f3n est\u00e1 en un archivo de texto al que accedemos a trav\u00e9s del men\u00fa View \u2192 SPICE Error Log , y para el caso que nos ocupa es el de la imagen 9. Imagen 9 Descomposici\u00f3n en la componente continua y sus arm\u00f3nicos La primera columna de la tabla indica el n\u00famero de arm\u00f3nico. La segunda columna indica la frecuencia del arm\u00f3nico de esa fila. La tercera indica la amplitud de cada arm\u00f3nico y la cuarta el valor normalizado, respecto del primer arm\u00f3nico. La quinta columna indica la fase de cada arm\u00f3nico y la sexta columna la fase normalizada. El valor de la componente cont\u00ednua es DC component . La transformada r\u00e1pida de Fourier \u00b6 Normalmente conocida por la abreviatura FFT (del ingl\u00e9s Fast Fourier Transform). Aunque vamos a dar las ecuaciones base no vamos a entrar en profundidades de matem\u00e1ticas, bastante complejas por otro lado, porque lo que tratamos es de que se entienda el concepto para poder analizar los resultados que nos devuelva LTSpice XVII. La tranformada de Fourier convierte una se\u00f1al expresada en el dominio del tiempo al dominio de la frecuencia. Ya vimos el concepto anteriormente y la ecuaci\u00f3n que convierte la trayectoria en vectores es: \\begin{aligned}X_{k}=\\sum ^{N-1}_{n=0}x_{n}\\cdot e^{-j2\\pi k n/N}\\end{aligned} \\begin{aligned}X_{k}=\\sum ^{N-1}_{n=0}x_{n}\\cdot e^{-j2\\pi k n/N}\\end{aligned} Donde: X_{k} X_{k} es el valor de la frecuencia k de la se\u00f1al. Cada k-\u00e9simo valor es un complejo que incluye la amplitud y la fase. N es el n\u00famero de muestras. n es la muestra actual, con n\\in \\left\\{ 0\\ldots N-1\\right\\} n\\in \\left\\{ 0\\ldots N-1\\right\\} k es la frecuencia actual, entre 0 y N-1 Hz n/N es el porcentaje de tiempo que ha pasado. 2\\pi k 2\\pi k es la velocidad en radianes por segundo. e^{-jx} e^{-jx} es el desarrollo de una trayectoria circular en sentido antihorario. La funci\u00f3n FFT() devuelve esos X_{k} X_{k} Una transformada inversa de Fourier convierte el dominio de la frecuencia en el originario dominio temporal. La ecuaci\u00f3n matem\u00e1tica que realiza esta operaci\u00f3n es: \\begin{aligned}x_{n}=\\dfrac{1}{N}\\sum ^{N-1}_{k=0}X_{k}\\cdot e^{j2\\pi k n/N}\\end{aligned} \\begin{aligned}x_{n}=\\dfrac{1}{N}\\sum ^{N-1}_{k=0}X_{k}\\cdot e^{j2\\pi k n/N}\\end{aligned} Vamos a hacernos una serie de preguntas dando sus respuestas en torno a algo que conocemos mucho mejor que estas ecuaciones. Vamos a usar una receta de arroz con leche como simil. Pregunta real Respuesta utilizando la receta \u00bfQu\u00e9 hace la transformada de Fourier? A partir del arroz con leche encuentra su receta \u00bfC\u00f3mo encuentra la receta? Utiliza filtros para separar los ingredientes: arroz, leche, canela y az\u00facar \u00bfPor que es \u00fatil tener la receta? Es mas f\u00e1cil de analizar, comparar y modificar que el postre en si \u00bfC\u00f3mo recuperamos el arroz con leche? Mezclando los ingredientes Podemos imaginar los ingredientes como se\u00f1ales con la forma de onda b\u00e1sica y el arroz con leche como una serie temporal compleja. T\u00e9cnicamente podemos decir que la transformada de Fourier toma un patr\u00f3n basado en el tiempo, mide cada ciclo posible y devuelve la \"receta de ciclo\" general, o sea la amplitud, el desfase y la frecuencia para cada ciclo que encontr\u00f3. Una serie temporal es, en el fondo, la suma de muchas ondas como las que ya hemos visto y que tienen la forma t\u00edpica de un sin(x) o cos(x) . Pues bien, la m\u00e1quina capaz de obtener los ingredientes la podemos asemejar a la transformada de Fourier que nos permite: Pasar de una serie temporal complicada a una suma de ondas simples. Dibujar esto en un diagrama de frecuencias. Utilizando la frecuencia como medida para diferenciar las diferentes ondas. Este diagrama se conoce como espectro de frecuencias o mapa de frecuencias y permite ver a simple vista el contenido de las ondas resultado de utilizar la transformada de Fourier. Ya vimos que una serie temporal la puedes pasar a una gr\u00e1fico en frecuencia. Ejemplos \u00b6 Circuito RLC para mostrar FFT \u00b6 Vamos a analizar el circuito de la imagen 10 dando los valores adecuados a los componentes, configurando la fuente V1 con los par\u00e1metros que se indican y el an\u00e1lisis transitorio que se muestra. Imagen 10 Circuito y configuraciones de V1 y an\u00e1lisis Una vez completado el trabajo de la imagen 10 procedemos con la ejecuci\u00f3n del an\u00e1lisis y tras unos instantes estar\u00e1n realizados los c\u00e1lculos y podemos a\u00f1adir una sonda de tensi\u00f3n para mostrar la se\u00f1al de salida. En la animaci\u00f3n siguiente observamos este proceso. Teniendo seleccionada la traza podemos acceder a FFT de cualquiera de la formas que vemos en la imagen 11. Imagen 11 Formas de acceso a FFT Si accedemos a FFT y escogemos la se\u00f1al indicada en la imagen 12 generamos la FFT inicial que vemos en la imagen 13. Imagen 12 Selecci\u00f3n de se\u00f1al para a\u00f1adir a FFT Vemos que la transformada que se genera es poco legible debido a la configuraci\u00f3n de los ejes de coordenadas por defecto. Imagen 13 FFT inicial En la siguiente animaci\u00f3n vemos como reconfigurar los ejes para tener un espectro mas legible. El eje de ordenadas lo transformamos en lineal y cambiamos el rango del eje de abcisas para destacar los valores mas importantes. Directiva .options \u00b6 Permite cambiar determinadas opciones para ajustar el control del programa, como controlar la salida, el tipo de an\u00e1lisis, etc. La sintaxis es .OPTIONS opc1 opc2 ... . En la tabla siguiente las tenemos especificadas. Opci\u00f3n Tipo de dato Valor por defecto Descripci\u00f3n abstol N\u00famero 1 pA Tolerancia absoluta de corriente baudrate N\u00famero Ninguno Se usa para diagramas de ojo en cronogramas. Indica como ajustar el tiempo de abcisas para superponer los bits de transici\u00f3n chgtol N\u00famero 10fC Tolerancia absoluta de carga cshunt N\u00famero 0 Capacidad opcional a\u00f1adida desde cada nodo a masa cshuntintern N\u00famero cshunt Capacidad opcional a\u00f1adida desde cada nodo interno de dispositivo a masa defad N\u00famero 0 \u00c1rea de difusi\u00f3n de drenaje MOS predeterminada defas N\u00famero 0 \u00c1rea de difusi\u00f3n de fuente MOS predeterminada defl N\u00famero 100\u00b5m Longitud predeterminada del canal fuente MOS defw N\u00famero 100\u00b5m Anchura predeterminada del canal MOS delay N\u00famero 0 Cambia las transiciones de bits en el diagrama de ojo fastaccess flag false Convierte a formato de archivo de acceso r\u00e1pido al final de la simulaci\u00f3n flagloads flag false Marca las fuentes de corriente externas como cargas Gmin N\u00famero 1e-12 Conductancia agregada a cada uni\u00f3n PN para ayudar a la convergencia gminsteps N\u00famero 25 Poner a cero para prevenir gminstepping en la soluci\u00f3n inicial en continua gshunt N\u00famero 0 Conductancia opcional a\u00f1adida entre cada nodo y masa itl1 N\u00famero 100 L\u00edmite de iteraciones DC itl2 N\u00famero 50 L\u00edmite de iteraciones de la curva de transferencia en continua itl4 N\u00famero 10 L\u00edmite de iteraciones en an\u00e1lisis transitorio itl6 N\u00famero 25 Poner a cero para prevenir source stepping en el an\u00e1lisis incial DC srcsteps N\u00famero 25 Nombre alternativo de itl6 maxclocks N\u00famero Infinito M\u00e1ximo n\u00famero de ciclos de reloj a salvar maxstep N\u00famero Infinito M\u00e1ximo tama\u00f1o de pasos para an\u00e1lisis transitorio meascplxfmt string bode Formato de n\u00famero complejo de los resultados de la instrucci\u00f3n .meas. Uno entre \"polar\", \"cartesiano\" o \"bode\" measdgt N\u00famero 6 N\u00famero de figuras significativas usadas para .measure method string trap M\u00e9todo de integraci\u00f3n num\u00e9rica. Puede ser trapezoidal o Gear minclocks N\u00famero 10 N\u00famero m\u00ednimo de ciclos de reloj hasta salvar MinDeltaGmin N\u00famero 1e-4 Establece un limite para finalizar gmin nomarch flag false No dibujar formas de onda noopiter flag false Ir a la directiva gmin directamente numdgt N\u00famero 6 Hist\u00f3ricamente, \"numdgt\" se usa para establecer el n\u00famero de cifras significativas utilizadas para los datos de salida. En LTspice, si \"numdgt\" se establece mayor que 6, se usa doble precisi\u00f3n para datos de variables dependientes pivrel N\u00famero 1e-3 Relaci\u00f3n relativa entre la entrada m\u00e1s alta de columna y un valor de cambio aceptable pivtol N\u00famero 1e-13 Valor m\u00ednimo absoluto para que una entrada de matriz se acepte reltol N\u00famero .001 Tolerancia de error relativa srcstepmethod N\u00famero 0 Con qu\u00e9 algoritmo de pasos fuente empezar sstol N\u00famero .001 Error relativo para detecci\u00f3n de estado estable startclocks N\u00famero 5 N\u00famero de ciclos de reloj a esperar para considerar estado estable temp N\u00famero 27\u00b0C Temperatura por defecto para los elementos del circuito que no especifican temperatura en sus par\u00e1metros tnom N\u00famero 27\u00b0C Temperatura predeterminada a la que se midieron los par\u00e1metros del dispositivo para los modelos que no especifican esta temperatura topologycheck N\u00famero 1 Establecer en cero para omitir la verificaci\u00f3n de nodos flotantes, bucles de fuentes de tensi\u00f3n y topolog\u00eda de devanado de transformador no f\u00edsico trtol N\u00famero 1.0 Tolerancia a errores transitorios trytocompact N\u00famero 1 Cuando es distinto de cero, el simulador intenta condensar el historial de tensiones y corrientes de entrada de las l\u00edneas de transmisi\u00f3n vntol N\u00famero 1\u00b5V Valor absoluto de la tolerancia de error de tensi\u00f3n plotreltol N\u00famero .0025 Establece el error de tolerancia relativa para la compresi\u00f3n de formas de onda plotvntol N\u00famero 10\u00b5V Establece el error absoluto de tensi\u00f3n para compresi\u00f3n de formas de onda plotabstol N\u00famero 1nA Establece el error absoluto de corriente para compresi\u00f3n de formas de onda plotwinsize N\u00famero 300 N\u00famero de puntos de datos para comprimir en una ventana. Cero para deshabilitar la compresi\u00f3n ptrantau N\u00famero .1 Tiempo de inicio caracter\u00edstico para un an\u00e1lisis pseudo transitorio para encontrar el punto de trabajo. Cero para deshabilitar ptranmax N\u00famero 0 Si se establece en un valor distinto de cero, el tiempo del an\u00e1lisis pseudo transitorio se utiliza como punto de trabajo se haya estabilizado el circuito o no En la imagen 14 tenemos un circuito con directivas options y su se\u00f1al de salida representada en el dominio del tiempo. Imagen 14 Directivas .options y an\u00e1lisis de Fourier En la imagen 15 tenemos la FFT. Imagen 15 Transformada de Fouerier En la imagen 16 vemos los resultados de la simulaci\u00f3n con los datos de las componentes de Fourier mas destacados. Imagen 16 View \u2192 Spice Error Log Reconstrucci\u00f3n de se\u00f1ales a partir de la FFT \u00b6 A partir de datos como los de la imagen 16 es posible reconstruir la se\u00f1al con el desarrollo inverso de la FFT. Para ver como hacerlo vamos a partir de un circuito tan simple como un generador de se\u00f1al cuadrada o tren de pulsos del que vamos a obtener su FFT y despu\u00e9s vamos a ir reconstruyendo la se\u00f1al a partir de los t\u00e9rminos de Fourier. Montamos el circuito de la imagen 17 y realizamos el an\u00e1lisis para obtener la se\u00f1al de salida. Imagen 17 Generador de tren de pulsos En la imagen 18 tenemos las componentes de Fourier que se han calculado. Hemos destacado los datos que vamos a usar para reconstruir la se\u00f1al. Imagen 18 Componentes de Fourier del generador de tren de pulsos A continuaci\u00f3n expresamos los datos anteriores que nos interesan. Componente de corriente continua: 2.505 V Arm\u00f3nico Frecuencia (kHz) Componente de Fourier Fase (\u00b0) A1 1 3.183 V -0.36 A2 2 0.01 V 89.64 A3 3 1.061 V -1.08 A4 4 0.01 V 88.56 A5 5 0.6365 V -1.44 A6 6 9.999 mV 88.20 A7 7 0.4546 V -2.16 A8 8 9.999 mV 87.12 A9 9 0.3535 V -3.24 A10 10 9.997 mV 86.4 El sistema genera una distorsi\u00f3n arm\u00f3nica total del 42.879828% (48.172792%) Podemos descargar este ejemplo para su estudio Tomando los valores de la tensi\u00f3n continua y los de los arm\u00f3nicos vamos a reconstruir la se\u00f1al original. Para ello vamos a utilizar las fuentes de tensi\u00f3n necesarias y sumadores anal\u00f3gicos que permitan ir sumando las mismas y obtener la se\u00f1al correspondiente al arm\u00f3nico. Vamos a comenzar por reconstruir la componente continua y los dos primeros arm\u00f3nicos para lo que construimos el circuito que vemos en la imagen 19. Imagen 19 Reconstrucci\u00f3n de la componente continua y los arm\u00f3nicos 1 y 2 Observese como se han compuesto las se\u00f1ales con los valores de la tabla anterior. Las se\u00f1ales medidas en los puntos A1, A2 y A3, que corresponden a los tres primeros arm\u00f3nicos las vemos en la imagen 20. Observamos como a partir del segundo arm\u00f3nico la se\u00f1al comienza a parecerse a una cuadrada. Imagen 20 Se\u00f1ales en A1, A2 y A3 Esta parte la podemos descargar este ejemplo para su estudio De forma similar a la anterior reconstruimos los arm\u00f3nicos 4, 5 y 6 obteniendo las gr\u00e1ficas y el circuito que vemos en la imagen 21. Imagen 21 Reconstrucci\u00f3n arm\u00f3nicos 1 al 6 Esta parte la podemos descargar este ejemplo para su estudio De forma similar a la anterior reconstruimos los arm\u00f3nicos 7 al 10 obteniendo las gr\u00e1ficas y el circuito que vemos en la imagen 22. Imagen 22 Reconstrucci\u00f3n arm\u00f3nicos 7 al 10 Podemos descargar este ejemplo para su estudio Finalmente a\u00f1adimos un puerto Salida al circuito y el mismo an\u00e1lisis de Fourier que al circuito original y obtenemos los resultados que vemos en la imagen 23. Imagen 23 Reconstrucci\u00f3n de 10 arm\u00f3nicos En la tabla siguiente repetimos los datos anteriores e incluimos los correspondientes a la reconstrucci\u00f3n para su comparaci\u00f3n. Componente de corriente continua: 2.505 V Componente de corriente continua: 2.50477 V Arm\u00f3nico Frecuencia (kHz) Componente de Fourier Fase (\u00b0) Componente de Fourier Fase (\u00b0) A1 1 3.183 V -0.36 3.182 V -0.96 A2 2 0.01 V 89.64 9.991 mV 88.07 A3 3 1.061 V -1.08 1.060 V -2.51 A4 4 0.01 V 88.56 9.980 mV 86.19 A5 5 0.6365 V -1.44 0.6349 V -3.22 A6 6 9.999 mV 88.20 9.960 mV 85.60 A7 7 0.4546 V -2.16 0.4525 V -3.83 A8 8 9.999 mV 87.12 9.932 mV 84.87 A9 9 0.3535 V -3.24 0.3509 V -4.31 A10 10 9.997 mV 86.4 9.902 mV 85.12 Observamos como las diferencias son lo suficientemente peque\u00f1as como para poder decir que la se\u00f1al ha quedado reconstruida de forma fiable.","title":"An\u00e1lisis de Fourier"},{"location":"Instalaciones/LTSpice/Fourier/#analisis-de-fourier","text":"Este tipo de an\u00e1lisis lo vamos a ver en un apartado espec\u00edfico dada su amplitud y porque describiremos las matem\u00e1ticas necesarias para llevarlo a cabo lo mas claramente posible. Todas las descripciones van a tender a obtener el desarrollo en serie de Fourier de funciones peri\u00f3dicas aunque conceptualmente se nombre otros contenidos. Vamos a ponernos en contexto del significado de an\u00e1lisis de Fourier desde el punto de vista de la electr\u00f3nica. La transformada Fourier fue planteada por el matem\u00e1tico franc\u00e9s Joseph Fourier en el a\u00f1o 1822 en sus teor\u00edas sobre la transmisi\u00f3n del calor.","title":"An\u00e1lisis de Fourier"},{"location":"Instalaciones/LTSpice/Fourier/#dominios-del-tiempo-y-de-la-frecuencia","text":"El an\u00e1lisis de Fourier b\u00e1sicamente plantea que cualquier se\u00f1al peri\u00f3dica (de la forma que sea) puede descomponerse como la suma de se\u00f1ales sinusoidales de distintas frecuencias . Tal y como hemos destacado en la frase hay que relacionar tiempo y frecuencia para trabajar con estos conceptos. En la imagen 1 tenemos algunas de las se\u00f1ales (funciones) peri\u00f3dicas mas habituales en electr\u00f3nica, l\u00f3gicamente todas ellas funci\u00f3n del tiempo. Imagen 1 Se\u00f1ales peri\u00f3dicas habituales En la imagen 2 tenemos representadas tres se\u00f1ales sinusoidales de distintas frecuencias y amplitudes representadas en ambos dominios. Imagen 2 Se\u00f1ales representadas en los dominios del tiempo y la frecuencia La se\u00f1al representada en negro tiene un periodo de 1 ms, lo que supone que su frecuencia es de 1 kHz y con un valor que podemos expresar como 10 V de pico o 20 V pico a pico o 10 V de amplitud, y esos valores se dan indistintamente del dominio en el que nos situemos, pues bien, en el dominio de la frecuencia el punto con esas coordenadas de amplitud y frecuencia se representa como el extremo de un vector y tiene exactamente el mismo significado. De forma similar la se\u00f1al roja tiene un periodo que es la mitad del de la negra y una amplitud de 5 V y finalmente la verde con un periodo de la mitad que la roja y una amplitud de 2V.","title":"Dominios del tiempo y de la frecuencia"},{"location":"Instalaciones/LTSpice/Fourier/#conocimientos-previos-utiles","text":"Antes de entrar en las series de Fourier vamos a recordar algunas nociones b\u00e1sicas de las funciones seno y coseno que nos van a resultar muy \u00fatiles posteriormente. En la imagen 3 tenemos representada una funci\u00f3n seno con indicaci\u00f3n de los principales puntos de corte con los ejes. Imagen 3 Funci\u00f3n seno Lo primero que observamos es que la funci\u00f3n est\u00e1 acotada entre 1 y -1 por lo que la funci\u00f3n f(t) = sen(t) nunca puede ser mayor que 1 ni menos que -1, o sea: f\\left( t\\right) =sen\\left( t\\right) f\\left( t\\right) =sen\\left( t\\right) siempre que -1\\leq sen\\left( t\\right) \\leq 1 -1\\leq sen\\left( t\\right) \\leq 1 Tambi\u00e9n podemos observar que la funci\u00f3n seno es peri\u00f3dica ya que se repite con un periodo T = 2\\pi T = 2\\pi . Esto se expresa matem\u00e1ticamente de la siguiente forma: sen\\left( t\\right) =sen\\left( t+2\\pi \\right) sen\\left( t\\right) =sen\\left( t+2\\pi \\right) El c\u00e1lculo de los ceros de la funci\u00f3n es bastante sencillo a partir de la ecuaci\u00f3n anterior, tal y como vemos a continuaci\u00f3n: \\begin{aligned}sen\\left( 0\\right) =0\\\\sen\\left( \\pi \\right) =0\\\\ sen\\left( 2\\pi \\right) =0\\\\ sen\\left( 3\\pi \\right) =sen\\left( 2\\pi +\\pi \\right) =0\\end{aligned} \\begin{aligned}sen\\left( 0\\right) =0\\\\sen\\left( \\pi \\right) =0\\\\ sen\\left( 2\\pi \\right) =0\\\\ sen\\left( 3\\pi \\right) =sen\\left( 2\\pi +\\pi \\right) =0\\end{aligned} Es decir: \\begin{aligned}sen\\left( n\\pi \\right)=0\\end{aligned} \\begin{aligned}sen\\left( n\\pi \\right)=0\\end{aligned} siendo: \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} Vamos ahora a aplicar el mismo concepto para el c\u00e1lculo de los valores m\u00e1ximo y m\u00ednimo de la funci\u00f3n seno. sen\\left( \\dfrac{\\pi }{2}\\right) =1;sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{\\pi }{2}\\right) =1;sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{5\\pi }{2}\\right) =sen\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{\\pi }{2}\\right) =1 sen\\left( \\dfrac{5\\pi }{2}\\right) =sen\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{\\pi }{2}\\right) =1 sen\\left( \\dfrac{7\\pi }{2}\\right) =sen\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 sen\\left( \\dfrac{7\\pi }{2}\\right) =sen\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =sen\\left( \\dfrac{3\\pi }{2}\\right) =-1 y gen\u00e9ricamente se puede poner que: sen\\left[ \\dfrac{\\left( 2n- 1\\right)\\pi }{2}\\right] =\\left( -1\\right) ^{n+1} sen\\left[ \\dfrac{\\left( 2n- 1\\right)\\pi }{2}\\right] =\\left( -1\\right) ^{n+1} Por ejemplo: \\begin{aligned}n=6\\Rightarrow sen\\left( \\dfrac{11\\times \\pi }{2}\\right) =\\left( -1\\right) ^{7}=-1\\\\\\\\ n=9\\Rightarrow sen\\left( \\dfrac{17\\times \\pi }{2}\\right) =\\left( -1\\right) ^{10}=1\\end{aligned} \\begin{aligned}n=6\\Rightarrow sen\\left( \\dfrac{11\\times \\pi }{2}\\right) =\\left( -1\\right) ^{7}=-1\\\\\\\\ n=9\\Rightarrow sen\\left( \\dfrac{17\\times \\pi }{2}\\right) =\\left( -1\\right) ^{10}=1\\end{aligned} En la imagen 4 tenemos representada una funci\u00f3n coseno con indicaci\u00f3n de los principales puntos de corte con los ejes. Imagen 4 Funci\u00f3n coseno Observamos tambi\u00e9n que la funci\u00f3n est\u00e1 acotada entre 1 y -1 por lo que la funci\u00f3n f(t) = cos(t) nunca puede ser mayor que 1 ni menos que -1, o sea: f\\left( t\\right) =cos\\left( t\\right) f\\left( t\\right) =cos\\left( t\\right) siempre que -1\\leq cos\\left( t\\right) \\leq 1 -1\\leq cos\\left( t\\right) \\leq 1 Vemos que la funci\u00f3n coseno es peri\u00f3dica ya que se repite con un periodo T = 2\\pi T = 2\\pi . Esto se expresa matem\u00e1ticamente de la siguiente forma: cos\\left( t\\right) =cos\\left( t+2\\pi \\right) cos\\left( t\\right) =cos\\left( t+2\\pi \\right) Hacemos el c\u00e1lculo de los ceros de la funci\u00f3n de forma similar a como hicimos en el seno y tenemos que: cos\\left( \\dfrac{\\pi }{2}\\right) =0;cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{\\pi }{2}\\right) =0;cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{5\\pi }{2}\\right) =cos\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{\\pi }{2}\\right) =0 cos\\left( \\dfrac{5\\pi }{2}\\right) =cos\\left( \\dfrac{\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{\\pi }{2}\\right) =0 cos\\left( \\dfrac{7\\pi }{2}\\right) =cos\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{3\\pi }{2}\\right) =0 cos\\left( \\dfrac{7\\pi }{2}\\right) =cos\\left( \\dfrac{3\\pi }{2}+2 \\pi \\right) =cos\\left( \\dfrac{3\\pi }{2}\\right) =0 y gen\u00e9ricamente se puede poner que: \\cos \\left( \\dfrac{2n-1}{2}\\right) \\cdot \\pi =0\\hspace{1cm};\\hspace{1cm}\\forall n\\in \\mathbb{N} \\cos \\left( \\dfrac{2n-1}{2}\\right) \\cdot \\pi =0\\hspace{1cm};\\hspace{1cm}\\forall n\\in \\mathbb{N} Vamos ahora a aplicar el mismo concepto para el c\u00e1lculo de los valores m\u00e1ximo y m\u00ednimo de la funci\u00f3n seno. \\begin{aligned}cos\\left( 0\\right) =1\\\\cos\\left( \\pi \\right) =-1\\\\ cos\\left( 2\\pi \\right) =1\\\\ cos\\left( 3\\pi \\right) =cos\\left( 2\\pi +\\pi \\right) =-1\\end{aligned} \\begin{aligned}cos\\left( 0\\right) =1\\\\cos\\left( \\pi \\right) =-1\\\\ cos\\left( 2\\pi \\right) =1\\\\ cos\\left( 3\\pi \\right) =cos\\left( 2\\pi +\\pi \\right) =-1\\end{aligned} Es decir: cos\\left( n\\pi \\right) =\\left( -1\\right) ^{n} cos\\left( n\\pi \\right) =\\left( -1\\right) ^{n} siendo: \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} \\begin{aligned}n\\in \\mathbb{N} \\end{aligned} Tambi\u00e9n nos va a resultar muy \u00fatil recordar que cuando hablamos de se\u00f1ales peri\u00f3dicas y realizamos integraci\u00f3n con limites iguales al periodo de la se\u00f1al, el valor de la integral es cero. A continuaci\u00f3n vemos algunos ejemplos de esto. \\int _{0}^{2\\pi}sen\\left( t\\right) dt = 0 \\int _{0}^{2\\pi}sen\\left( t\\right) dt = 0 \\int _{-\\pi}^{+\\pi}cos\\left( t\\right) dt = 0 \\int _{-\\pi}^{+\\pi}cos\\left( t\\right) dt = 0 \\int _{4\\pi}^{6\\pi}sen\\left( t\\right) dt = 0 \\int _{4\\pi}^{6\\pi}sen\\left( t\\right) dt = 0","title":"Conocimientos previos \u00fatiles"},{"location":"Instalaciones/LTSpice/Fourier/#serie-de-fourier","text":"Una funci\u00f3n f(t) con x\\in \\mathbb{R} x\\in \\mathbb{R} que sea integrable dentro de un intervalo de longitud T se puede definir como una serie de Fourier haciendo: Pues bien, Fourier lo que dijo fue que cualquier se\u00f1al peri\u00f3dica se puede representar como una suma infinita de funciones sinusoidales. Esto se expresa matem\u00e1ticamente de la siguiente forma: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] siendo n: un n\u00famero natural. t\\in \\mathbb{R} t\\in \\mathbb{R} con un periodo o longitud T a 0 , a n , b n : los denominados coeficientes de Fourier. \\omega \\omega = 2\u03c0/T 0 : frecuencia angular fundamental. n \\omega \\omega : frecuencia de la componente arm\u00f3nica de orden n. Para que una funci\u00f3n cualquiera pueda ser expresada como serie de Fourier es condici\u00f3n necesaria que cumpla las condiciones de Dirichlet, que son: f(t) tiene un valor \u00fanico para cualquier valor de t. f(t) tiene un n\u00famero finito de discontinuidades en un periodo. f(t) tiene un n\u00famero finito de m\u00e1ximos y m\u00ednimos en su periodo. Existe la integral del m\u00f3dulo de la funci\u00f3nen ese periodo: \\int ^{T/2}_{-T/2}\\left| f\\left( t\\right) \\right| dt \\int ^{T/2}_{-T/2}\\left| f\\left( t\\right) \\right| dt El problema de expresar una funci\u00f3n por su serie de Fourier consiste en calcular los coeficientes de Fourier, o lo que es lo mismo, en calcular las siguientes integrales definidas: a_{0}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) dt a_{0}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) dt a_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt a_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) sen \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{T/2}\\int _{T}f\\left( t\\right) sen \\left( n\\omega t\\right) dt siendo T el intervalo o periodo de la funci\u00f3n, que, si por ejemplo varia entre 0 y 2\u03c0, nos permite poner: a_{0}=\\dfrac{1}{{2\\pi }/{2}}\\int _{0}^{2\\pi}f\\left( t\\right) dt a_{0}=\\dfrac{1}{{2\\pi }/{2}}\\int _{0}^{2\\pi}f\\left( t\\right) dt a_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt a_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt b_{n}=\\dfrac{1}{2\\pi/2}\\int _{0}^{2\\pi}f\\left( t\\right) \\cos \\left( n\\omega t\\right) dt","title":"Serie de Fourier"},{"location":"Instalaciones/LTSpice/Fourier/#convergencia","text":"Damos a continuaci\u00f3n una notas aclaratorias. Se cumple que la serie de Fourier de la funci\u00f3n f(t) converge o tiende a f(t) dentro del intervalo de integraci\u00f3n. Si f(t) es peri\u00f3dica con un periodo T igual a la longitud del intervalo la funci\u00f3n f(t) converge a la serie de Fourier siempre con x\\in \\mathbb{R} x\\in \\mathbb{R} , es decir que converge en cualquier punto y no solo dentro del intervalo. Definimos suma parcial para la serie de Fourier de una funci\u00f3n f(t) peri\u00f3dica y definida en un intervalo de longitud T la k-\u00e9sima suma parcial, representada por S k (t) se calcula as\u00ed: S_{k}\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{k}_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] S_{k}\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{k}_{n=1}\\left[ a_{n}\\cos \\left( n\\omega t\\right) +b_{n}sen\\left( n\\omega t\\right) \\right] Esta suma ya no es de infinitos t\u00e9rminos sino de un n\u00famero k de ellos. El caso mas com\u00fan que nos vamos a encontrar es cuando T=2\\pi T=2\\pi lo que se cumple para situaciones como: T=2\\pi \\rightarrow \\left[ -2\\pi ,0 \\right] ; \\left[ 0,2\\pi \\right] ;\\left[ 2\\pi ,4\\pi \\right] ;\\left[ -\\pi ,\\pi \\right ] T=2\\pi \\rightarrow \\left[ -2\\pi ,0 \\right] ; \\left[ 0,2\\pi \\right] ;\\left[ 2\\pi ,4\\pi \\right] ;\\left[ -\\pi ,\\pi \\right ] En estos casos se cumple que: \\omega =\\dfrac{2\\pi }{T}=\\dfrac{2\\pi }{2\\pi }=1 \\omega =\\dfrac{2\\pi }{T}=\\dfrac{2\\pi }{2\\pi }=1 Por lo tanto podemos escribir la serie de Fourier de la siguiente forma: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] Es decir, cuando el intervalo es 2\\pi 2\\pi los coeficientes de Fourier toman la siguiente forma: a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) \\cos \\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) \\cos \\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) sen\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right) sen\\left( nt\\right) dt Este tipo de expresiones suelen ser complejas de solucionar dado que implican distintos niveles de integraci\u00f3n, pero al menos con un par de ejemplos vamos a intentar dejar claro como proceder.","title":"Convergencia"},{"location":"Instalaciones/LTSpice/Fourier/#funciones-pares-e-impares","text":"Una funci\u00f3n par es una funci\u00f3n que satisface la relaci\u00f3n f\\left( x\\right) =f\\left( -x\\right) f\\left( x\\right) =f\\left( -x\\right) . La imagen 5 muestra la gr\u00e1fica de una funci\u00f3n par. Imagen 5 Gr\u00e1fica de una funci\u00f3n par Imagen obtenida de wikipedia La funci\u00f3n es sim\u00e9trica respecto del eje y. Cuando una funci\u00f3n es par se cumple que b n = 0 con lo que podemos poner que: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} a_{n}\\cos \\left( nt\\right) f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} a_{n}\\cos \\left( nt\\right) Una funci\u00f3n impar es cualquier funci\u00f3n que satisface la relaci\u00f3n f\\left( -x\\right) =-f\\left( x\\right) f\\left( -x\\right) =-f\\left( x\\right) . La imagen 6 muestra la gr\u00e1fica de una funci\u00f3n impar. Imagen 6 Gr\u00e1fica de una funci\u00f3n impar Imagen obtenida de wikipedia La funci\u00f3n es sim\u00e9trica de forma rotacional respecto al origen de coordenadas. Cuando una funci\u00f3n es impar se cumple que a n = 0 con lo que podemos poner que: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} b_{n}sen \\left( nt\\right) f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1} b_{n}sen \\left( nt\\right)","title":"Funciones pares e impares"},{"location":"Instalaciones/LTSpice/Fourier/#ejemplos-resueltos","text":"Vamos a ver como aplicar estos conceptos con dos ejemplos desarrollados de forma completa en cuanto a c\u00e1lculos se refiere.","title":"Ejemplos resueltos"},{"location":"Instalaciones/LTSpice/Fourier/#funcion-matematica-a-trozos","text":"Obtener el desarrollo en serie de Fourier de una funci\u00f3n definida de la siguiente forma: \\begin{aligned}f\\left( t\\right) =0 \\hspace{1cm} si \\hspace{1cm} -\\pi <t <0\\\\ f\\left( t\\right) =\\pi -t \\hspace{1cm} si \\hspace{1cm}0\\leq t <\\pi \\end{aligned} \\begin{aligned}f\\left( t\\right) =0 \\hspace{1cm} si \\hspace{1cm} -\\pi <t <0\\\\ f\\left( t\\right) =\\pi -t \\hspace{1cm} si \\hspace{1cm}0\\leq t <\\pi \\end{aligned} El intervalo del periodo es \\left[ -\\pi ,\\pi \\right] \\left[ -\\pi ,\\pi \\right] por lo que T=2\\pi T=2\\pi y entonces lor t\u00e9rminos de Fourier vendr\u00e1n dados por: a_{0}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) dt\\\\ a_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt\\\\ b_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot sen\\left( nt\\right) dt a_{0}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) dt\\\\ a_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt\\\\ b_{n}=\\dfrac{1}{\\pi }\\int _{-\\pi }^{\\pi }f\\left( t\\right) \\cdot sen\\left( nt\\right) dt C\u00e1lculo de a_{0} a_{0} Si descomponemos la ecuaci\u00f3n para los dos valores de f(t) podemos poner: a_{0}=\\dfrac{1}{\\pi }\\int ^{0}_{-\\pi }0\\cdot dt+\\dfrac{1}{\\pi }\\int ^{\\pi }_{0}\\left( \\pi -t\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) dt a_{0}=\\dfrac{1}{\\pi }\\int ^{0}_{-\\pi }0\\cdot dt+\\dfrac{1}{\\pi }\\int ^{\\pi }_{0}\\left( \\pi -t\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) dt Procedemos a evaluar la integral de forma indefinida: \\int \\left( \\pi -t\\right) dt=\\int \\pi dt-\\int tdt=\\pi t-\\dfrac{t^{2}}{2} \\int \\left( \\pi -t\\right) dt=\\int \\pi dt-\\int tdt=\\pi t-\\dfrac{t^{2}}{2} Llevamos el resultado a la integral definida y sustituimos t por los l\u00edmites de integraci\u00f3n y tenemos: \\begin{aligned} a_{0}=\\dfrac{1}{\\pi }\\left( \\pi \\cdot t-\\dfrac{t^{2}}{2}\\right) ] _{0}^{\\pi }=\\dfrac{1}{\\pi }\\left[ \\pi \\cdot \\pi -\\dfrac{\\pi ^{2}}{2}-\\left( \\pi \\cdot 0-\\dfrac{0^{2}}{2}\\right) \\right] = \\dfrac{1}{\\pi }\\cdot \\dfrac{\\pi ^{2}}{2} = \\dfrac{\\pi }{2}\\end{aligned} \\begin{aligned} a_{0}=\\dfrac{1}{\\pi }\\left( \\pi \\cdot t-\\dfrac{t^{2}}{2}\\right) ] _{0}^{\\pi }=\\dfrac{1}{\\pi }\\left[ \\pi \\cdot \\pi -\\dfrac{\\pi ^{2}}{2}-\\left( \\pi \\cdot 0-\\dfrac{0^{2}}{2}\\right) \\right] = \\dfrac{1}{\\pi }\\cdot \\dfrac{\\pi ^{2}}{2} = \\dfrac{\\pi }{2}\\end{aligned} C\u00e1lculo de a_{n} a_{n} De la misma forma que en a{0} a{0} podemos descomponer la integral en dos siendo cero para el periodo entre \\pi \\pi y cero, o sea: a_{n}=\\dfrac{1}{\\pi }\\int ^{\\pi }_{-\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi }\\int ^{\\pi }_{-\\pi }f\\left( t\\right) \\cdot \\cos \\left( nt\\right) dt=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }\\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt Vamos a resolver la integral de forma indefinida. Podemos poner que: \\int \\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt=\\int \\pi \\cos \\left( nt\\right) dt-\\int t\\cos \\left( nt\\right) dt \\hspace{2cm} \\left[ 1\\right] \\int \\left( \\pi -t\\right) \\cdot \\cos \\left( nt\\right) dt=\\int \\pi \\cos \\left( nt\\right) dt-\\int t\\cos \\left( nt\\right) dt \\hspace{2cm} \\left[ 1\\right] La primera es una integral inmediata que toma como valor \\pi /{n} \\cdot sen\\left( nt\\right) \\pi /{n} \\cdot sen\\left( nt\\right) y la segunda es una integral que debemos resolver por partes, as\u00ed que escribimos: \\begin{aligned}\\int u\\cdot dv=u \\cdot v-\\int v\\cdot du \\hspace{2cm} \\left[ 2\\right] \\end{aligned} \\begin{aligned}\\int u\\cdot dv=u \\cdot v-\\int v\\cdot du \\hspace{2cm} \\left[ 2\\right] \\end{aligned} Hacemos: $u=t\\Rightarrow du=1\\cdot dt =dt\\ dv=\\cos \\left( nt\\right) dt\\Rightarrow \\int dv=\\int \\cos \\left( nt\\right) dt\\Rightarrow v=\\dfrac{1}{n}sen\\left( nt\\right) $ Si sustituimos en [2] los valores obtenidos de u y v tenemos: \\begin{aligned}\\int t\\cos \\left( nt\\right) dt=t\\cdot \\dfrac{1}{\\pi }sen\\left( nt\\right) -\\int \\dfrac{1}{n}sen\\left( nt\\right) dt=\\\\ \\dfrac{t}{\\pi }sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\left[ -\\cos \\left( nt\\right) \\right] =\\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\end{aligned} \\begin{aligned}\\int t\\cos \\left( nt\\right) dt=t\\cdot \\dfrac{1}{\\pi }sen\\left( nt\\right) -\\int \\dfrac{1}{n}sen\\left( nt\\right) dt=\\\\ \\dfrac{t}{\\pi }sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\left[ -\\cos \\left( nt\\right) \\right] =\\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\end{aligned} Si llevamos los resultados obtenidos a la integral indefinida que tenemos en [1] nos queda: \\int \\left( \\pi -t\\right) \\cos \\left( nt\\right) dt=\\dfrac{\\pi }{n}sen\\left( nt\\right) -\\left[ \\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\right] \\int \\left( \\pi -t\\right) \\cos \\left( nt\\right) dt=\\dfrac{\\pi }{n}sen\\left( nt\\right) -\\left[ \\dfrac{t}{\\pi }sen\\left( nt\\right) +\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) \\right] Llevamos este valor a la integral definida y podemos poner que: a_{n}=\\dfrac{1}{\\pi }\\left[ \\dfrac{\\pi }{n}sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) -\\dfrac{t}{n}sen\\left( nt\\right) \\right] _{0}^{\\pi }\\\\\\\\ a_{n}=\\dfrac{1}{\\pi }\\left\\{ \\left[ \\dfrac{\\pi }{n}scn\\left( n\\pi \\right) -\\dfrac{1}{n^{2}}\\cos \\left( n\\pi \\right) -\\dfrac{\\pi }{n}sen( n\\pi \\right] -\\left[ 0-\\dfrac{1}{n^{2}}\\cos 0-\\right] \\right\\} \\\\\\\\ a_{n}=\\dfrac{1-\\cos }{\\pi n}\\dfrac{\\left( n\\pi \\right) }{2}\\left[ como\\cos \\left( n\\pi \\right) =\\left( -1\\right) ^{n}\\right] \\Rightarrow an=\\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\hspace{1cm}\\forall n\\in N a_{n}=\\dfrac{1}{\\pi }\\left[ \\dfrac{\\pi }{n}sen\\left( nt\\right) -\\dfrac{1}{n^{2}}\\cos \\left( nt\\right) -\\dfrac{t}{n}sen\\left( nt\\right) \\right] _{0}^{\\pi }\\\\\\\\ a_{n}=\\dfrac{1}{\\pi }\\left\\{ \\left[ \\dfrac{\\pi }{n}scn\\left( n\\pi \\right) -\\dfrac{1}{n^{2}}\\cos \\left( n\\pi \\right) -\\dfrac{\\pi }{n}sen( n\\pi \\right] -\\left[ 0-\\dfrac{1}{n^{2}}\\cos 0-\\right] \\right\\} \\\\\\\\ a_{n}=\\dfrac{1-\\cos }{\\pi n}\\dfrac{\\left( n\\pi \\right) }{2}\\left[ como\\cos \\left( n\\pi \\right) =\\left( -1\\right) ^{n}\\right] \\Rightarrow an=\\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\hspace{1cm}\\forall n\\in N De forma similar podemos obtener b_{n} b_{n} que vendr\u00e1 dado por: b_{n}=\\dfrac{1}{\\pi }\\left\\{ -\\dfrac{\\pi }{n}\\cos \\left( nt\\right) -\\left[ \\dfrac{1}{n^{2}}sen\\left( nt\\right) -\\dfrac{t}{n}\\cos \\left( nt\\right) \\right] \\right\\} _{0}^{\\pi}\\\\ b_{n}=\\dfrac{\\pi }{n}\\cdot \\dfrac{1}{\\pi }=\\dfrac{1}{n} b_{n}=\\dfrac{1}{\\pi }\\left\\{ -\\dfrac{\\pi }{n}\\cos \\left( nt\\right) -\\left[ \\dfrac{1}{n^{2}}sen\\left( nt\\right) -\\dfrac{t}{n}\\cos \\left( nt\\right) \\right] \\right\\} _{0}^{\\pi}\\\\ b_{n}=\\dfrac{\\pi }{n}\\cdot \\dfrac{1}{\\pi }=\\dfrac{1}{n} Finalmente la funci\u00f3n expresada como serie de Fourier quedar\u00eda de la siguiente forma: f\\left( t\\right) =\\dfrac{\\pi }{4}+\\sum ^{\\infty }_{n=1}\\left[ \\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\cos \\left( nt\\right) +\\dfrac{1}{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{\\pi }{4}+\\sum ^{\\infty }_{n=1}\\left[ \\dfrac{1-\\left( -1\\right) ^{n}}{\\pi n^{2}}\\cos \\left( nt\\right) +\\dfrac{1}{n}sen\\left( nt\\right) \\right] Dando valores a n en esta ecuaci\u00f3n podemos obtener todos los arm\u00f3nicos necesarios para aproximarnos a la definici\u00f3n de la funci\u00f3n.","title":"Funci\u00f3n matem\u00e1tica a trozos"},{"location":"Instalaciones/LTSpice/Fourier/#rectificador-de-media-onda","text":"En la imagen 7 tenemos representada la se\u00f1al que entrega un rectificador de media onda y a la derecha tenemos la se\u00f1al escrita en t\u00e9rminos matem\u00e1ticos. Imagen 7 \\begin{aligned}\\\\\\\\0 < t < \\pi \\rightarrow f\\left( t\\right) =V_{p}sen\\omega t\\\\\\\\ \\pi\\leq t < {2\\pi} \\rightarrow f\\left( t\\right) =0 \\\\\\\\ T = {2\\pi} \\end{aligned} \\begin{aligned}\\\\\\\\0 < t < \\pi \\rightarrow f\\left( t\\right) =V_{p}sen\\omega t\\\\\\\\ \\pi\\leq t < {2\\pi} \\rightarrow f\\left( t\\right) =0 \\\\\\\\ T = {2\\pi} \\end{aligned} Se\u00f1al de salida de un rectificador de media onda Expresi\u00f3n matem\u00e1tica Observamos que se trata ade una funci\u00f3n a trozos que podemos escribir como: f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] f\\left( t\\right) =\\dfrac{a_{0}}{2} + \\sum ^{\\infty }_{n=1}\\left[ a_{n}\\cos \\left( nt\\right) +b_{n}sen\\left( nt\\right) \\right] Los coeficientes de Fourier vendr\u00e1n dados por: a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt\\hspace{3mm}=\\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) dt a_{0}=\\dfrac{1}{{\\pi }}\\int _{2\\pi}f\\left( t\\right) dt\\hspace{3mm}=\\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot\\cos \\left( nt\\right) dt \\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot\\cos\\left( nt\\right) dt a_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot\\cos \\left( nt\\right) dt \\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot\\cos\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot sen \\left( nt\\right) dt\\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot sen\\left( nt\\right) dt b_{n}=\\dfrac{1}{\\pi}\\int _{2\\pi}f\\left( t\\right)\\cdot sen \\left( nt\\right) dt\\hspace{3mm} = \\hspace{3mm}\\dfrac{1}{\\pi }\\int _{0}^{\\pi }f\\left( t\\right)\\cdot sen\\left( nt\\right) dt Sustituimos f(t) por su valor y podemos poner que: a_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) cos\\left( nt\\right)dt\\\\\\\\b_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) sen\\left( nt\\right)dt a_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) cos\\left( nt\\right)dt\\\\\\\\b_{n}=\\dfrac{1}{\\pi }\\int _{0}^{\\pi }V_{p}sen\\left( nt\\right) sen\\left( nt\\right)dt Se trata de integrales trigonom\u00e9trica que se resuelven transformando el producto en suma y recordando las identidades trigonom\u00e9tricas. Si realizamos un an\u00e1lisis en el tiempo (Transient) podemos obtener el espectro de una se\u00f1al utilizando la siguiente sentencia: .FOUR [Numero de arm\u00f3nicos] El n\u00famero de arm\u00f3nicos es opcional y si no se introduce se calculan 9 por defecto. En la imagen 8 tenemos el circuito del rectificador de media onda con el an\u00e1lisis temporal configurado y la ventana de Spice directive con la sentencia que vamos a introducir para su an\u00e1lisis. Imagen 8 Rectificador de media onda y an\u00e1lisis temporal configurado Ventana Spice directive El resultado de la simulaci\u00f3n est\u00e1 en un archivo de texto al que accedemos a trav\u00e9s del men\u00fa View \u2192 SPICE Error Log , y para el caso que nos ocupa es el de la imagen 9. Imagen 9 Descomposici\u00f3n en la componente continua y sus arm\u00f3nicos La primera columna de la tabla indica el n\u00famero de arm\u00f3nico. La segunda columna indica la frecuencia del arm\u00f3nico de esa fila. La tercera indica la amplitud de cada arm\u00f3nico y la cuarta el valor normalizado, respecto del primer arm\u00f3nico. La quinta columna indica la fase de cada arm\u00f3nico y la sexta columna la fase normalizada. El valor de la componente cont\u00ednua es DC component .","title":"Rectificador de media onda"},{"location":"Instalaciones/LTSpice/Fourier/#la-transformada-rapida-de-fourier","text":"Normalmente conocida por la abreviatura FFT (del ingl\u00e9s Fast Fourier Transform). Aunque vamos a dar las ecuaciones base no vamos a entrar en profundidades de matem\u00e1ticas, bastante complejas por otro lado, porque lo que tratamos es de que se entienda el concepto para poder analizar los resultados que nos devuelva LTSpice XVII. La tranformada de Fourier convierte una se\u00f1al expresada en el dominio del tiempo al dominio de la frecuencia. Ya vimos el concepto anteriormente y la ecuaci\u00f3n que convierte la trayectoria en vectores es: \\begin{aligned}X_{k}=\\sum ^{N-1}_{n=0}x_{n}\\cdot e^{-j2\\pi k n/N}\\end{aligned} \\begin{aligned}X_{k}=\\sum ^{N-1}_{n=0}x_{n}\\cdot e^{-j2\\pi k n/N}\\end{aligned} Donde: X_{k} X_{k} es el valor de la frecuencia k de la se\u00f1al. Cada k-\u00e9simo valor es un complejo que incluye la amplitud y la fase. N es el n\u00famero de muestras. n es la muestra actual, con n\\in \\left\\{ 0\\ldots N-1\\right\\} n\\in \\left\\{ 0\\ldots N-1\\right\\} k es la frecuencia actual, entre 0 y N-1 Hz n/N es el porcentaje de tiempo que ha pasado. 2\\pi k 2\\pi k es la velocidad en radianes por segundo. e^{-jx} e^{-jx} es el desarrollo de una trayectoria circular en sentido antihorario. La funci\u00f3n FFT() devuelve esos X_{k} X_{k} Una transformada inversa de Fourier convierte el dominio de la frecuencia en el originario dominio temporal. La ecuaci\u00f3n matem\u00e1tica que realiza esta operaci\u00f3n es: \\begin{aligned}x_{n}=\\dfrac{1}{N}\\sum ^{N-1}_{k=0}X_{k}\\cdot e^{j2\\pi k n/N}\\end{aligned} \\begin{aligned}x_{n}=\\dfrac{1}{N}\\sum ^{N-1}_{k=0}X_{k}\\cdot e^{j2\\pi k n/N}\\end{aligned} Vamos a hacernos una serie de preguntas dando sus respuestas en torno a algo que conocemos mucho mejor que estas ecuaciones. Vamos a usar una receta de arroz con leche como simil. Pregunta real Respuesta utilizando la receta \u00bfQu\u00e9 hace la transformada de Fourier? A partir del arroz con leche encuentra su receta \u00bfC\u00f3mo encuentra la receta? Utiliza filtros para separar los ingredientes: arroz, leche, canela y az\u00facar \u00bfPor que es \u00fatil tener la receta? Es mas f\u00e1cil de analizar, comparar y modificar que el postre en si \u00bfC\u00f3mo recuperamos el arroz con leche? Mezclando los ingredientes Podemos imaginar los ingredientes como se\u00f1ales con la forma de onda b\u00e1sica y el arroz con leche como una serie temporal compleja. T\u00e9cnicamente podemos decir que la transformada de Fourier toma un patr\u00f3n basado en el tiempo, mide cada ciclo posible y devuelve la \"receta de ciclo\" general, o sea la amplitud, el desfase y la frecuencia para cada ciclo que encontr\u00f3. Una serie temporal es, en el fondo, la suma de muchas ondas como las que ya hemos visto y que tienen la forma t\u00edpica de un sin(x) o cos(x) . Pues bien, la m\u00e1quina capaz de obtener los ingredientes la podemos asemejar a la transformada de Fourier que nos permite: Pasar de una serie temporal complicada a una suma de ondas simples. Dibujar esto en un diagrama de frecuencias. Utilizando la frecuencia como medida para diferenciar las diferentes ondas. Este diagrama se conoce como espectro de frecuencias o mapa de frecuencias y permite ver a simple vista el contenido de las ondas resultado de utilizar la transformada de Fourier. Ya vimos que una serie temporal la puedes pasar a una gr\u00e1fico en frecuencia.","title":"La transformada r\u00e1pida de Fourier"},{"location":"Instalaciones/LTSpice/Fourier/#ejemplos","text":"","title":"Ejemplos"},{"location":"Instalaciones/LTSpice/Fourier/#circuito-rlc-para-mostrar-fft","text":"Vamos a analizar el circuito de la imagen 10 dando los valores adecuados a los componentes, configurando la fuente V1 con los par\u00e1metros que se indican y el an\u00e1lisis transitorio que se muestra. Imagen 10 Circuito y configuraciones de V1 y an\u00e1lisis Una vez completado el trabajo de la imagen 10 procedemos con la ejecuci\u00f3n del an\u00e1lisis y tras unos instantes estar\u00e1n realizados los c\u00e1lculos y podemos a\u00f1adir una sonda de tensi\u00f3n para mostrar la se\u00f1al de salida. En la animaci\u00f3n siguiente observamos este proceso. Teniendo seleccionada la traza podemos acceder a FFT de cualquiera de la formas que vemos en la imagen 11. Imagen 11 Formas de acceso a FFT Si accedemos a FFT y escogemos la se\u00f1al indicada en la imagen 12 generamos la FFT inicial que vemos en la imagen 13. Imagen 12 Selecci\u00f3n de se\u00f1al para a\u00f1adir a FFT Vemos que la transformada que se genera es poco legible debido a la configuraci\u00f3n de los ejes de coordenadas por defecto. Imagen 13 FFT inicial En la siguiente animaci\u00f3n vemos como reconfigurar los ejes para tener un espectro mas legible. El eje de ordenadas lo transformamos en lineal y cambiamos el rango del eje de abcisas para destacar los valores mas importantes.","title":"Circuito RLC para mostrar FFT"},{"location":"Instalaciones/LTSpice/Fourier/#directiva-options","text":"Permite cambiar determinadas opciones para ajustar el control del programa, como controlar la salida, el tipo de an\u00e1lisis, etc. La sintaxis es .OPTIONS opc1 opc2 ... . En la tabla siguiente las tenemos especificadas. Opci\u00f3n Tipo de dato Valor por defecto Descripci\u00f3n abstol N\u00famero 1 pA Tolerancia absoluta de corriente baudrate N\u00famero Ninguno Se usa para diagramas de ojo en cronogramas. Indica como ajustar el tiempo de abcisas para superponer los bits de transici\u00f3n chgtol N\u00famero 10fC Tolerancia absoluta de carga cshunt N\u00famero 0 Capacidad opcional a\u00f1adida desde cada nodo a masa cshuntintern N\u00famero cshunt Capacidad opcional a\u00f1adida desde cada nodo interno de dispositivo a masa defad N\u00famero 0 \u00c1rea de difusi\u00f3n de drenaje MOS predeterminada defas N\u00famero 0 \u00c1rea de difusi\u00f3n de fuente MOS predeterminada defl N\u00famero 100\u00b5m Longitud predeterminada del canal fuente MOS defw N\u00famero 100\u00b5m Anchura predeterminada del canal MOS delay N\u00famero 0 Cambia las transiciones de bits en el diagrama de ojo fastaccess flag false Convierte a formato de archivo de acceso r\u00e1pido al final de la simulaci\u00f3n flagloads flag false Marca las fuentes de corriente externas como cargas Gmin N\u00famero 1e-12 Conductancia agregada a cada uni\u00f3n PN para ayudar a la convergencia gminsteps N\u00famero 25 Poner a cero para prevenir gminstepping en la soluci\u00f3n inicial en continua gshunt N\u00famero 0 Conductancia opcional a\u00f1adida entre cada nodo y masa itl1 N\u00famero 100 L\u00edmite de iteraciones DC itl2 N\u00famero 50 L\u00edmite de iteraciones de la curva de transferencia en continua itl4 N\u00famero 10 L\u00edmite de iteraciones en an\u00e1lisis transitorio itl6 N\u00famero 25 Poner a cero para prevenir source stepping en el an\u00e1lisis incial DC srcsteps N\u00famero 25 Nombre alternativo de itl6 maxclocks N\u00famero Infinito M\u00e1ximo n\u00famero de ciclos de reloj a salvar maxstep N\u00famero Infinito M\u00e1ximo tama\u00f1o de pasos para an\u00e1lisis transitorio meascplxfmt string bode Formato de n\u00famero complejo de los resultados de la instrucci\u00f3n .meas. Uno entre \"polar\", \"cartesiano\" o \"bode\" measdgt N\u00famero 6 N\u00famero de figuras significativas usadas para .measure method string trap M\u00e9todo de integraci\u00f3n num\u00e9rica. Puede ser trapezoidal o Gear minclocks N\u00famero 10 N\u00famero m\u00ednimo de ciclos de reloj hasta salvar MinDeltaGmin N\u00famero 1e-4 Establece un limite para finalizar gmin nomarch flag false No dibujar formas de onda noopiter flag false Ir a la directiva gmin directamente numdgt N\u00famero 6 Hist\u00f3ricamente, \"numdgt\" se usa para establecer el n\u00famero de cifras significativas utilizadas para los datos de salida. En LTspice, si \"numdgt\" se establece mayor que 6, se usa doble precisi\u00f3n para datos de variables dependientes pivrel N\u00famero 1e-3 Relaci\u00f3n relativa entre la entrada m\u00e1s alta de columna y un valor de cambio aceptable pivtol N\u00famero 1e-13 Valor m\u00ednimo absoluto para que una entrada de matriz se acepte reltol N\u00famero .001 Tolerancia de error relativa srcstepmethod N\u00famero 0 Con qu\u00e9 algoritmo de pasos fuente empezar sstol N\u00famero .001 Error relativo para detecci\u00f3n de estado estable startclocks N\u00famero 5 N\u00famero de ciclos de reloj a esperar para considerar estado estable temp N\u00famero 27\u00b0C Temperatura por defecto para los elementos del circuito que no especifican temperatura en sus par\u00e1metros tnom N\u00famero 27\u00b0C Temperatura predeterminada a la que se midieron los par\u00e1metros del dispositivo para los modelos que no especifican esta temperatura topologycheck N\u00famero 1 Establecer en cero para omitir la verificaci\u00f3n de nodos flotantes, bucles de fuentes de tensi\u00f3n y topolog\u00eda de devanado de transformador no f\u00edsico trtol N\u00famero 1.0 Tolerancia a errores transitorios trytocompact N\u00famero 1 Cuando es distinto de cero, el simulador intenta condensar el historial de tensiones y corrientes de entrada de las l\u00edneas de transmisi\u00f3n vntol N\u00famero 1\u00b5V Valor absoluto de la tolerancia de error de tensi\u00f3n plotreltol N\u00famero .0025 Establece el error de tolerancia relativa para la compresi\u00f3n de formas de onda plotvntol N\u00famero 10\u00b5V Establece el error absoluto de tensi\u00f3n para compresi\u00f3n de formas de onda plotabstol N\u00famero 1nA Establece el error absoluto de corriente para compresi\u00f3n de formas de onda plotwinsize N\u00famero 300 N\u00famero de puntos de datos para comprimir en una ventana. Cero para deshabilitar la compresi\u00f3n ptrantau N\u00famero .1 Tiempo de inicio caracter\u00edstico para un an\u00e1lisis pseudo transitorio para encontrar el punto de trabajo. Cero para deshabilitar ptranmax N\u00famero 0 Si se establece en un valor distinto de cero, el tiempo del an\u00e1lisis pseudo transitorio se utiliza como punto de trabajo se haya estabilizado el circuito o no En la imagen 14 tenemos un circuito con directivas options y su se\u00f1al de salida representada en el dominio del tiempo. Imagen 14 Directivas .options y an\u00e1lisis de Fourier En la imagen 15 tenemos la FFT. Imagen 15 Transformada de Fouerier En la imagen 16 vemos los resultados de la simulaci\u00f3n con los datos de las componentes de Fourier mas destacados. Imagen 16 View \u2192 Spice Error Log","title":"Directiva .options"},{"location":"Instalaciones/LTSpice/Fourier/#reconstruccion-de-senales-a-partir-de-la-fft","text":"A partir de datos como los de la imagen 16 es posible reconstruir la se\u00f1al con el desarrollo inverso de la FFT. Para ver como hacerlo vamos a partir de un circuito tan simple como un generador de se\u00f1al cuadrada o tren de pulsos del que vamos a obtener su FFT y despu\u00e9s vamos a ir reconstruyendo la se\u00f1al a partir de los t\u00e9rminos de Fourier. Montamos el circuito de la imagen 17 y realizamos el an\u00e1lisis para obtener la se\u00f1al de salida. Imagen 17 Generador de tren de pulsos En la imagen 18 tenemos las componentes de Fourier que se han calculado. Hemos destacado los datos que vamos a usar para reconstruir la se\u00f1al. Imagen 18 Componentes de Fourier del generador de tren de pulsos A continuaci\u00f3n expresamos los datos anteriores que nos interesan. Componente de corriente continua: 2.505 V Arm\u00f3nico Frecuencia (kHz) Componente de Fourier Fase (\u00b0) A1 1 3.183 V -0.36 A2 2 0.01 V 89.64 A3 3 1.061 V -1.08 A4 4 0.01 V 88.56 A5 5 0.6365 V -1.44 A6 6 9.999 mV 88.20 A7 7 0.4546 V -2.16 A8 8 9.999 mV 87.12 A9 9 0.3535 V -3.24 A10 10 9.997 mV 86.4 El sistema genera una distorsi\u00f3n arm\u00f3nica total del 42.879828% (48.172792%) Podemos descargar este ejemplo para su estudio Tomando los valores de la tensi\u00f3n continua y los de los arm\u00f3nicos vamos a reconstruir la se\u00f1al original. Para ello vamos a utilizar las fuentes de tensi\u00f3n necesarias y sumadores anal\u00f3gicos que permitan ir sumando las mismas y obtener la se\u00f1al correspondiente al arm\u00f3nico. Vamos a comenzar por reconstruir la componente continua y los dos primeros arm\u00f3nicos para lo que construimos el circuito que vemos en la imagen 19. Imagen 19 Reconstrucci\u00f3n de la componente continua y los arm\u00f3nicos 1 y 2 Observese como se han compuesto las se\u00f1ales con los valores de la tabla anterior. Las se\u00f1ales medidas en los puntos A1, A2 y A3, que corresponden a los tres primeros arm\u00f3nicos las vemos en la imagen 20. Observamos como a partir del segundo arm\u00f3nico la se\u00f1al comienza a parecerse a una cuadrada. Imagen 20 Se\u00f1ales en A1, A2 y A3 Esta parte la podemos descargar este ejemplo para su estudio De forma similar a la anterior reconstruimos los arm\u00f3nicos 4, 5 y 6 obteniendo las gr\u00e1ficas y el circuito que vemos en la imagen 21. Imagen 21 Reconstrucci\u00f3n arm\u00f3nicos 1 al 6 Esta parte la podemos descargar este ejemplo para su estudio De forma similar a la anterior reconstruimos los arm\u00f3nicos 7 al 10 obteniendo las gr\u00e1ficas y el circuito que vemos en la imagen 22. Imagen 22 Reconstrucci\u00f3n arm\u00f3nicos 7 al 10 Podemos descargar este ejemplo para su estudio Finalmente a\u00f1adimos un puerto Salida al circuito y el mismo an\u00e1lisis de Fourier que al circuito original y obtenemos los resultados que vemos en la imagen 23. Imagen 23 Reconstrucci\u00f3n de 10 arm\u00f3nicos En la tabla siguiente repetimos los datos anteriores e incluimos los correspondientes a la reconstrucci\u00f3n para su comparaci\u00f3n. Componente de corriente continua: 2.505 V Componente de corriente continua: 2.50477 V Arm\u00f3nico Frecuencia (kHz) Componente de Fourier Fase (\u00b0) Componente de Fourier Fase (\u00b0) A1 1 3.183 V -0.36 3.182 V -0.96 A2 2 0.01 V 89.64 9.991 mV 88.07 A3 3 1.061 V -1.08 1.060 V -2.51 A4 4 0.01 V 88.56 9.980 mV 86.19 A5 5 0.6365 V -1.44 0.6349 V -3.22 A6 6 9.999 mV 88.20 9.960 mV 85.60 A7 7 0.4546 V -2.16 0.4525 V -3.83 A8 8 9.999 mV 87.12 9.932 mV 84.87 A9 9 0.3535 V -3.24 0.3509 V -4.31 A10 10 9.997 mV 86.4 9.902 mV 85.12 Observamos como las diferencias son lo suficientemente peque\u00f1as como para poder decir que la se\u00f1al ha quedado reconstruida de forma fiable.","title":"Reconstrucci\u00f3n de se\u00f1ales a partir de la FFT"},{"location":"Instalaciones/LTSpice/Ins-LTSpice/","text":"LTSpice en Linux \u00b6 Instalaci\u00f3n y ejecuci\u00f3n \u00b6 Ahora podemos descargar LTSpice para Windows. Situamos el archivo .exe en el directorio deseado y procedemos a ejecutarlo a trav\u00e9s de Wine, bien como observamos en la imagen 1a. Imagen 1a Localizaci\u00f3n y ejecuci\u00f3n de LTSpice en Wine o bien como se observa en la imagen 1b. Imagen 1b Ejecuci\u00f3n de LTSpice en Wine de forma gr\u00e1fica Se nos abrir\u00e1 la ventana que vemos en la imagen 2, donde debemos hacer clic en aceptar la licencia. Imagen 2 Una vez aceptada la licencia se nos muestra la ventana de la imagen 3. Imagen 3 Ventana de instalaci\u00f3n Cuando finalicen las tareas de instalaci\u00f3n se muestra el mensaje que vemos en la imagen 4. Imagen 4 Instalaci\u00f3n satisfactoria Cuando pulsamos en aceptar de la imagen 4 se nos abre la ventana de LTSpice tal y como la vemos en la imagen 5. Imagen 5 Ventana principal de LTSpice XVII Ya estamos preparados para comenzar con la simulaci\u00f3n de circuitos con esta aplicaci\u00f3n. A partir de este momento tendremos disponibles las versiones de Wine instaladas a trav\u00e9s de nuetro icono de acceso a aplicaciones, tal y como vemos en la imagen 6. Imagen 6 Acceso a LTSpice XVII desde aplicaciones","title":"Instalaci\u00f3n y ejecuci\u00f3n"},{"location":"Instalaciones/LTSpice/Ins-LTSpice/#ltspice-en-linux","text":"","title":"LTSpice en Linux"},{"location":"Instalaciones/LTSpice/Ins-LTSpice/#instalacion-y-ejecucion","text":"Ahora podemos descargar LTSpice para Windows. Situamos el archivo .exe en el directorio deseado y procedemos a ejecutarlo a trav\u00e9s de Wine, bien como observamos en la imagen 1a. Imagen 1a Localizaci\u00f3n y ejecuci\u00f3n de LTSpice en Wine o bien como se observa en la imagen 1b. Imagen 1b Ejecuci\u00f3n de LTSpice en Wine de forma gr\u00e1fica Se nos abrir\u00e1 la ventana que vemos en la imagen 2, donde debemos hacer clic en aceptar la licencia. Imagen 2 Una vez aceptada la licencia se nos muestra la ventana de la imagen 3. Imagen 3 Ventana de instalaci\u00f3n Cuando finalicen las tareas de instalaci\u00f3n se muestra el mensaje que vemos en la imagen 4. Imagen 4 Instalaci\u00f3n satisfactoria Cuando pulsamos en aceptar de la imagen 4 se nos abre la ventana de LTSpice tal y como la vemos en la imagen 5. Imagen 5 Ventana principal de LTSpice XVII Ya estamos preparados para comenzar con la simulaci\u00f3n de circuitos con esta aplicaci\u00f3n. A partir de este momento tendremos disponibles las versiones de Wine instaladas a trav\u00e9s de nuetro icono de acceso a aplicaciones, tal y como vemos en la imagen 6. Imagen 6 Acceso a LTSpice XVII desde aplicaciones","title":"Instalaci\u00f3n y ejecuci\u00f3n"},{"location":"Instalaciones/LTSpice/Mas-conceptos/","text":"Mas conceptos de simulaci\u00f3n con LTSpice \u00b6 En este apartado fundamentalmente veremos ejemplos diversos de simulaci\u00f3n con breve explicaci\u00f3n de alg\u00fan concepto si creo que resulta necesario. Diagrama de Bode \u00b6 Un diagrama de Bode es una representaci\u00f3n gr\u00e1fica de la respuesta en frecuencia de un circuito. Debe su nombre a su desarrollador Hendrik Wade Bode . Lo mas habitual es que tenga dos gr\u00e1ficas, una correspondiente al m\u00f3dulo de la funci\u00f3n de transferencia (ganancia) expresada en decibelios en funci\u00f3n de la frecuencia (o la frecuencia angular) expresada en una escala logar\u00edtmica. El diagrama de fase de Bode representa la fase de la funci\u00f3n de transferencia en funci\u00f3n de la frecuencia (o frecuencia angular) en escala logar\u00edtmica. Se puede dar en grados o en radianes. Permite evaluar el desplazamiento en fase de una se\u00f1al a la salida del sistema respecto a la entrada para una frecuencia determinada. Es una herramienta muy utilizada en el an\u00e1lisis de circuitos electr\u00f3nicos, especialmente importante en el dise\u00f1o y an\u00e1lisis de filtros y amplificadores. Vamos a recuperar el filtro pasa bajo para ejemplificar el diagrama de Bode en LTSpice XVII. El circuito que vamos a utilizar es el de la imagen 1. Imagen 1 Filtro pasa bajos Antes de proceder con el an\u00e1lisis vamos a realizar unos sencillos c\u00e1lculos. Sabemos que \\begin{aligned}X_{c}=1/2\\pi fC\\end{aligned} \\begin{aligned}X_{c}=1/2\\pi fC\\end{aligned} y que cuando el circuito entra en resonancia se cumple que X_{C} = R X_{C} = R , por lo que podemos escribir que \\begin{aligned}R=1/2\\pi fC\\end{aligned} \\begin{aligned}R=1/2\\pi fC\\end{aligned} de donde obtenemos que la frecuencia de corte que calculamos para el circuito en cuesti\u00f3n, as\u00ed: f_{c}=\\dfrac{1}{2\\pi RC}=\\dfrac{1}{2\\pi \\cdot 150\\cdot 100\\cdot 10^{-9}}=10,610Hz\\hspace{0.5cm} \\simeq \\hspace{0.5cm}10\\hspace{0.1cm}kHz f_{c}=\\dfrac{1}{2\\pi RC}=\\dfrac{1}{2\\pi \\cdot 150\\cdot 100\\cdot 10^{-9}}=10,610Hz\\hspace{0.5cm} \\simeq \\hspace{0.5cm}10\\hspace{0.1cm}kHz Procedemos a realizar el an\u00e1lisis que se especifica en la imagen 2. Imagen 2 Configuraci\u00f3n an\u00e1lisis AC Situando una sonda de tensi\u00f3n en la salida del circuito obtenemos la respuesta que vemos en la imagen 3. Se observan tanto la curva de trazo continuo para la ganancia como la de trazo discontinuo para la de fase. Imagen 3 Respuesta en frecuencia del filtro RC Para hacer an\u00e1lisis sobre esta curva necesitamos de los denominados cursores que est\u00e1n disponibles en LTSpice y que vamos a ver como usar seguidamente. Tenemos disponibilidad de dos cursores en LTSpice XVII. Si hacemos clic con el bot\u00f3n izquierdo en la etiqueta del t\u00edtulo de la forma de onda (situado en la parte superior de la ventana del gr\u00e1fico) se establecer\u00e1 un cursor en forma de barra cruzada y una ventana emergente con la informaci\u00f3n de la posici\u00f3n del cursor. Si movemos el puntero del rat\u00f3n por el cursor aparecer\u00e1 un n\u00famero \"1\". Si hacemos clic con bot\u00f3n izquierdo en el n\u00famero que se muestra, podremos mover el cursor por el gr\u00e1fico. En la siguiente animaci\u00f3n vemos como se hace lo descrito. En la imagen 4 observamos como al llevar el cursor aproximadamente a los -3 dB tenemos la frecuencia de corte que coincide con la calculada. Imagen 4 Frecuencia de corte con cursor 1 Si con el cursor 1 activo hacemos de nuevo clic sobre la etiqueta del t\u00edtulo del nodo, obtendremos el cursor n\u00famero 2 y en la ventana emergente la tendremos la informaci\u00f3n de ambos cursores as\u00ed como la relaci\u00f3n entre Cursor2 y Cursor1. En la siguiente animaci\u00f3n vemos esta forma de activaci\u00f3n de ambos cursores y tambi\u00e9n c\u00f3mo cambiar la curva de trabajo de estos. Podemos adjuntar el primero, el segundo o ambos cursores a cualquier traza haciendo clic con el bot\u00f3n derecho en la etiqueta de esa traza y usando el cuadro desplegable que vemos en la imagen 5. Cursor adjunto. Los cursores adjuntos se pueden arrastrar con el mouse o mover con las teclas del cursor. Imagen 5 Otra forma de adjuntar cursores Podemos descargar este ejemplo para su estudio Curva caracter\u00edstica de un diodo zener \u00b6 El diodo Zener (que debe su nombre a su inventor Clarence Melvin Zener ) es un tipo especial de diodo, que siempre se utiliza polarizado inversamente. Es decir: Si el diodo zener se polariza directamente se comporta como un diodo normal. Si el diodo zener se polarizada inversamente, este no conduce hasta que la tensi\u00f3n inversa aplicada alcance la denominada tensi\u00f3n zener o de ruptura, momento en el que se produce la avalancha zener. Cuando el diodo zener se encuentra en zona de avalancha circula corriente de c\u00e1todo a \u00e1nodo y se mantiene entre sus terminales una tensi\u00f3n pr\u00e1cticamente constante denominada tensi\u00f3n zener. Dado su funcionamiento es evidente que su principal aplicaci\u00f3n va a ser como estabilizador de tensi\u00f3n. En la curva caracter\u00edstica tensi\u00f3n/corriente se refleja perfectamente el comportamiento descrito y es por ello que vamos a desarrollar un ejemplo para obtener la de un diodo zener, en concreto la del EDZV10B que es un zener de 10V y 150 mW. El diodo puede soportar una corriente m\u00e1xima de 15 mA. Montamos el circuito de la imagen 6 sobre el que planteamos un barrido DC que ir\u00e1 desde los -12V hasta 0V. La fuente la definimos de 0V porque no nos interesa la caracter\u00edstica de polarizaci\u00f3n directa. Imagen 6 Circuito para obtener caracter\u00edstica del zener EDZV10B Una primera simulaci\u00f3n con medida de la corriente por el diodo zener nos arroja la curva de la imagen 7 que resulta poco interesante de cara a leer valores, aunque ya se observa que en torno a los 10V comienza la estabilizaci\u00f3n. Imagen 7 Caracter\u00edstica inicial del zener EDZV10B Considerando que el diodo zener no comenzar\u00e1 a provocar la avalancha zener hasta que no se alcance una corriente m\u00ednima y ajustando la escala del eje de corrientes a un valor m\u00e1s l\u00f3gico a nuestros prop\u00f3sitos obtenemos la imagen 8, que es una curva mas descriptiva del diodo y sobre la que hemos situado un cursor para tener los datos. Imagen 8 Caracter\u00edstica del zener EDZV10B Podemos descargar este ejemplo para su estudio Rectificador de doble onda con filtro por condensador \u00b6 El filtrado es uno de los puntos m\u00e1s importantes cuando hablamos de fuentes de alimentaci\u00f3n de tensi\u00f3n continua construidas a partir de la tensi\u00f3n de red pues del mismo va a depender el rizado de la fuente. El filtro por condensador est\u00e1 basado en colocar un condensador en paralelo con la carga, aprovechando el comportamiento del condensador que trata de oponerse a las variaciones de la tensi\u00f3n entre sus extremos. Veamos este funcionamiento en simulaci\u00f3n. Partiremos de una se\u00f1al sinusoidal que convertiremos en corriente continua pulsatoria con un rectificador en puente y despu\u00e9s analizaremos el efecto del filtrado con distintos valores de capacidad. En la imagen 9 tenemos el circuito que vamos a analizar. Imagen 9 Rectificador en puente con filtro por condensador La se\u00f1al sinusoidal la obtenemos de dos fuentes para que la entrada al puente de diodos sea como la procedente del secundario de un transformador con toma intermedia, aspecto este imprescindible para que la referencia sea com\u00fan a la tensi\u00f3n de entrada y a la de salida. El lector puede analizar este aspecto situando una sola fuente y haciendo el recorrido de la corriente por los diodos y encontrar\u00e1 que no hay un camino cerrado si no se coloca esa toma intermedia. En la imagen 10 tenemos la representaci\u00f3n de las tensiones de entrada y salida con los datos de un marcador que analizamos a continuaci\u00f3n. Imagen 10 Tensiones de entrada y salida del rectificador en puente con filtro por condensador La posici\u00f3n del cursor indica el punto donde se cortan ambas curvas que viene a indicar en que valor la tensi\u00f3n en la salida (4.2905735V) es menor que la de entrada debido a la ca\u00edda de tensi\u00f3n que se produce en los diodos. Podemos observar que cuando el valor instant\u00e1neo de la tensi\u00f3n de entrada es mayor que el valor instant\u00e1neo en el condensador conducen por pares los diodos D1 y D2 para el semiciclo positivo y D3 y D4 para el negativo y el condensador se carga. Cuando la tensi\u00f3n de entrada en menor que la del condensador esos pares de diodos se polarizan inversamente y el condensador se descarga a trav\u00e9s de RL. En la imagen 11 podemos observar el efecto que tiene aumentar o disminuir el consumo en la carga cambiando su valor y se ve c\u00f3mo para cargas peque\u00f1as el rizado es excesivamente grande. Imagen 11 Efecto del valor de RL en el rizado En la imagen 12 hacemos un an\u00e1lisis del rizado ahora en funci\u00f3n del valor de la capacidad. Observese que Rl es de 100 ohmios. Imagen 12 Efecto del valor de C en el rizado Es posible calcular los valores medio y eficaz de la tensi\u00f3n de salida, para ello debemos mantener pulsada la tecla CTRL mientras hacemos clic sobre la etiqueta del gr\u00e1fico que la representa. LTSpice procede a integrar el valor V(sal) en nuestro caso y nos muestra una ventana con los resultados de la integraci\u00f3n donde aparecen el intervalo de integraci\u00f3n y los valores medio y eficaz de la tensi\u00f3n seleccionada. No es posible hacer esto con an\u00e1lisis param\u00e9trico. En la animaci\u00f3n siguiente vemos el proceso. Podemos descargar este ejemplo para su estudio Regulaci\u00f3n con diodo zener \u00b6 Para mantener constante la tensi\u00f3n de salida y minimizar el rizado en la carga la forma m\u00e1s simple de fuente de alimentaci\u00f3n es colocar a un filtrado por condensador un zener en paralelo junto con su correspondiente resistencia limitadora. Para ver esto en funcionamiento construimos el circuito de la imagen 13, formado por un rectificador puente con filtro por condensador y un regulador de tensi\u00f3n con diodo Zener BZX84C12VL para una tensi\u00f3n de salida de 12 V. Imagen 13 Regulaci\u00f3n con diodo zener Es evidente que el circuito es capaz de entregar muy poca corriente pues el diodo zener puede disipar un m\u00e1ximo de 250 mW ( I_{zmax}=21 mA I_{zmax}=21 mA ) lo que se pone de manifiesto disminuyendo la RL, tal y como vemos en la imagen 14, donde claramente el diodo no est\u00e1 estabilizando porque se supera la corriente m\u00e1xima. Imagen 14 Vz no es estable porque se supera la I_{zmax}=21 mA I_{zmax}=21 mA Esto se soluciona de forma sencilla introduciendo un transistor como elemento regulador que sea el encargado de entregar la corriente a la carga y que la corriente de control de zener quede dividida por la ganancia en corriente de dicho transistor, y si resulta necesaario se puede usar un par en montaje D'Arlington. En la imagen 15 tenemos un r\u00e1pido ejemplo de lo dicho con un aumento considerable en la corriente por la carga. La tensi\u00f3n de salida ha ca\u00eddo por debajo de los 12V debido a la caida de tensi\u00f3n base-emisor del transistor. Imagen 15 Regulaci\u00f3n con transistor Podemos descargar este ejemplo para su estudio Transistor autopolarizado \u00b6 En la imagen 16 vemos el circuito t\u00edpico de una autopolarizaci\u00f3n de un transistor bipolar que mantiene el punto de trabajo est\u00e1tico muy estable respecto a las variaciones de temperatura. Imagen 16 Circuito t\u00edpico de autopolarizaci\u00f3n Pues bien, en este apartado vamos a utilizar LTspice XVII para realizar el an\u00e1lisis en corriente continua del punto de trabajo (.OP). Para ello vamos a tomar el circuito de la imagen 16, le vamos a poner componentes con valores y vamos a etiquetar los diferentes nodos de importancia a fin de que la lectura de resultados sea mas sencilla. En la imagen 17 vemos el circuito, la configuraci\u00f3n de simulaci\u00f3n y los resultados obtenidos. Imagen 17 An\u00e1lisis .op de un transistor con autopolarizaci\u00f3n Si queremos ver los datos en el propio circuito podemos hacer clic con bot\u00f3n izquierdo sobre el nodo deseado o bien situando el cursor sobre el nodo hacer clic derecho y escoger Place .op Data Label y obtendremos algo similar a lo que vemos en la imagen 18. Imagen 18 Datos an\u00e1lisis .op en el esquema Si realizamos un an\u00e1lisis para una temperatura de por ejemplo 90\u00b0 (.TEMP 90) obtenemos los resultados que vemos en la imagen 19. Si comparamos estos con los obtenidos en la imagen 17 vemos que cambian muy poco a pesar del gran aumento de temperatura. Imagen 19 An\u00e1lisis .op a una temperatura especificada Podemos descargar este ejemplo para su estudio Amplificador b\u00e1sico en emisor com\u00fan \u00b6 Un circuito autopolarizado es la base principal de un amplificador clase A con solo dotarlo de los correspondientes condensadores de acople en la entrada y la salida y el de desacople en el emisor del transistor. Los condensadores de acople tienen la misi\u00f3n de aislar la corriente continua de polarizaci\u00f3n con las se\u00f1ales de entrada/salida y el condensador de desacople evita perdidas de ganancia del amplificador. En la imagen 20 tenemos el esquema caracter\u00edstico con una fuente de excitaci\u00f3n colocada en la entrada. Imagen 20 Amplificador en emisor com\u00fan En la siguiente animaci\u00f3n podemos ver como a\u00f1adir trazar para una visualizaci\u00f3n mejor de las se\u00f1ales de entrada y salida y se observa como las se\u00f1ales de entrada y salida est\u00e1n desfasadas unos 180\u00b0. Podemos calcular la ganancia en tensi\u00f3n aproximada utilizando los cursores en cada gr\u00e1fica para obtener el valor de la tensi\u00f3n pico a pico de las se\u00f1ales de entrada y de salida. En la imagen 21 vemos los resultados obtenidos. Imagen 21a Imagen 21b Se\u00f1al de entrada Se\u00f1al de salida Con estos valores podemos hacer el c\u00e1lculo de ganancia en tensi\u00f3n siguiente: \\begin{aligned}A_{v}=\\dfrac{Vsal}{Vent}=\\dfrac{2.74\\times 10^{3}mV}{9.99mV}=274\\end{aligned} \\begin{aligned}A_{v}=\\dfrac{Vsal}{Vent}=\\dfrac{2.74\\times 10^{3}mV}{9.99mV}=274\\end{aligned} De forma similar podemos obtener las corrientes de entrada y salida del amplificador para calcular la ganancia en corriente. En la imagen 22 tenemos las gr\u00e1ficas y los resultados de los cursores. Imagen 22 Medida de las corrientes de entrada y salida Con los valores obtenidos podemos hacer el c\u00e1lculo de ganancia en corriente siguiente: \\begin{aligned}A_{I}=\\dfrac{I_{C}}{I_{B}}=\\dfrac{1.13\\times 10^{-3}}{6.82\\times 10^{-6}}=166\\end{aligned} \\begin{aligned}A_{I}=\\dfrac{I_{C}}{I_{B}}=\\dfrac{1.13\\times 10^{-3}}{6.82\\times 10^{-6}}=166\\end{aligned} Podemos descargar este ejemplo para su estudio Algo sobre amplificadores operacionales \u00b6 No pod\u00eda ser de otra forma que antes de dar por concluida esta entrada habl\u00e1semos del que probablemente sea el circuito integrado mas vers\u00e1til construido, hablamos del LM741 que viene a ser como el \"abuelo\" de los amplificadores operacionales y que tanto juego ha dado, y sigue dando, en electr\u00f3nica. El primer problema que nos encontramos, y esto puede ocurrirnos con otros muchos componentes, es que este operacional no est\u00e1 en las librer\u00edas de LTSpice XVII, pero esto no va a ser un problema ya que es bastante sencillo encontrar el modelo SPICE del mismo en internet. Una b\u00fasqueda del tipo modelo SPICE LM741 nos arrojar\u00e1 diferentes resultados que podemos descargar para, a partir de ellos crear el s\u00edmbolo que se asocia a la macro descargada, y esto es el proceso que vamos a describir a continuaci\u00f3n, adem\u00e1s cuando tengamos nuestro s\u00edmbolo haremos alguna simulaci\u00f3n sencilla. Amplificador Operacional LM741 \u00b6 Comenzamos por descargar la macro del uA741 desde el github de Sebastian Stay y situamos el archivo .sub descargado en el directorio Mis_Componentes creando anteriormente en estos tutoriales. El siguiente paso va a consistir en arrastrar el archivo a la zona de trabajo de LTSpice tal y como vemos en la siguiente animaci\u00f3n: En la imagen 23 podemos observa el orden de los pines asignado a la creaci\u00f3n del subcircuito correspondiente. Imagen 23 Orden de pines para el subcircuito Si hacemos clic derecho sobre la directiva .subckt uA741 1 2 3 4 5 nos aparecer\u00e1 una ventana en la disponemos de la entrada Create Symbol . Vemos este proceso a continuaci\u00f3n: El s\u00edmbolo que se crea no parece el m\u00e1s apropiado para este dispositivo por lo que vamos a proceder a editarlo para adaptarlo a uno gen\u00e9rico ya existente. Vamos a abrir el archivo uA741.asy con el editor de textos y veremos algo similar a la imagen 24. Imagen 24 S\u00edmbolo uA741 abierto en editor de texto En las librer\u00edas vamos a buscar un operacional gen\u00e9rico que tenga un s\u00edmbolo con cinco pines, puede ser por ejemplo el que vemos en la imagen 25. Imagen 25 S\u00edmbolo de un operacional gen\u00e9rico Una vez localizado lo abrimos tambi\u00e9n en modo texto y vamos a observar en primer lugar que las l\u00edneas destacadas en la imagen 26 corresponden con el dibujo en s\u00ed del s\u00edmbolo por lo que vamos a reemplazar las del que hemos creado nosotros por las del gen\u00e9rico. Imagen 26 Reemplazo de l\u00edneas De forma similar a la anterior realizamos el reemplazo de las \u00faltimas l\u00edneas que corresponden a los pines del dispositivo. Con esto ya tenemos disponible en nuestra librer\u00eda el nuevo s\u00edmbolo para el uA741 asociado al modelo Spice descargado que podemos utilizar para nuestros circuitos. El aspecto del s\u00edmbolo creado lo vemos en la imagen 27 donde vemos el texto a\u00f1adido para que al cargar el s\u00edmbolo en nuestro esquema nos aparezca el modelo de operacional al que corresponde. Imagen 27 S\u00edmbolo de uA741 El s\u00edmbolo creado autom\u00e1ticamente se guarda por defecto en el directorio ...\\LTspiceXVII/lib/sym/AutoGenerated, aunque para nuestros prop\u00f3sitos lo hemos trasladado al directorio propio Mis_Componentes . Simulaci\u00f3n con uA741 \u00b6 Como ejemplo vamos a simular la obtenci\u00f3n de la curva Voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia que podemos ver en el datasheet del uA741 y que vemos reproducido en la imagen 28. Si observamos la curva vemos que la tensi\u00f3n de salida permanece constante hasta los 7 kHZ, y es esto precisamente lo que vamos a comprobar. Imagen 28 Voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia Obtenido de Texas Instruments Para ello vamos a utilizar una configuraci\u00f3n de amplificador inversor como la de la imagen 29 en el que hemos configurado las condiciones establecidas en la esquina superior izquierda de la imagen 27. Imagen 29 Circuito para obtener la curva de voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia Un primer an\u00e1lisis transitorio para las condiciones establecidas nos arroja el resultado que vemos en la imagen 30, donde se aprecia claramente que el amplificador est\u00e1 saturado y, dada la alimentaci\u00f3n que tiene y su ganancia en tensi\u00f3n que es de 10, la salida est\u00e1 un poco por debajo de los 15V debido a la no idealidad del dispositivo. Imagen 30 An\u00e1lisis en saturaci\u00f3n Cambiamos las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 100Hz / .tran 20m para ver como se comporta el circuito. En la imagen 31 tenemos los resultados. Imagen 31 An\u00e1lisis a 100 Hz Podemos observar como la tensi\u00f3n de salida permanece constante dentro del margen din\u00e1mico del uA741. En la animaci\u00f3n siguiente vemos como obtener una ventana de zoom de acercamiento para fijar el cursor con mayor precisi\u00f3n. Esto lo hacemos con un clic izquierdo y arrastrando el rat\u00f3n hasta tener la ventana deseada. En la animaci\u00f3n tambi\u00e9n vemos como recuperar el nivel de zoom. Ahora cambiamos de nuevo las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 4kHz / .tran 0.5m para ver como se comporta el circuito a otra frecuencia dentro del rango. En la imagen 32 tenemos los resultados. Imagen 32 An\u00e1lisis a 4kHz Observamos de nuevo que la tensi\u00f3n de salida permanece casi invariable. Vamos ahora a establecer las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 7kHz / .tran 0.3m para ver como se comporta el circuito a una frecuencia justo en el l\u00edmite de la zona horizontal de la curva de la imagen 28. En la imagen 33 tenemos los resultados. Imagen 33 An\u00e1lisis a 7kHz Observamos que la tensi\u00f3n de salida permanece casi invariable pero que la se\u00f1al de salida ya comienza a sufrir cierta deformaci\u00f3n. Un cambio en las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 8kHz / .tran 0.3m para estar en la zona del codo de la curva nos permite observar que la tensi\u00f3n de salida ya comienza a tener una caida importante, como vemos en la imagen 34. Imagen 34 An\u00e1lisis a 8kHz La tensi\u00f3n de salida ya sufre una ca\u00edda apreciable. Si nos vamos a 20kHz vemos que la tensi\u00f3n de salida est\u00e1 por debajo de los 6V y que adem\u00e1s la se\u00f1al comienza a perder su simetr\u00eda respecto a 0V. Esto lo vemos en la imagen 35. Imagen 35 An\u00e1lisis a 20kHz Si seguimos aumentando la frecuencia la se\u00f1al de salida ser\u00e1 cada vez mas d\u00e9bil, como vemos en la imagen 36. Imagen 36 An\u00e1lisis a 500kHz Vamos ahora a realizar un an\u00e1lisis de respuesta en frecuencia del circuito para comprobar el funcionamiento y ver el valor de la frecuencia de corte del amplificador. En la imagen 37 vemos las condiciones de simulaci\u00f3n y los resultados obtenidos. Imagen 37 Respuesta en frecuencia del amplificador inversor con uA741 Podemos descargar este ejemplo para su estudio Cuando configuramos el an\u00e1lisis AC es muy importante dar la amplitud para dicho an\u00e1lisis en la fuente de se\u00f1al, tal y como se muestra en la imagen 38a. Si no lo especificamos nos generar\u00e1 el error que vemos en la imagen 38b. Imagen 38a Imagen 38b Configuraci\u00f3n del an\u00e1lisis AC Error por an\u00e1lisis AC mal configurado","title":"Mas conceptos de simulaci\u00f3n"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#mas-conceptos-de-simulacion-con-ltspice","text":"En este apartado fundamentalmente veremos ejemplos diversos de simulaci\u00f3n con breve explicaci\u00f3n de alg\u00fan concepto si creo que resulta necesario.","title":"Mas conceptos de simulaci\u00f3n con LTSpice"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#diagrama-de-bode","text":"Un diagrama de Bode es una representaci\u00f3n gr\u00e1fica de la respuesta en frecuencia de un circuito. Debe su nombre a su desarrollador Hendrik Wade Bode . Lo mas habitual es que tenga dos gr\u00e1ficas, una correspondiente al m\u00f3dulo de la funci\u00f3n de transferencia (ganancia) expresada en decibelios en funci\u00f3n de la frecuencia (o la frecuencia angular) expresada en una escala logar\u00edtmica. El diagrama de fase de Bode representa la fase de la funci\u00f3n de transferencia en funci\u00f3n de la frecuencia (o frecuencia angular) en escala logar\u00edtmica. Se puede dar en grados o en radianes. Permite evaluar el desplazamiento en fase de una se\u00f1al a la salida del sistema respecto a la entrada para una frecuencia determinada. Es una herramienta muy utilizada en el an\u00e1lisis de circuitos electr\u00f3nicos, especialmente importante en el dise\u00f1o y an\u00e1lisis de filtros y amplificadores. Vamos a recuperar el filtro pasa bajo para ejemplificar el diagrama de Bode en LTSpice XVII. El circuito que vamos a utilizar es el de la imagen 1. Imagen 1 Filtro pasa bajos Antes de proceder con el an\u00e1lisis vamos a realizar unos sencillos c\u00e1lculos. Sabemos que \\begin{aligned}X_{c}=1/2\\pi fC\\end{aligned} \\begin{aligned}X_{c}=1/2\\pi fC\\end{aligned} y que cuando el circuito entra en resonancia se cumple que X_{C} = R X_{C} = R , por lo que podemos escribir que \\begin{aligned}R=1/2\\pi fC\\end{aligned} \\begin{aligned}R=1/2\\pi fC\\end{aligned} de donde obtenemos que la frecuencia de corte que calculamos para el circuito en cuesti\u00f3n, as\u00ed: f_{c}=\\dfrac{1}{2\\pi RC}=\\dfrac{1}{2\\pi \\cdot 150\\cdot 100\\cdot 10^{-9}}=10,610Hz\\hspace{0.5cm} \\simeq \\hspace{0.5cm}10\\hspace{0.1cm}kHz f_{c}=\\dfrac{1}{2\\pi RC}=\\dfrac{1}{2\\pi \\cdot 150\\cdot 100\\cdot 10^{-9}}=10,610Hz\\hspace{0.5cm} \\simeq \\hspace{0.5cm}10\\hspace{0.1cm}kHz Procedemos a realizar el an\u00e1lisis que se especifica en la imagen 2. Imagen 2 Configuraci\u00f3n an\u00e1lisis AC Situando una sonda de tensi\u00f3n en la salida del circuito obtenemos la respuesta que vemos en la imagen 3. Se observan tanto la curva de trazo continuo para la ganancia como la de trazo discontinuo para la de fase. Imagen 3 Respuesta en frecuencia del filtro RC Para hacer an\u00e1lisis sobre esta curva necesitamos de los denominados cursores que est\u00e1n disponibles en LTSpice y que vamos a ver como usar seguidamente. Tenemos disponibilidad de dos cursores en LTSpice XVII. Si hacemos clic con el bot\u00f3n izquierdo en la etiqueta del t\u00edtulo de la forma de onda (situado en la parte superior de la ventana del gr\u00e1fico) se establecer\u00e1 un cursor en forma de barra cruzada y una ventana emergente con la informaci\u00f3n de la posici\u00f3n del cursor. Si movemos el puntero del rat\u00f3n por el cursor aparecer\u00e1 un n\u00famero \"1\". Si hacemos clic con bot\u00f3n izquierdo en el n\u00famero que se muestra, podremos mover el cursor por el gr\u00e1fico. En la siguiente animaci\u00f3n vemos como se hace lo descrito. En la imagen 4 observamos como al llevar el cursor aproximadamente a los -3 dB tenemos la frecuencia de corte que coincide con la calculada. Imagen 4 Frecuencia de corte con cursor 1 Si con el cursor 1 activo hacemos de nuevo clic sobre la etiqueta del t\u00edtulo del nodo, obtendremos el cursor n\u00famero 2 y en la ventana emergente la tendremos la informaci\u00f3n de ambos cursores as\u00ed como la relaci\u00f3n entre Cursor2 y Cursor1. En la siguiente animaci\u00f3n vemos esta forma de activaci\u00f3n de ambos cursores y tambi\u00e9n c\u00f3mo cambiar la curva de trabajo de estos. Podemos adjuntar el primero, el segundo o ambos cursores a cualquier traza haciendo clic con el bot\u00f3n derecho en la etiqueta de esa traza y usando el cuadro desplegable que vemos en la imagen 5. Cursor adjunto. Los cursores adjuntos se pueden arrastrar con el mouse o mover con las teclas del cursor. Imagen 5 Otra forma de adjuntar cursores Podemos descargar este ejemplo para su estudio","title":"Diagrama de Bode"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#curva-caracteristica-de-un-diodo-zener","text":"El diodo Zener (que debe su nombre a su inventor Clarence Melvin Zener ) es un tipo especial de diodo, que siempre se utiliza polarizado inversamente. Es decir: Si el diodo zener se polariza directamente se comporta como un diodo normal. Si el diodo zener se polarizada inversamente, este no conduce hasta que la tensi\u00f3n inversa aplicada alcance la denominada tensi\u00f3n zener o de ruptura, momento en el que se produce la avalancha zener. Cuando el diodo zener se encuentra en zona de avalancha circula corriente de c\u00e1todo a \u00e1nodo y se mantiene entre sus terminales una tensi\u00f3n pr\u00e1cticamente constante denominada tensi\u00f3n zener. Dado su funcionamiento es evidente que su principal aplicaci\u00f3n va a ser como estabilizador de tensi\u00f3n. En la curva caracter\u00edstica tensi\u00f3n/corriente se refleja perfectamente el comportamiento descrito y es por ello que vamos a desarrollar un ejemplo para obtener la de un diodo zener, en concreto la del EDZV10B que es un zener de 10V y 150 mW. El diodo puede soportar una corriente m\u00e1xima de 15 mA. Montamos el circuito de la imagen 6 sobre el que planteamos un barrido DC que ir\u00e1 desde los -12V hasta 0V. La fuente la definimos de 0V porque no nos interesa la caracter\u00edstica de polarizaci\u00f3n directa. Imagen 6 Circuito para obtener caracter\u00edstica del zener EDZV10B Una primera simulaci\u00f3n con medida de la corriente por el diodo zener nos arroja la curva de la imagen 7 que resulta poco interesante de cara a leer valores, aunque ya se observa que en torno a los 10V comienza la estabilizaci\u00f3n. Imagen 7 Caracter\u00edstica inicial del zener EDZV10B Considerando que el diodo zener no comenzar\u00e1 a provocar la avalancha zener hasta que no se alcance una corriente m\u00ednima y ajustando la escala del eje de corrientes a un valor m\u00e1s l\u00f3gico a nuestros prop\u00f3sitos obtenemos la imagen 8, que es una curva mas descriptiva del diodo y sobre la que hemos situado un cursor para tener los datos. Imagen 8 Caracter\u00edstica del zener EDZV10B Podemos descargar este ejemplo para su estudio","title":"Curva caracter\u00edstica de un diodo zener"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#rectificador-de-doble-onda-con-filtro-por-condensador","text":"El filtrado es uno de los puntos m\u00e1s importantes cuando hablamos de fuentes de alimentaci\u00f3n de tensi\u00f3n continua construidas a partir de la tensi\u00f3n de red pues del mismo va a depender el rizado de la fuente. El filtro por condensador est\u00e1 basado en colocar un condensador en paralelo con la carga, aprovechando el comportamiento del condensador que trata de oponerse a las variaciones de la tensi\u00f3n entre sus extremos. Veamos este funcionamiento en simulaci\u00f3n. Partiremos de una se\u00f1al sinusoidal que convertiremos en corriente continua pulsatoria con un rectificador en puente y despu\u00e9s analizaremos el efecto del filtrado con distintos valores de capacidad. En la imagen 9 tenemos el circuito que vamos a analizar. Imagen 9 Rectificador en puente con filtro por condensador La se\u00f1al sinusoidal la obtenemos de dos fuentes para que la entrada al puente de diodos sea como la procedente del secundario de un transformador con toma intermedia, aspecto este imprescindible para que la referencia sea com\u00fan a la tensi\u00f3n de entrada y a la de salida. El lector puede analizar este aspecto situando una sola fuente y haciendo el recorrido de la corriente por los diodos y encontrar\u00e1 que no hay un camino cerrado si no se coloca esa toma intermedia. En la imagen 10 tenemos la representaci\u00f3n de las tensiones de entrada y salida con los datos de un marcador que analizamos a continuaci\u00f3n. Imagen 10 Tensiones de entrada y salida del rectificador en puente con filtro por condensador La posici\u00f3n del cursor indica el punto donde se cortan ambas curvas que viene a indicar en que valor la tensi\u00f3n en la salida (4.2905735V) es menor que la de entrada debido a la ca\u00edda de tensi\u00f3n que se produce en los diodos. Podemos observar que cuando el valor instant\u00e1neo de la tensi\u00f3n de entrada es mayor que el valor instant\u00e1neo en el condensador conducen por pares los diodos D1 y D2 para el semiciclo positivo y D3 y D4 para el negativo y el condensador se carga. Cuando la tensi\u00f3n de entrada en menor que la del condensador esos pares de diodos se polarizan inversamente y el condensador se descarga a trav\u00e9s de RL. En la imagen 11 podemos observar el efecto que tiene aumentar o disminuir el consumo en la carga cambiando su valor y se ve c\u00f3mo para cargas peque\u00f1as el rizado es excesivamente grande. Imagen 11 Efecto del valor de RL en el rizado En la imagen 12 hacemos un an\u00e1lisis del rizado ahora en funci\u00f3n del valor de la capacidad. Observese que Rl es de 100 ohmios. Imagen 12 Efecto del valor de C en el rizado Es posible calcular los valores medio y eficaz de la tensi\u00f3n de salida, para ello debemos mantener pulsada la tecla CTRL mientras hacemos clic sobre la etiqueta del gr\u00e1fico que la representa. LTSpice procede a integrar el valor V(sal) en nuestro caso y nos muestra una ventana con los resultados de la integraci\u00f3n donde aparecen el intervalo de integraci\u00f3n y los valores medio y eficaz de la tensi\u00f3n seleccionada. No es posible hacer esto con an\u00e1lisis param\u00e9trico. En la animaci\u00f3n siguiente vemos el proceso. Podemos descargar este ejemplo para su estudio","title":"Rectificador de doble onda con filtro por condensador"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#regulacion-con-diodo-zener","text":"Para mantener constante la tensi\u00f3n de salida y minimizar el rizado en la carga la forma m\u00e1s simple de fuente de alimentaci\u00f3n es colocar a un filtrado por condensador un zener en paralelo junto con su correspondiente resistencia limitadora. Para ver esto en funcionamiento construimos el circuito de la imagen 13, formado por un rectificador puente con filtro por condensador y un regulador de tensi\u00f3n con diodo Zener BZX84C12VL para una tensi\u00f3n de salida de 12 V. Imagen 13 Regulaci\u00f3n con diodo zener Es evidente que el circuito es capaz de entregar muy poca corriente pues el diodo zener puede disipar un m\u00e1ximo de 250 mW ( I_{zmax}=21 mA I_{zmax}=21 mA ) lo que se pone de manifiesto disminuyendo la RL, tal y como vemos en la imagen 14, donde claramente el diodo no est\u00e1 estabilizando porque se supera la corriente m\u00e1xima. Imagen 14 Vz no es estable porque se supera la I_{zmax}=21 mA I_{zmax}=21 mA Esto se soluciona de forma sencilla introduciendo un transistor como elemento regulador que sea el encargado de entregar la corriente a la carga y que la corriente de control de zener quede dividida por la ganancia en corriente de dicho transistor, y si resulta necesaario se puede usar un par en montaje D'Arlington. En la imagen 15 tenemos un r\u00e1pido ejemplo de lo dicho con un aumento considerable en la corriente por la carga. La tensi\u00f3n de salida ha ca\u00eddo por debajo de los 12V debido a la caida de tensi\u00f3n base-emisor del transistor. Imagen 15 Regulaci\u00f3n con transistor Podemos descargar este ejemplo para su estudio","title":"Regulaci\u00f3n con diodo zener"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#transistor-autopolarizado","text":"En la imagen 16 vemos el circuito t\u00edpico de una autopolarizaci\u00f3n de un transistor bipolar que mantiene el punto de trabajo est\u00e1tico muy estable respecto a las variaciones de temperatura. Imagen 16 Circuito t\u00edpico de autopolarizaci\u00f3n Pues bien, en este apartado vamos a utilizar LTspice XVII para realizar el an\u00e1lisis en corriente continua del punto de trabajo (.OP). Para ello vamos a tomar el circuito de la imagen 16, le vamos a poner componentes con valores y vamos a etiquetar los diferentes nodos de importancia a fin de que la lectura de resultados sea mas sencilla. En la imagen 17 vemos el circuito, la configuraci\u00f3n de simulaci\u00f3n y los resultados obtenidos. Imagen 17 An\u00e1lisis .op de un transistor con autopolarizaci\u00f3n Si queremos ver los datos en el propio circuito podemos hacer clic con bot\u00f3n izquierdo sobre el nodo deseado o bien situando el cursor sobre el nodo hacer clic derecho y escoger Place .op Data Label y obtendremos algo similar a lo que vemos en la imagen 18. Imagen 18 Datos an\u00e1lisis .op en el esquema Si realizamos un an\u00e1lisis para una temperatura de por ejemplo 90\u00b0 (.TEMP 90) obtenemos los resultados que vemos en la imagen 19. Si comparamos estos con los obtenidos en la imagen 17 vemos que cambian muy poco a pesar del gran aumento de temperatura. Imagen 19 An\u00e1lisis .op a una temperatura especificada Podemos descargar este ejemplo para su estudio","title":"Transistor autopolarizado"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#amplificador-basico-en-emisor-comun","text":"Un circuito autopolarizado es la base principal de un amplificador clase A con solo dotarlo de los correspondientes condensadores de acople en la entrada y la salida y el de desacople en el emisor del transistor. Los condensadores de acople tienen la misi\u00f3n de aislar la corriente continua de polarizaci\u00f3n con las se\u00f1ales de entrada/salida y el condensador de desacople evita perdidas de ganancia del amplificador. En la imagen 20 tenemos el esquema caracter\u00edstico con una fuente de excitaci\u00f3n colocada en la entrada. Imagen 20 Amplificador en emisor com\u00fan En la siguiente animaci\u00f3n podemos ver como a\u00f1adir trazar para una visualizaci\u00f3n mejor de las se\u00f1ales de entrada y salida y se observa como las se\u00f1ales de entrada y salida est\u00e1n desfasadas unos 180\u00b0. Podemos calcular la ganancia en tensi\u00f3n aproximada utilizando los cursores en cada gr\u00e1fica para obtener el valor de la tensi\u00f3n pico a pico de las se\u00f1ales de entrada y de salida. En la imagen 21 vemos los resultados obtenidos. Imagen 21a Imagen 21b Se\u00f1al de entrada Se\u00f1al de salida Con estos valores podemos hacer el c\u00e1lculo de ganancia en tensi\u00f3n siguiente: \\begin{aligned}A_{v}=\\dfrac{Vsal}{Vent}=\\dfrac{2.74\\times 10^{3}mV}{9.99mV}=274\\end{aligned} \\begin{aligned}A_{v}=\\dfrac{Vsal}{Vent}=\\dfrac{2.74\\times 10^{3}mV}{9.99mV}=274\\end{aligned} De forma similar podemos obtener las corrientes de entrada y salida del amplificador para calcular la ganancia en corriente. En la imagen 22 tenemos las gr\u00e1ficas y los resultados de los cursores. Imagen 22 Medida de las corrientes de entrada y salida Con los valores obtenidos podemos hacer el c\u00e1lculo de ganancia en corriente siguiente: \\begin{aligned}A_{I}=\\dfrac{I_{C}}{I_{B}}=\\dfrac{1.13\\times 10^{-3}}{6.82\\times 10^{-6}}=166\\end{aligned} \\begin{aligned}A_{I}=\\dfrac{I_{C}}{I_{B}}=\\dfrac{1.13\\times 10^{-3}}{6.82\\times 10^{-6}}=166\\end{aligned} Podemos descargar este ejemplo para su estudio","title":"Amplificador b\u00e1sico en emisor com\u00fan"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#algo-sobre-amplificadores-operacionales","text":"No pod\u00eda ser de otra forma que antes de dar por concluida esta entrada habl\u00e1semos del que probablemente sea el circuito integrado mas vers\u00e1til construido, hablamos del LM741 que viene a ser como el \"abuelo\" de los amplificadores operacionales y que tanto juego ha dado, y sigue dando, en electr\u00f3nica. El primer problema que nos encontramos, y esto puede ocurrirnos con otros muchos componentes, es que este operacional no est\u00e1 en las librer\u00edas de LTSpice XVII, pero esto no va a ser un problema ya que es bastante sencillo encontrar el modelo SPICE del mismo en internet. Una b\u00fasqueda del tipo modelo SPICE LM741 nos arrojar\u00e1 diferentes resultados que podemos descargar para, a partir de ellos crear el s\u00edmbolo que se asocia a la macro descargada, y esto es el proceso que vamos a describir a continuaci\u00f3n, adem\u00e1s cuando tengamos nuestro s\u00edmbolo haremos alguna simulaci\u00f3n sencilla.","title":"Algo sobre amplificadores operacionales"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#amplificador-operacional-lm741","text":"Comenzamos por descargar la macro del uA741 desde el github de Sebastian Stay y situamos el archivo .sub descargado en el directorio Mis_Componentes creando anteriormente en estos tutoriales. El siguiente paso va a consistir en arrastrar el archivo a la zona de trabajo de LTSpice tal y como vemos en la siguiente animaci\u00f3n: En la imagen 23 podemos observa el orden de los pines asignado a la creaci\u00f3n del subcircuito correspondiente. Imagen 23 Orden de pines para el subcircuito Si hacemos clic derecho sobre la directiva .subckt uA741 1 2 3 4 5 nos aparecer\u00e1 una ventana en la disponemos de la entrada Create Symbol . Vemos este proceso a continuaci\u00f3n: El s\u00edmbolo que se crea no parece el m\u00e1s apropiado para este dispositivo por lo que vamos a proceder a editarlo para adaptarlo a uno gen\u00e9rico ya existente. Vamos a abrir el archivo uA741.asy con el editor de textos y veremos algo similar a la imagen 24. Imagen 24 S\u00edmbolo uA741 abierto en editor de texto En las librer\u00edas vamos a buscar un operacional gen\u00e9rico que tenga un s\u00edmbolo con cinco pines, puede ser por ejemplo el que vemos en la imagen 25. Imagen 25 S\u00edmbolo de un operacional gen\u00e9rico Una vez localizado lo abrimos tambi\u00e9n en modo texto y vamos a observar en primer lugar que las l\u00edneas destacadas en la imagen 26 corresponden con el dibujo en s\u00ed del s\u00edmbolo por lo que vamos a reemplazar las del que hemos creado nosotros por las del gen\u00e9rico. Imagen 26 Reemplazo de l\u00edneas De forma similar a la anterior realizamos el reemplazo de las \u00faltimas l\u00edneas que corresponden a los pines del dispositivo. Con esto ya tenemos disponible en nuestra librer\u00eda el nuevo s\u00edmbolo para el uA741 asociado al modelo Spice descargado que podemos utilizar para nuestros circuitos. El aspecto del s\u00edmbolo creado lo vemos en la imagen 27 donde vemos el texto a\u00f1adido para que al cargar el s\u00edmbolo en nuestro esquema nos aparezca el modelo de operacional al que corresponde. Imagen 27 S\u00edmbolo de uA741 El s\u00edmbolo creado autom\u00e1ticamente se guarda por defecto en el directorio ...\\LTspiceXVII/lib/sym/AutoGenerated, aunque para nuestros prop\u00f3sitos lo hemos trasladado al directorio propio Mis_Componentes .","title":"Amplificador Operacional LM741"},{"location":"Instalaciones/LTSpice/Mas-conceptos/#simulacion-con-ua741","text":"Como ejemplo vamos a simular la obtenci\u00f3n de la curva Voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia que podemos ver en el datasheet del uA741 y que vemos reproducido en la imagen 28. Si observamos la curva vemos que la tensi\u00f3n de salida permanece constante hasta los 7 kHZ, y es esto precisamente lo que vamos a comprobar. Imagen 28 Voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia Obtenido de Texas Instruments Para ello vamos a utilizar una configuraci\u00f3n de amplificador inversor como la de la imagen 29 en el que hemos configurado las condiciones establecidas en la esquina superior izquierda de la imagen 27. Imagen 29 Circuito para obtener la curva de voltaje de salida m\u00e1ximo en funci\u00f3n de la frecuencia Un primer an\u00e1lisis transitorio para las condiciones establecidas nos arroja el resultado que vemos en la imagen 30, donde se aprecia claramente que el amplificador est\u00e1 saturado y, dada la alimentaci\u00f3n que tiene y su ganancia en tensi\u00f3n que es de 10, la salida est\u00e1 un poco por debajo de los 15V debido a la no idealidad del dispositivo. Imagen 30 An\u00e1lisis en saturaci\u00f3n Cambiamos las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 100Hz / .tran 20m para ver como se comporta el circuito. En la imagen 31 tenemos los resultados. Imagen 31 An\u00e1lisis a 100 Hz Podemos observar como la tensi\u00f3n de salida permanece constante dentro del margen din\u00e1mico del uA741. En la animaci\u00f3n siguiente vemos como obtener una ventana de zoom de acercamiento para fijar el cursor con mayor precisi\u00f3n. Esto lo hacemos con un clic izquierdo y arrastrando el rat\u00f3n hasta tener la ventana deseada. En la animaci\u00f3n tambi\u00e9n vemos como recuperar el nivel de zoom. Ahora cambiamos de nuevo las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 4kHz / .tran 0.5m para ver como se comporta el circuito a otra frecuencia dentro del rango. En la imagen 32 tenemos los resultados. Imagen 32 An\u00e1lisis a 4kHz Observamos de nuevo que la tensi\u00f3n de salida permanece casi invariable. Vamos ahora a establecer las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 7kHz / .tran 0.3m para ver como se comporta el circuito a una frecuencia justo en el l\u00edmite de la zona horizontal de la curva de la imagen 28. En la imagen 33 tenemos los resultados. Imagen 33 An\u00e1lisis a 7kHz Observamos que la tensi\u00f3n de salida permanece casi invariable pero que la se\u00f1al de salida ya comienza a sufrir cierta deformaci\u00f3n. Un cambio en las condiciones de la se\u00f1al de entrada y de simulaci\u00f3n a SINE(0 1.5V 8kHz / .tran 0.3m para estar en la zona del codo de la curva nos permite observar que la tensi\u00f3n de salida ya comienza a tener una caida importante, como vemos en la imagen 34. Imagen 34 An\u00e1lisis a 8kHz La tensi\u00f3n de salida ya sufre una ca\u00edda apreciable. Si nos vamos a 20kHz vemos que la tensi\u00f3n de salida est\u00e1 por debajo de los 6V y que adem\u00e1s la se\u00f1al comienza a perder su simetr\u00eda respecto a 0V. Esto lo vemos en la imagen 35. Imagen 35 An\u00e1lisis a 20kHz Si seguimos aumentando la frecuencia la se\u00f1al de salida ser\u00e1 cada vez mas d\u00e9bil, como vemos en la imagen 36. Imagen 36 An\u00e1lisis a 500kHz Vamos ahora a realizar un an\u00e1lisis de respuesta en frecuencia del circuito para comprobar el funcionamiento y ver el valor de la frecuencia de corte del amplificador. En la imagen 37 vemos las condiciones de simulaci\u00f3n y los resultados obtenidos. Imagen 37 Respuesta en frecuencia del amplificador inversor con uA741 Podemos descargar este ejemplo para su estudio Cuando configuramos el an\u00e1lisis AC es muy importante dar la amplitud para dicho an\u00e1lisis en la fuente de se\u00f1al, tal y como se muestra en la imagen 38a. Si no lo especificamos nos generar\u00e1 el error que vemos en la imagen 38b. Imagen 38a Imagen 38b Configuraci\u00f3n del an\u00e1lisis AC Error por an\u00e1lisis AC mal configurado","title":"Simulaci\u00f3n con uA741"},{"location":"Instalaciones/LTSpice/Tipos-analisis/","text":"Tipos de an\u00e1lisis en SPICE \u00b6 Veremos en este apartado los tipos de an\u00e1lisis disponibles en LTSpice acompa\u00f1ando las descripciones con ejemplo de uso que ayuden a entender mejor como funciona el tipo tratado. Los tipos de an\u00e1lisis disponibles los vemos en la imagen 1 a la que se accede desde el men\u00fa Simulation -> Edit simulation cmd . Imagen 1 Tipos de simulaci\u00f3n disponibles en LTSpice Antes de comenzar las descripciones en la tabla siguiente se describen las extensiones de los tipos de archivo que maneja LTSpice. Extensi\u00f3n Descripci\u00f3n *.asc Esquem\u00e1tico. Es una netlist basada en los comandos de SPICE *.cir, *.net, *.sp Netlist *.fft Archivo binario de salida (del ingl\u00e9s Fast Fourier Transform) *.lib Librer\u00edas de modelos *.raw, *.fra Formas de onda *.sub Subcircuito *.asy S\u00edmbolos *.log Archivo de resgistro del proceso de simulaci\u00f3n DC op pnt - Punto de trabajo en continua \u00b6 Este tipo de an\u00e1lisis nos permite determinar cu\u00e1l es el punto de trabajo de corriente continua del circuito que tengamos bajo prueba. En este tipo de an\u00e1lisis en corriente continua los condensadores se consideran circuitos abiertos y las bobinas cortocircuitos. Los resultados son almacenados en un archivo de texto y/o se pueden mostrar directamente sobre el esquema. En general, los tres tipos de resultados que se pueden obtener son: Tensiones en cada nodo del circuito Corrientes que circulan por los componentes Lista de par\u00e1metros que indican los par\u00e1metros de peque\u00f1a se\u00f1al de los componentes no lineales. La sintaxis de este tipo de analisis es: .op Vamos a realizar este an\u00e1lisis capturando el circuito que vemos en la imagen 2. Imagen 2 Circuito para an\u00e1lisis DC op pnt Ahora accedemos a los comandos de simulaci\u00f3n (desde el icono o desde el men\u00fa) y escogemos, seg\u00fan vemos en la imagen 3, el an\u00e1lisis DC op pnt. Imagen 3 Selecci\u00f3n del tipo de analisis DC op pnt Una vez que pulsamos el bot\u00f3n Ok, y transcurrido el tiempo necesario para la ejecuci\u00f3n del an\u00e1lisis, nos aparecer\u00e1 una ventana con los resultados, tal y como vemos en la imagen 4, donde adem\u00e1s se observa en el circuito que el tipo de operaci\u00f3n es .op , es decir, punto de trabajo. Imagen 4 Resultados de la simulaci\u00f3n DC op pnt En la imagen 5 podemos ver los archivos que componen el ejemplo en este momento. Imagen 5 Archivos ejemplo simulaci\u00f3n DC op pnt En la tabla siguiente se indica que es cada archivo. Archivo Contenido E1-DC-op-pnt.asc Esquema E1-DC-op-pnt.log Datos relativos a la simulaci\u00f3n E1-DC-op-pnt.net Netlist E1-DC-op-pnt.raw Formas de onda. En este caso los datos que vemos a la derecha en la imagen 4 Podemos descargar este ejemplo para su estudio. DCsweep - An\u00e1lisis de barrido en corriente continua \u00b6 Este tipo de an\u00e1lisis permite la simulaci\u00f3n de un circuito a partir de un rango de valores, de un par\u00e1metro del componente o de la temperatura de operaci\u00f3n de la fuente de excitaci\u00f3n. De esta forma podemos observar la variaci\u00f3n de la variable de salida barriendo la variable de entrada. En forma general, una vez establecido la variable sobre la que se efectuar\u00e1 el barrido y su nombre, se pueden seleccionar distintos tipos de barrido: Lineal: se define con los valores inicial y final y el incremento para las variables. Octavas: se define con los valores inicial y final y el n\u00famero de puntos por octava. D\u00e9cadas: se define con los valores inicial y final y el n\u00famero de puntos por d\u00e9cada. Lista de valores: se introducen, en forma de lista, los valores separados por comas. Barrido anidado: se utilizan dos variables. Para cada valor de una de las variables se realiza el barrido completo de todos los valores de la segunda variable. La sintaxis de este tipo de analisis es: .dc (<oct,dec,lin>) <source1> <start> <stop> [<Incr>] [<source2>...] Curva caracter\u00edstica del diodo 1N4148 \u00b6 Como primer ejemplo de uso vamos a crear las condiciones que vemos en la imagen 6 para analizar el funcionamiento del diodo. Imagen 6 Circuito y condiciones de simulaci\u00f3n por barrido DC En la imagen 7 vemos el resultado de la simulaci\u00f3n y algunas observaciones del resultado. Imagen 7 Resultado inicial de simulaci\u00f3n por barrido DC con diodo 1N4148 Vamos a realizar algunas modificaciones y las presentamos mediante la animaci\u00f3n siguiente. Podemos descargar este ejemplo para su estudio. Curva caracter\u00edstica de un zener \u00b6 En la imagen 8 vemos otro ejemplo de barrido DC, en este caso con un diodo zener de 12V Imagen 8 Barrido DC con zener de 12V Podemos descargar este ejemplo para su estudio. Curvas caracter\u00edsticas del BC547B \u00b6 Vamos a ver un ejemplo mas de barrido DC, en este caso vamos a obtener las curvas caracter\u00edsticas del transistor BC547B. Para ello capturamos el circuito que vemos en la imagen 9 y conimagenmos los valores de componentes tal y como se observa en la misma imagen. Es evidente que la fuente Vcc corresponde en este caso a la V CE . Imagen 9 Esquema para obtener las curvas caracter\u00edsticas de un transistor Ahora vamos a configurar los par\u00e1metros de simulaci\u00f3n para ambas fuentes teniendo en cuenta que la que pongamos como 1 st source , corresponder\u00e1 al par\u00e1metro del eje de abscisas. En las im\u00e1genes 10a y 10b tenemos estos datos de configuraci\u00f3n. Imagen 10a Imagen 10b Primera fuente: Vcc Segunda fuente: IB En la animaci\u00f3n siguiente observamos como obtener las curvas caracter\u00edsticas del transistor a partir de las configuracion es de las fuentes de excitaci\u00f3n vistas. Las curvas aparecen al hacer clic con el rat\u00f3n y situar la pinza amperim\u00e9trica midiendo la corriente de colector del transistor. Podemos descargar este ejemplo para su estudio. Transient - An\u00e1lisis temporal \u00b6 El an\u00e1lisis temporal o funci\u00f3n del tiempo nos permite calcular la respuesta del circuito desde un instante de tiempo inicial hasta un instante de tiempo final, o sea, podemos hacer simulaciones no lineales en el dominio del tiempo que nos permite obtener las formas de onda en los nodos del circuito tomando como variable el tiempo. En realidad se obtiene un funcionamiento muy similar al que realizar\u00eda un osciloscopio. La sintaxis de este tipo de analisis es: .tran <Tstop> [<option> [<option>] ...] Como ejemplo muy t\u00edpico vamos a analizar el comportamiento de un circuito rectificador de media onda con diodo 1N4007. Nos encontramos con un problema, ese diodo no est\u00e1 en las librerias de instalaci\u00f3n de LTSpice XVII y vamos a describir una forma simple de solucionar este y alg\u00fan otro problema que citamos a continuaci\u00f3n. Cambio de librer\u00edas \u00b6 Una primera soluci\u00f3n la encontramos en la LT wiki donde encontramos un enlace a libreria de componentes y circuitos de ejejmplo denominado Components Library and Circuits . Una vez entramos en el enlace tenemos disponibles varias opciones y hay una en concreto de Bordodynov que comparte toda una recopilaci\u00f3n de componentes y ejemplo en un archivo zip de unos 33 MEG. Aunque est\u00e1 construido para la versi\u00f3n IV es perfectamente v\u00e1lido para la XVII. Descargamos el archivo y lo descomprimimos en alg\u00fan lugar para tenerlo disponible. Localizamos el directorio LTspiceXVII que normalmente estar\u00e1 alojado en Documentos y lo abrimos, veremos un directorio examples y un directorio lib . Realizamos una copia de seguridad de los mismos y procedemos a sustituirlos por los que vienen en el archivo comprimido. La pr\u00f3xima vez que arranquemos LTSpice se indexaran los archivos y quedar\u00e1 todo preparado para poder usarlo sin mas que esperar unos instantes a que el programa realice las tareas. Esto puede durar mas o menos tiempo en funci\u00f3n del procesador que tengamos logicamente. En la p\u00e1gina de la wiki tenemos acceso a una captura de pantalla donde se ven los archivos eliminados de la colecci\u00f3n. Estos modelos AEI SPICE se han eliminado debido a posibles violaciones de derechos de autor. Si tenemos necesidad de alguno de ellos debemos proceder a su busqueda en internet. En la misma p\u00e1gina tenemos enlaces a los contenidos expandidos del archivo zip para poder ver su contenido completo. Ejemplo rectificador de media onda \u00b6 La imagen 11 muestra el esquema y las condiciones de simulaci\u00f3n del rectificador de media onda. Se ha establecido un tiempo de 100 ms dado que la tensi\u00f3n sinusoidal de entrada tiene una frecuencia de 50 Hz, lo que indica un periodo de 20 ms y con los 100 ms tendremos tiempo suficiente para observar varios ciclos. Imagen 11 Rectificador de media onda y opciones de simulaci\u00f3n En las opciones de simulaci\u00f3n hemos establecido algunos par\u00e1metros que procedemos a explicar a continuaci\u00f3n, dejando el resto para otro momento. Stop Time - Es el tiempo final que se estable para el an\u00e1lisis, o dicho de otra forma, el tiempo que dura la simulaci\u00f3n si Time to start saving data es cero. Time to start saving data - Es el tiempo establecido para comenzar la simulaci\u00f3n. Maximum Timestep - Es el valor establecido para cada paso en la simulaci\u00f3n y de el depende la resoluci\u00f3n de las curvas de salida, pero tambi\u00e9n el tiempo que tarda en simularse por lo que hay que establecer un compromiso entre ambos. En la imagen 12 vemos el resultado de la simulaci\u00f3n con las condiciones establecidas. Imagen 12 Se\u00f1al de salida del rectificador de media onda Podemos descargar este ejemplo para su estudio. Ejemplo rectificador de doble onda en puente \u00b6 En la imagen 13 podemos ver este otro ejemplo con el nuevo circuito y los resultados obtenidos. Imagen 13 Rectificador de doble onda en puente Podemos descargar este ejemplo para su estudio. AC analysis - An\u00e1lisis en frecuencia \u00b6 Esta simulaci\u00f3n nos permite calcular la respuesta en frecuencia de un circuito. El barrido en frecuencia se puede seleccionar entre lineal o logar\u00edtmico, y para este \u00faltimo caso tenemos las opciones por d\u00e9cadas o por octavas. La forma mas simple de analizar esto es con un filtro y para poder entender claramente los resultados vamos a recordar conceptos fundamentales relacionados con esto. La sintaxis de este tipo de analisis es: .ac <oct,dec,lin> <Npoints> <StartFreq> <EndFreq> Conceptos b\u00e1sicos de filtros \u00b6 Un filtro es un 'aparato' (construido con resistencias, condensadores, bobinas, amplificadores operacionales, etc) que deja pasar unas frecuencias y otras no. En electr\u00f3nica hay cuatro tipos, que son: F.P.B. o Filtro Pasa Baja. Es un filtro que deja pasar las frecuencias inferiores a una determinada denominada frecuencia de corte (fc), y no deja pasar las que est\u00e1n por encima de la fc. En la imagen 14 vemos la curva de respuesta. Imagen 14 Respuesta en frecuencia de un F.P.B. El F.P.B. pasivo mas simple es el RC que vemos en la imagen 15 donde tambi\u00e9n vemos la ecuaci\u00f3n que permite su c\u00e1lculo. Imagen 15 Esquema de un F.P.B. F.P.A. o Filtro Pasa Alta. Es un filtro de No deja pasar las frecuencias inferiores a la de corte y si las que est\u00e1n por encima. En la imagen 16 vemos su curva de respuesta. Imagen 16 Respuesta en frecuencia de un F.P.A. En la imagen 17 vemos el esquema y la ecuaci\u00f3n de c\u00e1lculo del F.P.A. RC pasivo. Imagen 17 Esquema de un F.P.A. F.P-Bd. o Filtro Pasa Banda. Es un filtro que deja pasar las frecuencias comprendidas entre la de corte inferior y la de corte superior y rechaza las que est\u00e1n por debajo de la fci y por encima de la fcs, siendo siempre fcs > fci. En la imagen 18 vemos su curva de respuesta. Imagen 18 Respuesta en frecuencia de un F.P.Bd. Si observamos la curva de respuesta est\u00e1 compuesta por las de F.P.B. para la fcs y F.P.A. para la fci. En la imagen 19 vemos el esquema y las ecuaciones de c\u00e1lculo del F.P.Bd. RC pasivo. Imagen 19 Esquema de un F.P.Bd. F.R.Bd. o Filtro Rechaza Banda. Es un filtro que NO deja pasar las frecuencias comprendidas entre fci y fcs y SI deja pasar las que est\u00e1n por debajo de la fci y las que est\u00e1n por encima de la fcs, siendo siempre fcs > fci. En la imagen 20 vemos su curva de respuesta. Imagen 20 Respuesta en frecuencia de un F.R.Bd. Este filtro est\u00e1 compuesto por el paralelo de un F.P.B y un F.P.A de forma que el F.P.B. no dar\u00e1 la fci y el F.P.A. la fcs. De esta forma una se\u00f1al con frecuencia inferior a la fci tendr\u00e1 permitido el paso por el F.P.B. mientras que es rechazada por el F.P.A. y cuando la frecuencia es mayor que la fcs su paso estar\u00e1 permitido por el F.P.A. mientras que el F.P.B. las rechazar\u00e1, quedando de esta forma rechazada la banda entre ambas frecuencias. En la imagen 21 vemos el esquema y las ecuaciones de c\u00e1lculo del F.R.Bd. RC pasivo. Imagen 21 Esquema de un F.R.Bd. Mientras mas inclinada queramos que sea la curva de subida o bajada mayor complejidad tendr\u00e1 el filtro y utilizar\u00e1 muchos mas componentes. Existen infinidad de posibilidades y realmente existen filtros de much\u00edsima complejidad que ya no ser\u00e1n pasivos sino filtros activos. Ejemplos de filtros pasivos de mejor calidad son los conocidos como filtros en PI y en T que vemos en la imagen 22. Imagen 22 Esquemas de filtro en PI y en T En la imagen 23 vemos la respuesta en frecuencia de tipos complejos de filtros pasivos. Imagen 23 Curvas de respuesta de tipos de filtros Imagen obtenida en este enlace Orden de un filtro \u00b6 La pendiente de caida, que idealmente debiera coincidir con el eje de ordenadas, determina el orden del filtro. El orden de los filtros y la perdida por cada decada los vemos en la tabla siguiente: Orden del filtro Perdida 1 20 dB/dec 2 40 dB/dec 3 60 dB/dec 4 80 dB/dec 5 100 dB/dec ... ... Las ca\u00eddas siempre van de 20 en 20 decibelios por decada. En la imagen 24 vemos representado el concepto de decada y la determinaci\u00f3n del orden del filtro por los decibelios perdidos. La decada para calcular las perdidas siempre debe tomarse en la parte recta de la ca\u00edda. Imagen 24 Concepto de decada y orden de un filtro A mayor orden de filtro mas complejidad tendr\u00e1 el circuito y ser\u00e1 mas caro de construir. De forma similar se puede trabajar con octavas y tendremos la tabla siguiente: Orden del filtro Perdida dB/dec Perdida dB/oct 1 6 dB/oct 20 dB/dec 2 12 dB/oct 40 dB/dec 3 18 dB/oct 60 dB/dec 4 24 dB/oct 80 dB/dec 5 30 dB/oct 100 dB/dec ... ... ... Las ca\u00eddas siempre van de 6 en 6 decibelios por octava. Recordemos que dos frecuencias est\u00e1n separadas una decada cuando una frecuencia es el doble de la otra, por ejemplo en una escala 0, 100, 200, 300, 400, 500, 600,... entre 100 y 200 hay una octava, entre 200 y 400 hay otra, entre 300 y 600 otra y as\u00ed sucesivamente. La frecuencia de corte se establece para una p\u00e9rdida de la mitad de la potencia y esto se produce cuando la ganancia ha ca\u00eddo 3 dB por debajo de la m\u00e1xima que corresponder\u00e1 a la parte plana de la curva de respuesta. En la imagen 25 vemos el concepto representado. Imagen 25 Perdida de 3 dB (fc) Ejemplo de F.P.B. RC pasivo \u00b6 La imagen 26 muestra el esquema y las condiciones de simulaci\u00f3n del F.P.B. Se ha establecido 5 d\u00e9cadas para tener, con esos valores de componentes, una visualizaci\u00f3n \u00f3ptima. Imagen 26 F.P.B., fuente AC y opciones de simulaci\u00f3n En las opciones de simulaci\u00f3n hemos establecido los par\u00e1metros que procedemos a explicar a continuaci\u00f3n. Type of sweep - Establecemos el tipo de barrido en decadas. Number of points per decade - Con 50 puntos por decada tendremos una buena resoluci\u00f3n. Start frequency - Comenzamos el an\u00e1lisis a una frecuencia de 1 Hz. Stop frequency - Detenemos el an\u00e1lisis 5 decadas despu\u00e9s, o sea a 100 kHz. En la imagen 27 vemos el resultado de la simulaci\u00f3n con las condiciones establecidas. Imagen 27 Respuesta en frecuencia y fase del F.P.B. Si calculamos la frecuencia de corte tendremos que: En la imagen 28 se analizan los resultados obtenidos y vemos como el filtro cumple perfectamente con todo lo explicado. Imagen 28 An\u00e1lisis de la respuesta en frecuencia del F.P.B. Podemos descargar este ejemplo para su estudio. An\u00e1lisis param\u00e9trico \u00b6 Se trata de un an\u00e1lisis que se realiza alg\u00fan par\u00e1metro del circuito, como puede ser la temperatura, una variable, el valor de un componente o la temperatura. Para cada valor del par\u00e1metro se repite el an\u00e1lisis obteniendo un conjunto de resultados. Con el valor de un componente \u00b6 El ejemplo que vamos a analizar es ver el efecto de variar la constante de tiempo de carga y descarga en un circuito RC variando el valor de la capacidad. Para definir una capacidad variable hay que colocar el nombre que le demos entre llaves, por ejemplo {Cap}. Vamos a comenzar por capturar el esquema de la imagen 29 configurando los distintos componentes tal y como aparece en la misma. Imagen 29 Circuito RC para an\u00e1lisis par\u00e1metrico Para establecer el par\u00e1metro de la capacidad debemos abrir el editor de texto de LTSpice y asegurarnos que tenemos seleccionada la opci\u00f3n SPICE directive . Debemos establecer una directiva con la sintaxis siguiente: .step param <variable> <valor_inicial> <valor_final> <increment> En nuestro caso vamos a establecer esta directiva tal y como se observa en la imagen 30. Imagen 30 Directiva con los par\u00e1metros de variaci\u00f3n de la capacidad El siguiente paso es configurar como tipo de an\u00e1lisis el temporal con la configuraci\u00f3n que vemos en la imagen 31. Imagen 31 Configuraci\u00f3n del tipo de an\u00e1lisis para observar los cambios en la constante de tiempo En la imagen 32 podemos observar las 8 curvas que se obtienen con los par\u00e1metros definidos. Imagen 32 Resultado del an\u00e1lisis param\u00e9trico Podemos descargar este ejemplo para su estudio. Con la temperatura \u00b6 La temperatura nominal (TNOM) establecida por defecto en SPICE es de 27\u00baC aunque es posible seleccionar otra diferente. LTSpice permite configurar las distintas opciones de simulaci\u00f3n, d\u00e1ndonos un mayor control sobre la simulaci\u00f3n de los circuitos. La sentencia que se utiliza es la siguiente: .options <option> <option = value> <option = value> ... La diferencia entre option solo o con una igualdad radica en que existen opciones que tienen valor num\u00e9rico y otras que no lo tienen. Las opciones sin valor son banderas que se activan con solo nombrarlas. Por ejemplo, la sentencia siguiente suprime la descripci\u00f3n del circuito en el fichero de salida. .options NOECHO Si necesitamos cambiar esta temperatura por defecto podemos poner, por ejemplo la siguiente sentencia: .options TNOM = 40C y el an\u00e1lisis se realizar\u00e1 a esa temperatura. Tambi\u00e9n se puede establecer la temperatura del an\u00e1lisis. Si indicamos m\u00e1s de una temperatura resultar\u00e1 un an\u00e1lisis param\u00e9trico con la temperatura como variable. La forma b\u00e1sica de esta directiva es: .temp <T1> <T2> <T3> ... Esto es equivalente a realizar un an\u00e1lisis param\u00e9trico del siguiente tipo: .step Temperaturas <T1> <T2> <T3> ... En la imagen 33 tenemos un circuito con diodo 1N4007, las condiciones establecidas y dos curvas para hacer la comparaci\u00f3n de la sentencia TNOM = 40C anterior. Si observamos con detalle vemos que las curvas son totalmente diferentes aunque en un principio se parezcan mucho, basta observar la escala del eje de ordenadas y comprobar como para un mismo valor de tensi\u00f3n la corriente es mayor en el caso de 27 \u00baC. Imagen 33 An\u00e1lisis del cambio de TNOM En la imagen 34 tenemos las curvas del diodo 1N4007 obtenidas a las diferentes temperaturas establecidas. Imagen 34 Curvas caracter\u00edsticas del diodo 1N4007 entre 20 y 120 \u00baC Podemos descargar este ejemplo para su estudio.","title":"Tipos de an\u00e1lisis"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#tipos-de-analisis-en-spice","text":"Veremos en este apartado los tipos de an\u00e1lisis disponibles en LTSpice acompa\u00f1ando las descripciones con ejemplo de uso que ayuden a entender mejor como funciona el tipo tratado. Los tipos de an\u00e1lisis disponibles los vemos en la imagen 1 a la que se accede desde el men\u00fa Simulation -> Edit simulation cmd . Imagen 1 Tipos de simulaci\u00f3n disponibles en LTSpice Antes de comenzar las descripciones en la tabla siguiente se describen las extensiones de los tipos de archivo que maneja LTSpice. Extensi\u00f3n Descripci\u00f3n *.asc Esquem\u00e1tico. Es una netlist basada en los comandos de SPICE *.cir, *.net, *.sp Netlist *.fft Archivo binario de salida (del ingl\u00e9s Fast Fourier Transform) *.lib Librer\u00edas de modelos *.raw, *.fra Formas de onda *.sub Subcircuito *.asy S\u00edmbolos *.log Archivo de resgistro del proceso de simulaci\u00f3n","title":"Tipos de an\u00e1lisis en SPICE"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#dc-op-pnt-punto-de-trabajo-en-continua","text":"Este tipo de an\u00e1lisis nos permite determinar cu\u00e1l es el punto de trabajo de corriente continua del circuito que tengamos bajo prueba. En este tipo de an\u00e1lisis en corriente continua los condensadores se consideran circuitos abiertos y las bobinas cortocircuitos. Los resultados son almacenados en un archivo de texto y/o se pueden mostrar directamente sobre el esquema. En general, los tres tipos de resultados que se pueden obtener son: Tensiones en cada nodo del circuito Corrientes que circulan por los componentes Lista de par\u00e1metros que indican los par\u00e1metros de peque\u00f1a se\u00f1al de los componentes no lineales. La sintaxis de este tipo de analisis es: .op Vamos a realizar este an\u00e1lisis capturando el circuito que vemos en la imagen 2. Imagen 2 Circuito para an\u00e1lisis DC op pnt Ahora accedemos a los comandos de simulaci\u00f3n (desde el icono o desde el men\u00fa) y escogemos, seg\u00fan vemos en la imagen 3, el an\u00e1lisis DC op pnt. Imagen 3 Selecci\u00f3n del tipo de analisis DC op pnt Una vez que pulsamos el bot\u00f3n Ok, y transcurrido el tiempo necesario para la ejecuci\u00f3n del an\u00e1lisis, nos aparecer\u00e1 una ventana con los resultados, tal y como vemos en la imagen 4, donde adem\u00e1s se observa en el circuito que el tipo de operaci\u00f3n es .op , es decir, punto de trabajo. Imagen 4 Resultados de la simulaci\u00f3n DC op pnt En la imagen 5 podemos ver los archivos que componen el ejemplo en este momento. Imagen 5 Archivos ejemplo simulaci\u00f3n DC op pnt En la tabla siguiente se indica que es cada archivo. Archivo Contenido E1-DC-op-pnt.asc Esquema E1-DC-op-pnt.log Datos relativos a la simulaci\u00f3n E1-DC-op-pnt.net Netlist E1-DC-op-pnt.raw Formas de onda. En este caso los datos que vemos a la derecha en la imagen 4 Podemos descargar este ejemplo para su estudio.","title":"DC op pnt - Punto de trabajo en continua"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#dcsweep-analisis-de-barrido-en-corriente-continua","text":"Este tipo de an\u00e1lisis permite la simulaci\u00f3n de un circuito a partir de un rango de valores, de un par\u00e1metro del componente o de la temperatura de operaci\u00f3n de la fuente de excitaci\u00f3n. De esta forma podemos observar la variaci\u00f3n de la variable de salida barriendo la variable de entrada. En forma general, una vez establecido la variable sobre la que se efectuar\u00e1 el barrido y su nombre, se pueden seleccionar distintos tipos de barrido: Lineal: se define con los valores inicial y final y el incremento para las variables. Octavas: se define con los valores inicial y final y el n\u00famero de puntos por octava. D\u00e9cadas: se define con los valores inicial y final y el n\u00famero de puntos por d\u00e9cada. Lista de valores: se introducen, en forma de lista, los valores separados por comas. Barrido anidado: se utilizan dos variables. Para cada valor de una de las variables se realiza el barrido completo de todos los valores de la segunda variable. La sintaxis de este tipo de analisis es: .dc (<oct,dec,lin>) <source1> <start> <stop> [<Incr>] [<source2>...]","title":"DCsweep - An\u00e1lisis de barrido en corriente continua"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#curva-caracteristica-del-diodo-1n4148","text":"Como primer ejemplo de uso vamos a crear las condiciones que vemos en la imagen 6 para analizar el funcionamiento del diodo. Imagen 6 Circuito y condiciones de simulaci\u00f3n por barrido DC En la imagen 7 vemos el resultado de la simulaci\u00f3n y algunas observaciones del resultado. Imagen 7 Resultado inicial de simulaci\u00f3n por barrido DC con diodo 1N4148 Vamos a realizar algunas modificaciones y las presentamos mediante la animaci\u00f3n siguiente. Podemos descargar este ejemplo para su estudio.","title":"Curva caracter\u00edstica del diodo 1N4148"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#curva-caracteristica-de-un-zener","text":"En la imagen 8 vemos otro ejemplo de barrido DC, en este caso con un diodo zener de 12V Imagen 8 Barrido DC con zener de 12V Podemos descargar este ejemplo para su estudio.","title":"Curva caracter\u00edstica de un zener"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#curvas-caracteristicas-del-bc547b","text":"Vamos a ver un ejemplo mas de barrido DC, en este caso vamos a obtener las curvas caracter\u00edsticas del transistor BC547B. Para ello capturamos el circuito que vemos en la imagen 9 y conimagenmos los valores de componentes tal y como se observa en la misma imagen. Es evidente que la fuente Vcc corresponde en este caso a la V CE . Imagen 9 Esquema para obtener las curvas caracter\u00edsticas de un transistor Ahora vamos a configurar los par\u00e1metros de simulaci\u00f3n para ambas fuentes teniendo en cuenta que la que pongamos como 1 st source , corresponder\u00e1 al par\u00e1metro del eje de abscisas. En las im\u00e1genes 10a y 10b tenemos estos datos de configuraci\u00f3n. Imagen 10a Imagen 10b Primera fuente: Vcc Segunda fuente: IB En la animaci\u00f3n siguiente observamos como obtener las curvas caracter\u00edsticas del transistor a partir de las configuracion es de las fuentes de excitaci\u00f3n vistas. Las curvas aparecen al hacer clic con el rat\u00f3n y situar la pinza amperim\u00e9trica midiendo la corriente de colector del transistor. Podemos descargar este ejemplo para su estudio.","title":"Curvas caracter\u00edsticas del BC547B"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#transient-analisis-temporal","text":"El an\u00e1lisis temporal o funci\u00f3n del tiempo nos permite calcular la respuesta del circuito desde un instante de tiempo inicial hasta un instante de tiempo final, o sea, podemos hacer simulaciones no lineales en el dominio del tiempo que nos permite obtener las formas de onda en los nodos del circuito tomando como variable el tiempo. En realidad se obtiene un funcionamiento muy similar al que realizar\u00eda un osciloscopio. La sintaxis de este tipo de analisis es: .tran <Tstop> [<option> [<option>] ...] Como ejemplo muy t\u00edpico vamos a analizar el comportamiento de un circuito rectificador de media onda con diodo 1N4007. Nos encontramos con un problema, ese diodo no est\u00e1 en las librerias de instalaci\u00f3n de LTSpice XVII y vamos a describir una forma simple de solucionar este y alg\u00fan otro problema que citamos a continuaci\u00f3n.","title":"Transient - An\u00e1lisis temporal"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#cambio-de-librerias","text":"Una primera soluci\u00f3n la encontramos en la LT wiki donde encontramos un enlace a libreria de componentes y circuitos de ejejmplo denominado Components Library and Circuits . Una vez entramos en el enlace tenemos disponibles varias opciones y hay una en concreto de Bordodynov que comparte toda una recopilaci\u00f3n de componentes y ejemplo en un archivo zip de unos 33 MEG. Aunque est\u00e1 construido para la versi\u00f3n IV es perfectamente v\u00e1lido para la XVII. Descargamos el archivo y lo descomprimimos en alg\u00fan lugar para tenerlo disponible. Localizamos el directorio LTspiceXVII que normalmente estar\u00e1 alojado en Documentos y lo abrimos, veremos un directorio examples y un directorio lib . Realizamos una copia de seguridad de los mismos y procedemos a sustituirlos por los que vienen en el archivo comprimido. La pr\u00f3xima vez que arranquemos LTSpice se indexaran los archivos y quedar\u00e1 todo preparado para poder usarlo sin mas que esperar unos instantes a que el programa realice las tareas. Esto puede durar mas o menos tiempo en funci\u00f3n del procesador que tengamos logicamente. En la p\u00e1gina de la wiki tenemos acceso a una captura de pantalla donde se ven los archivos eliminados de la colecci\u00f3n. Estos modelos AEI SPICE se han eliminado debido a posibles violaciones de derechos de autor. Si tenemos necesidad de alguno de ellos debemos proceder a su busqueda en internet. En la misma p\u00e1gina tenemos enlaces a los contenidos expandidos del archivo zip para poder ver su contenido completo.","title":"Cambio de librer\u00edas"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#ejemplo-rectificador-de-media-onda","text":"La imagen 11 muestra el esquema y las condiciones de simulaci\u00f3n del rectificador de media onda. Se ha establecido un tiempo de 100 ms dado que la tensi\u00f3n sinusoidal de entrada tiene una frecuencia de 50 Hz, lo que indica un periodo de 20 ms y con los 100 ms tendremos tiempo suficiente para observar varios ciclos. Imagen 11 Rectificador de media onda y opciones de simulaci\u00f3n En las opciones de simulaci\u00f3n hemos establecido algunos par\u00e1metros que procedemos a explicar a continuaci\u00f3n, dejando el resto para otro momento. Stop Time - Es el tiempo final que se estable para el an\u00e1lisis, o dicho de otra forma, el tiempo que dura la simulaci\u00f3n si Time to start saving data es cero. Time to start saving data - Es el tiempo establecido para comenzar la simulaci\u00f3n. Maximum Timestep - Es el valor establecido para cada paso en la simulaci\u00f3n y de el depende la resoluci\u00f3n de las curvas de salida, pero tambi\u00e9n el tiempo que tarda en simularse por lo que hay que establecer un compromiso entre ambos. En la imagen 12 vemos el resultado de la simulaci\u00f3n con las condiciones establecidas. Imagen 12 Se\u00f1al de salida del rectificador de media onda Podemos descargar este ejemplo para su estudio.","title":"Ejemplo rectificador de media onda"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#ejemplo-rectificador-de-doble-onda-en-puente","text":"En la imagen 13 podemos ver este otro ejemplo con el nuevo circuito y los resultados obtenidos. Imagen 13 Rectificador de doble onda en puente Podemos descargar este ejemplo para su estudio.","title":"Ejemplo rectificador de doble onda en puente"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#ac-analysis-analisis-en-frecuencia","text":"Esta simulaci\u00f3n nos permite calcular la respuesta en frecuencia de un circuito. El barrido en frecuencia se puede seleccionar entre lineal o logar\u00edtmico, y para este \u00faltimo caso tenemos las opciones por d\u00e9cadas o por octavas. La forma mas simple de analizar esto es con un filtro y para poder entender claramente los resultados vamos a recordar conceptos fundamentales relacionados con esto. La sintaxis de este tipo de analisis es: .ac <oct,dec,lin> <Npoints> <StartFreq> <EndFreq>","title":"AC analysis - An\u00e1lisis en frecuencia"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#conceptos-basicos-de-filtros","text":"Un filtro es un 'aparato' (construido con resistencias, condensadores, bobinas, amplificadores operacionales, etc) que deja pasar unas frecuencias y otras no. En electr\u00f3nica hay cuatro tipos, que son: F.P.B. o Filtro Pasa Baja. Es un filtro que deja pasar las frecuencias inferiores a una determinada denominada frecuencia de corte (fc), y no deja pasar las que est\u00e1n por encima de la fc. En la imagen 14 vemos la curva de respuesta. Imagen 14 Respuesta en frecuencia de un F.P.B. El F.P.B. pasivo mas simple es el RC que vemos en la imagen 15 donde tambi\u00e9n vemos la ecuaci\u00f3n que permite su c\u00e1lculo. Imagen 15 Esquema de un F.P.B. F.P.A. o Filtro Pasa Alta. Es un filtro de No deja pasar las frecuencias inferiores a la de corte y si las que est\u00e1n por encima. En la imagen 16 vemos su curva de respuesta. Imagen 16 Respuesta en frecuencia de un F.P.A. En la imagen 17 vemos el esquema y la ecuaci\u00f3n de c\u00e1lculo del F.P.A. RC pasivo. Imagen 17 Esquema de un F.P.A. F.P-Bd. o Filtro Pasa Banda. Es un filtro que deja pasar las frecuencias comprendidas entre la de corte inferior y la de corte superior y rechaza las que est\u00e1n por debajo de la fci y por encima de la fcs, siendo siempre fcs > fci. En la imagen 18 vemos su curva de respuesta. Imagen 18 Respuesta en frecuencia de un F.P.Bd. Si observamos la curva de respuesta est\u00e1 compuesta por las de F.P.B. para la fcs y F.P.A. para la fci. En la imagen 19 vemos el esquema y las ecuaciones de c\u00e1lculo del F.P.Bd. RC pasivo. Imagen 19 Esquema de un F.P.Bd. F.R.Bd. o Filtro Rechaza Banda. Es un filtro que NO deja pasar las frecuencias comprendidas entre fci y fcs y SI deja pasar las que est\u00e1n por debajo de la fci y las que est\u00e1n por encima de la fcs, siendo siempre fcs > fci. En la imagen 20 vemos su curva de respuesta. Imagen 20 Respuesta en frecuencia de un F.R.Bd. Este filtro est\u00e1 compuesto por el paralelo de un F.P.B y un F.P.A de forma que el F.P.B. no dar\u00e1 la fci y el F.P.A. la fcs. De esta forma una se\u00f1al con frecuencia inferior a la fci tendr\u00e1 permitido el paso por el F.P.B. mientras que es rechazada por el F.P.A. y cuando la frecuencia es mayor que la fcs su paso estar\u00e1 permitido por el F.P.A. mientras que el F.P.B. las rechazar\u00e1, quedando de esta forma rechazada la banda entre ambas frecuencias. En la imagen 21 vemos el esquema y las ecuaciones de c\u00e1lculo del F.R.Bd. RC pasivo. Imagen 21 Esquema de un F.R.Bd. Mientras mas inclinada queramos que sea la curva de subida o bajada mayor complejidad tendr\u00e1 el filtro y utilizar\u00e1 muchos mas componentes. Existen infinidad de posibilidades y realmente existen filtros de much\u00edsima complejidad que ya no ser\u00e1n pasivos sino filtros activos. Ejemplos de filtros pasivos de mejor calidad son los conocidos como filtros en PI y en T que vemos en la imagen 22. Imagen 22 Esquemas de filtro en PI y en T En la imagen 23 vemos la respuesta en frecuencia de tipos complejos de filtros pasivos. Imagen 23 Curvas de respuesta de tipos de filtros Imagen obtenida en este enlace","title":"Conceptos b\u00e1sicos de filtros"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#orden-de-un-filtro","text":"La pendiente de caida, que idealmente debiera coincidir con el eje de ordenadas, determina el orden del filtro. El orden de los filtros y la perdida por cada decada los vemos en la tabla siguiente: Orden del filtro Perdida 1 20 dB/dec 2 40 dB/dec 3 60 dB/dec 4 80 dB/dec 5 100 dB/dec ... ... Las ca\u00eddas siempre van de 20 en 20 decibelios por decada. En la imagen 24 vemos representado el concepto de decada y la determinaci\u00f3n del orden del filtro por los decibelios perdidos. La decada para calcular las perdidas siempre debe tomarse en la parte recta de la ca\u00edda. Imagen 24 Concepto de decada y orden de un filtro A mayor orden de filtro mas complejidad tendr\u00e1 el circuito y ser\u00e1 mas caro de construir. De forma similar se puede trabajar con octavas y tendremos la tabla siguiente: Orden del filtro Perdida dB/dec Perdida dB/oct 1 6 dB/oct 20 dB/dec 2 12 dB/oct 40 dB/dec 3 18 dB/oct 60 dB/dec 4 24 dB/oct 80 dB/dec 5 30 dB/oct 100 dB/dec ... ... ... Las ca\u00eddas siempre van de 6 en 6 decibelios por octava. Recordemos que dos frecuencias est\u00e1n separadas una decada cuando una frecuencia es el doble de la otra, por ejemplo en una escala 0, 100, 200, 300, 400, 500, 600,... entre 100 y 200 hay una octava, entre 200 y 400 hay otra, entre 300 y 600 otra y as\u00ed sucesivamente. La frecuencia de corte se establece para una p\u00e9rdida de la mitad de la potencia y esto se produce cuando la ganancia ha ca\u00eddo 3 dB por debajo de la m\u00e1xima que corresponder\u00e1 a la parte plana de la curva de respuesta. En la imagen 25 vemos el concepto representado. Imagen 25 Perdida de 3 dB (fc)","title":"Orden de un filtro"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#ejemplo-de-fpb-rc-pasivo","text":"La imagen 26 muestra el esquema y las condiciones de simulaci\u00f3n del F.P.B. Se ha establecido 5 d\u00e9cadas para tener, con esos valores de componentes, una visualizaci\u00f3n \u00f3ptima. Imagen 26 F.P.B., fuente AC y opciones de simulaci\u00f3n En las opciones de simulaci\u00f3n hemos establecido los par\u00e1metros que procedemos a explicar a continuaci\u00f3n. Type of sweep - Establecemos el tipo de barrido en decadas. Number of points per decade - Con 50 puntos por decada tendremos una buena resoluci\u00f3n. Start frequency - Comenzamos el an\u00e1lisis a una frecuencia de 1 Hz. Stop frequency - Detenemos el an\u00e1lisis 5 decadas despu\u00e9s, o sea a 100 kHz. En la imagen 27 vemos el resultado de la simulaci\u00f3n con las condiciones establecidas. Imagen 27 Respuesta en frecuencia y fase del F.P.B. Si calculamos la frecuencia de corte tendremos que: En la imagen 28 se analizan los resultados obtenidos y vemos como el filtro cumple perfectamente con todo lo explicado. Imagen 28 An\u00e1lisis de la respuesta en frecuencia del F.P.B. Podemos descargar este ejemplo para su estudio.","title":"Ejemplo de F.P.B. RC pasivo"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#analisis-parametrico","text":"Se trata de un an\u00e1lisis que se realiza alg\u00fan par\u00e1metro del circuito, como puede ser la temperatura, una variable, el valor de un componente o la temperatura. Para cada valor del par\u00e1metro se repite el an\u00e1lisis obteniendo un conjunto de resultados.","title":"An\u00e1lisis param\u00e9trico"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#con-el-valor-de-un-componente","text":"El ejemplo que vamos a analizar es ver el efecto de variar la constante de tiempo de carga y descarga en un circuito RC variando el valor de la capacidad. Para definir una capacidad variable hay que colocar el nombre que le demos entre llaves, por ejemplo {Cap}. Vamos a comenzar por capturar el esquema de la imagen 29 configurando los distintos componentes tal y como aparece en la misma. Imagen 29 Circuito RC para an\u00e1lisis par\u00e1metrico Para establecer el par\u00e1metro de la capacidad debemos abrir el editor de texto de LTSpice y asegurarnos que tenemos seleccionada la opci\u00f3n SPICE directive . Debemos establecer una directiva con la sintaxis siguiente: .step param <variable> <valor_inicial> <valor_final> <increment> En nuestro caso vamos a establecer esta directiva tal y como se observa en la imagen 30. Imagen 30 Directiva con los par\u00e1metros de variaci\u00f3n de la capacidad El siguiente paso es configurar como tipo de an\u00e1lisis el temporal con la configuraci\u00f3n que vemos en la imagen 31. Imagen 31 Configuraci\u00f3n del tipo de an\u00e1lisis para observar los cambios en la constante de tiempo En la imagen 32 podemos observar las 8 curvas que se obtienen con los par\u00e1metros definidos. Imagen 32 Resultado del an\u00e1lisis param\u00e9trico Podemos descargar este ejemplo para su estudio.","title":"Con el valor de un componente"},{"location":"Instalaciones/LTSpice/Tipos-analisis/#con-la-temperatura","text":"La temperatura nominal (TNOM) establecida por defecto en SPICE es de 27\u00baC aunque es posible seleccionar otra diferente. LTSpice permite configurar las distintas opciones de simulaci\u00f3n, d\u00e1ndonos un mayor control sobre la simulaci\u00f3n de los circuitos. La sentencia que se utiliza es la siguiente: .options <option> <option = value> <option = value> ... La diferencia entre option solo o con una igualdad radica en que existen opciones que tienen valor num\u00e9rico y otras que no lo tienen. Las opciones sin valor son banderas que se activan con solo nombrarlas. Por ejemplo, la sentencia siguiente suprime la descripci\u00f3n del circuito en el fichero de salida. .options NOECHO Si necesitamos cambiar esta temperatura por defecto podemos poner, por ejemplo la siguiente sentencia: .options TNOM = 40C y el an\u00e1lisis se realizar\u00e1 a esa temperatura. Tambi\u00e9n se puede establecer la temperatura del an\u00e1lisis. Si indicamos m\u00e1s de una temperatura resultar\u00e1 un an\u00e1lisis param\u00e9trico con la temperatura como variable. La forma b\u00e1sica de esta directiva es: .temp <T1> <T2> <T3> ... Esto es equivalente a realizar un an\u00e1lisis param\u00e9trico del siguiente tipo: .step Temperaturas <T1> <T2> <T3> ... En la imagen 33 tenemos un circuito con diodo 1N4007, las condiciones establecidas y dos curvas para hacer la comparaci\u00f3n de la sentencia TNOM = 40C anterior. Si observamos con detalle vemos que las curvas son totalmente diferentes aunque en un principio se parezcan mucho, basta observar la escala del eje de ordenadas y comprobar como para un mismo valor de tensi\u00f3n la corriente es mayor en el caso de 27 \u00baC. Imagen 33 An\u00e1lisis del cambio de TNOM En la imagen 34 tenemos las curvas del diodo 1N4007 obtenidas a las diferentes temperaturas establecidas. Imagen 34 Curvas caracter\u00edsticas del diodo 1N4007 entre 20 y 120 \u00baC Podemos descargar este ejemplo para su estudio.","title":"Con la temperatura"},{"location":"Instalaciones/LTSpice/ref/","text":"Reflexi\u00f3n \u00b6 Aunque es evidente que se podr\u00eda continuar con el tema de forma casi indefinida ya fuese con otros dispositivos, electr\u00f3nica digital, los propios amplificadores operacionales que dan por si solo para varios tutoriales, en cuanto a LTSpice XVII vamos a dejarlo en este punto a partir del cual el lector puede profundizar todo lo que estime conveniente o necesite. Es obvio que se quedan muchas funcionalidades del programa e infinidad de dispositivos por tratar pero la idea fundamental de esto es, como se dice en la introducci\u00f3n, iniciarnos en la simulaci\u00f3n con KiCAD y es esto lo que vamos a hacer.","title":"Reflexi\u00f3n"},{"location":"Instalaciones/LTSpice/ref/#reflexion","text":"Aunque es evidente que se podr\u00eda continuar con el tema de forma casi indefinida ya fuese con otros dispositivos, electr\u00f3nica digital, los propios amplificadores operacionales que dan por si solo para varios tutoriales, en cuanto a LTSpice XVII vamos a dejarlo en este punto a partir del cual el lector puede profundizar todo lo que estime conveniente o necesite. Es obvio que se quedan muchas funcionalidades del programa e infinidad de dispositivos por tratar pero la idea fundamental de esto es, como se dice en la introducci\u00f3n, iniciarnos en la simulaci\u00f3n con KiCAD y es esto lo que vamos a hacer.","title":"Reflexi\u00f3n"},{"location":"Miscelanea/about/","text":"Autor \u00b6 Federico Coca GitHub Twitter Instagram Mas informaci\u00f3n","title":"Autor"},{"location":"Miscelanea/about/#autor","text":"Federico Coca GitHub Twitter Instagram Mas informaci\u00f3n","title":"Autor"},{"location":"Miscelanea/lic/","text":"Licencias \u00b6 Licencia MIT incluida en la creaci\u00f3n del repositorio. Creative Commons Atribuci\u00f3n-CompartirIgual 4.0 International (\"CC BY-SA\"). CC BY-SA 4.0","title":"Licencias"},{"location":"Miscelanea/lic/#licencias","text":"Licencia MIT incluida en la creaci\u00f3n del repositorio. Creative Commons Atribuci\u00f3n-CompartirIgual 4.0 International (\"CC BY-SA\"). CC BY-SA 4.0","title":"Licencias"},{"location":"Miscelanea/soft/","text":"Software utilizado \u00b6 Reimplantaci\u00f3n libre de la API de Windows para Linux: WineHQ , que instalaremos siguiendo las instrucciones del enlace. Simulador: LTspice Aplicaci\u00f3n para creaci\u00f3n de esquemas: KiCAD Web oficial , repositorio Sistema operativo: Ubuntu 20.04 LTS (Focal Fossa) Paquete ofim\u00e1tico de referencia: LibreOffice 6.4 Libreria Material para MkDocs Visual Studio Code Creaci\u00f3n de GIF animados para Ubuntu Peek Edici\u00f3n de GIF para ubuntu GIFcurry Sistema principal de capturas de pantalla: Shutter 0.94 Sistema secundario de capturas de pantalla: Flameshot 0.6.0 Dibujo 2D vectorial Inkscape 1.0 Retoque de im\u00e1genes GIMP 2.10.14","title":"Software utilizado"},{"location":"Miscelanea/soft/#software-utilizado","text":"Reimplantaci\u00f3n libre de la API de Windows para Linux: WineHQ , que instalaremos siguiendo las instrucciones del enlace. Simulador: LTspice Aplicaci\u00f3n para creaci\u00f3n de esquemas: KiCAD Web oficial , repositorio Sistema operativo: Ubuntu 20.04 LTS (Focal Fossa) Paquete ofim\u00e1tico de referencia: LibreOffice 6.4 Libreria Material para MkDocs Visual Studio Code Creaci\u00f3n de GIF animados para Ubuntu Peek Edici\u00f3n de GIF para ubuntu GIFcurry Sistema principal de capturas de pantalla: Shutter 0.94 Sistema secundario de capturas de pantalla: Flameshot 0.6.0 Dibujo 2D vectorial Inkscape 1.0 Retoque de im\u00e1genes GIMP 2.10.14","title":"Software utilizado"},{"location":"Miscelanea/webgrafia/","text":"Webgraf\u00eda y bibliograf\u00eda \u00b6 Blog sobre ajustes, soluci\u00f3n de problemas y personalizaci\u00f3n del PC PCsuggest C\u00f3mo instalar wine en ubuntu WineHQ para ubuntu De Analog Devices: LTSpice LTSPICE - An\u00e1lisis de circuitos y dispositivos electr\u00f3nicos libro electr\u00f3nico de M\u00f3nica Liliana Gonz\u00e1lez de la serie Libros de C\u00e1tedra publicado por la editorial de la Universidad nacional de la Plata. Wikipedia Wiki de LTSpice LT wiki Canal Youtube de Fernando Manso Centro de dise\u00f1o de Analog Devices Canal Youtube de Francisco M\u00e1rquez F\u00edsicayMates Convertidor online MyScript de ecuaciones escritas a mano alzada a formato Latex . An Interactive Guide To The Fourier Transform Tutoriales de Electr\u00f3nica Unicrom Github de Sebastian Stay","title":"Webgrafia/Bibliograf\u00eda"},{"location":"Miscelanea/webgrafia/#webgrafia-y-bibliografia","text":"Blog sobre ajustes, soluci\u00f3n de problemas y personalizaci\u00f3n del PC PCsuggest C\u00f3mo instalar wine en ubuntu WineHQ para ubuntu De Analog Devices: LTSpice LTSPICE - An\u00e1lisis de circuitos y dispositivos electr\u00f3nicos libro electr\u00f3nico de M\u00f3nica Liliana Gonz\u00e1lez de la serie Libros de C\u00e1tedra publicado por la editorial de la Universidad nacional de la Plata. Wikipedia Wiki de LTSpice LT wiki Canal Youtube de Fernando Manso Centro de dise\u00f1o de Analog Devices Canal Youtube de Francisco M\u00e1rquez F\u00edsicayMates Convertidor online MyScript de ecuaciones escritas a mano alzada a formato Latex . An Interactive Guide To The Fourier Transform Tutoriales de Electr\u00f3nica Unicrom Github de Sebastian Stay","title":"Webgraf\u00eda y bibliograf\u00eda"}]}